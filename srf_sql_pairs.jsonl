{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Md. Nazmul Islam\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 29-May-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno HIT\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: DD HIT Campaign_27th to 31st May25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 27-May-2025        ( End Date: 31-May-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDD Deno HIT\rDeno HIT\rDD will be given Deno HIT target. (Target will be provided by B2C)\rDeno: 709\rUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 50 PER HIT (DD wise HIT Target will be share by B2C).\r\rMaximum capping is 200%.\r\rAgent list of 31st May‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rExample:\r\r\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007\r\u0007Target\r\u0007HIT\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007RSO Code\r\u0007RSO MSISDN\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r 1st Jun‚Äô25\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Md. Nazmul Islam\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "-------------------------------REPORT HELPER QUERY------------------------------------\n\n-- STEP 1: CREATING COMMISSION TARGET TABLE\n--#HERE TARGET TABLE FOR THE COMMISSION WILL BE CREATED--#\nCREATE TABLE TEMP_FOR_DD_HIT_TAR_31MAY25 AS\nselect CHANNEL_CODE DD_CODE, TARGET from COM_KPI_CONDITION_TARGET \nWHERE REPORTCYCLE_ID = (SELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS \nwhere REPORTID = (SELECT REPORTID FROM COMMISSIONREPORT WHERE REPORTNAME = 'DD HIT Campaign_27th to 31st May25') and  --#HERE REPORT NAME WILL BE COMMISSOIN REPORT WISE --#\nCYCLEID = (SELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'May_25'));--106  Rows   --#HERE CYCLEDESCRIPTION WILL BE THE BASE MONTH --#\n\nSELECT * FROM TEMP_FOR_DD_HIT_TAR_31MAY25;--106  Rows  --# THIS IS THE CREATED TARGET TABLE --#\n\n-- STEP 2: CREATING THE AGENT LIST \n--DROP TABLE TEMP_FOR_AG_LST_MAP_31MAY25 PURGE;\nCREATE TABLE TEMP_FOR_AG_LST_MAP_31MAY25 AS\nSELECT TAR.*,AG.RET_CODE RETAILER_CODE, AG.RET_MOBILE RET_MSISDN \nFROM TEMP_FOR_DD_HIT_TAR_31MAY25 TAR \nINNER JOIN DD_RSO_RET_MAPPING_DAILY AG ON AG.DD_CODE=TAR.DD_CODE AND AG.DATA_DATE = '31-MAY-25';--553098  Rows --#HERE DATA DATE WILL BE THE LAST DATE OF THE CAMPAIGN PERIOD --#\n\nSELECT * FROM TEMP_FOR_AG_LST_MAP_31MAY25;--553098  Rows --#THIS IS THE CREATED AGENT LIST TABLE--#\nSELECT * FROM EV_RECHARGE_COM_DAILY;\n\n\n-- STEP 3: COMMISSION QUERY START \n--DROP TABLE TEMP_FOR_DD_HIT_DET_31_MAY25 PURGE;  \nCREATE TABLE TEMP_FOR_DD_HIT_DET_31_MAY25 AS  --#THIS THE 1ST DETAIL FOR THIS COMMISSION WHERE COMMISSION AMOUNT IN CALCULATED\nWITH RSO_WISE_ACHIEVEMENT AS ( \n    SELECT /*+ parallel(10) */ AG.DD_CODE,AG.TARGET,COUNT(RECHARGE_AMOUNT) HIT\n    FROM TEMP_FOR_AG_LST_MAP_31MAY25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '27-MAY-25' AND '31-MAY-25') AND EV.RECHARGE_AMOUNT IN (709)--# THIS LOGIC IS FOR Deno: 709 GIVEN CONDITION AND TOP_UP_DATE WILL BE Effective Date AS PER SRF--#\n    GROUP BY AG.DD_CODE,  AG.TARGET\n)\n--SELECT * FROM RSO_WISE_ACHIEVEMENT;--335  Rows\n-- STEP 4: CALCULATING ACHIEVMENT PERCENTAGE\n,RET_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,ROUND((HIT/TARGET)*100) ACH_PER\nFROM RSO_WISE_ACHIEVEMENT ACHIEVEMENT\n)\n--SELECT * FROM RET_WISE_PERCENTAGE;--354  Rows\n-- STEP 5: CALCULATING COMMISSION AMOUNT\n,CALCULATE_COMMISSION AS (\n    SELECT DD_CODE,  TARGET, HIT,ACH_PER,\n    CASE\n        WHEN  ACH_PER >= 200 THEN TARGET*2*50   --#COMMISSION AMOUNT IS CAPPED AT 200% AS PER SRF CONDITION\n        WHEN  ACH_PER >= 100 THEN HIT*50   --# SLAB WISE COMMISSION IS GIVEN HERE --#\n        ELSE 0\n    END COMMISSION\n    FROM RET_WISE_PERCENTAGE \n)\nSELECT * FROM CALCULATE_COMMISSION;--134  Rows --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_HIT_DET_31_MAY25) --#\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;--310950 TAKA\n\n-- STEP 6: CHECKING THE CRATED TABLE DATA\nSELECT * FROM TEMP_FOR_DD_HIT_DET_31_MAY25;--318  Rows\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_HIT_DET_31_MAY25;--53400         241835      177710      310950           276220           337595      360780  TK\n\n-------------DETAIL------------\n--STEP 7: CREATING 2ND DETAIL TABLE\n--DROP TABLE TEMP_FOR_DD_HIT_DET2_31MAY25 PURGE;\nCREATE TABLE TEMP_FOR_DD_HIT_DET2_31MAY25 AS\nWITH DD_WISE_ACHIEVEMENT AS ( \n    SELECT AG.DD_CODE,RETAILER_CODE,RET_MSISDN,SUB_MSISDN CUSTOMER_MSISDN,RECHARGE_AMOUNT\n    FROM TEMP_FOR_AG_LST_MAP_31MAY25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '27-MAY-25' AND '31-MAY-25') AND EV.RECHARGE_AMOUNT IN (709)--# THIS LOGIC IS FOR Deno: 709 GIVEN CONDITION AND TOP_UP_DATE WILL BE Effective Date--#\n)\nSELECT * FROM DD_WISE_ACHIEVEMENT;--1151  Rows\n\nselect * from TEMP_FOR_DD_HIT_DET2_31MAY25;--1151  Rows --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_HIT_DET2_31MAY25) --#\n\n\n\n---------------------------------REPORT SETUP QUERY--------------------------------------------------\n--STEP 8: PREPARE FOR REPORT PUBLISHING\n\n--REPORT_ID : 7968 (UPDATE WITH ACTUAL REPORT ID) \n-- 7968 9954 64514\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'DD HIT Campaign_27th to 31st May25';\n-- BASE_CYCLE_ID : 9954  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (May_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'May_25'; --base month\n-- REPORT_CYCLE_ID : 64514 (UPDATE WITH ACTUAL REPORT CYCLE ID) \nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7968 and  CYCLEID = 9954;--64514\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 64514;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 64514;\n--commit;\n\n-- INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 64514 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_DD_HIT_DET_31_MAY25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 64514; --53400        241835   TAKA\n\n--PUBLISH_CYCLE_ID : 64514  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jun_25 if today = 30-Jun-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jun_25'; --Publish month --9954\n \n--STEP 9: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\nEXEC PROC_COMMISSION_DETAIL_SETUP('DD HIT Campaign_27th to 31st May25',10074,'TEMP_FOR_DD_HIT_DET_31_MAY25','SUMMERY_DETAIL','TEMP_FOR_DD_HIT_DET2_31MAY25','MSISDN_DETAIL');\n\n--STEP 10: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('DD HIT Campaign_27th to 31st May25', 64514,'May_25', 'Jun_25',290, 1);\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Delower Hossen ROBIN\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 18-Feb-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno Recharge\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Bundle Booster Campaign_19th to 23rd Feb25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 19-Feb-2025        ( End Date: 23-Feb-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno Recharge\rDeno Recharge\rDistributor will be given Deno Recharge target. (Target will be provided by B2C)\rSelected Deno will be consider for performance calculation. \r\rDeno: ALL Deno (Deno List will share by B2C)\rUpon achieving Deno Recharge target (Cumulative of DENO), Distributor will be given incentives as per below Slab (Distributor wise Recharge Target will be share by B2C).\r\rIn Addition: Bonus incentive for DD: if Region achieved 100% Recharge target, then >=100% achiever DD‚Äôs will get additional 0.10% bonus incentive on total Recharge amount on top their incentive slab.\r\rExample for Additional Bonus incentive Calculation: if DD achieves >=100% target, then DD will get 0.8%+0.10% incentive. for >=110% achievers DD, incentive will be 0.9%+0.10%\rAgent list of 23rd Feb‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rIncentive Slab\r\u0007Incentive of Total Recharge Amount\r\u0007Additional Incentives if Region achieve 100%\r\u0007\r\u0007\r\u0007\r\u0007100%-109%\r\u00070.8% of Total Recharge Amoun\r\u00070.8%+0.10%\r\u0007\r\u0007\r\u0007\r\u0007110% and Above\r\u00070.9% of Total Recharge Amoun\r\u00070.9%+0.10%\r\u0007\r\u0007\r\u0007\r\u0007\r\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007DD Code\r\u0007Target Recharge\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r15th Dec‚Äô24\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Delower Hossen ROBIN\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "-------------------------------HELPER QUERY------------------------------------\n\n--# STEP 1: CREATING THE SUPPORTING DATA\n--#HERE TARGET TABLE FOR THE COMMISSION WILL BE CREATED--#\n--drop table DD_19_23_FEB25_62372 purge;\n--CREATE TABLE DD_19_23_FEB25_62372 AS\n--select CHANNEL_CODE DD_CODE, TARGET from COM_KPI_CONDITION_TARGET \n--WHERE REPORTCYCLE_ID = (SELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS \n--where REPORTID = (SELECT REPORTID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Bundle Booster_Central Cluster_25th to 31sth Jan25') and  \n--CYCLEID = (SELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jan_25'));--1278  Rows\n\nSELECT * FROM DD_19_23_FEB25_62372;--238  Rows --# THIS IS THE CREATED TARGET TABLE --#\n\nUPDATE DD_19_23_FEB25_62372 SET RECHARGE_TARGET = ROUND(RECHARGE_TARGET); --#UPDATING THE TABLE FOR ROUNDING TARGET--#\nCOMMIT;\n\n--# STEP 2: CREATING THE AGENT LIST \n--DROP TABLE TEMP_FOR_AGLIST_MAP_23FEB25 PURGE;\nCREATE TABLE TEMP_FOR_AGLIST_MAP_23FEB25 AS\nSELECT TAR.*,AG.RETAILER_CODE, AG.TOPUP_MSISDN RET_MSISDN \nFROM DD_19_23_FEB25_62372 TAR \nINNER JOIN AGENT_LIST_DAILY AG ON AG.DIST_CODE=TAR.DD_CODE AND AG.DATA_DATE = '23-FEB-25';--117982  Rows   --#HERE DATA DATE WILL BE THE LAST DATE OF THE CAMPAIGN PERIOD --#   \n\nSELECT * FROM TEMP_FOR_AGLIST_MAP_23FEB25;--425194  Rows --#THIS IS THE CREATED AGENT LIST TABLE--#\n\n--DROP TABLE TEMP_FOR_DD_DN_DET_19_23FEB25 PURGE;\nCREATE TABLE TEMP_FOR_DD_DN_DET_19_23FEB25 AS --#THIS THE 1ST DETAIL FOR THIS COMMISSION WHERE COMMISSION AMOUNT IN CALCULATED\nWITH DD_WISE_ACHIEVEMENT AS ( \n    SELECT AG.REGION,AG.DD_CODE,AG.RECHARGE_TARGET TARGET,SUM(RECHARGE_AMOUNT) TOTAL_RECHARGE\n    FROM TEMP_FOR_AGLIST_MAP_23FEB25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '19-FEB-25' AND '23-FEB-25') AND EV.RECHARGE_AMOUNT IN ( --#THIS LOGIC IS FOR Effective Date: 19-Feb-2025 End Date: 23-Feb-2025 IN THE SRF --#\n19,27,34,36,47,48,56,57,58,64,69,77,81,86,96,97,99,104,117,118,127,129,147,148,149,157,\n167,169,177,196,197,198,199,207,209,222,224,227,229,247,248,249,296,297,298,299,319,337,348,\n396,397,398,399,448,497,498,499,548,549,597,599,649,698,699,798,799,897,899,998,1397\n)\n    GROUP BY AG.REGION,AG.DD_CODE,  AG.RECHARGE_TARGET\n)\n--SELECT * FROM DD_WISE_ACHIEVEMENT;--53  Rows\n,DD_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,ROUND((TOTAL_RECHARGE/TARGET)*100) ACH_PER\nFROM DD_WISE_ACHIEVEMENT ACHIEVEMENT\n)\n--SELECT * FROM DD_WISE_PERCENTAGE;--53  Rows\n,CENTRAL_WISE_PERCENTAGE AS (\nSELECT REGION, SUM(TARGET) REGION_TARGET, SUM(TOTAL_RECHARGE) CENTRAL_RECHARGE,ROUND((SUM(TOTAL_RECHARGE)/SUM(TARGET))*100) REGION_ACH_PER\nFROM DD_WISE_ACHIEVEMENT ACHIEVEMENT\nGROUP BY REGION\n)\n--SELECT * FROM CENTRAL_WISE_PERCENTAGE;--358  Rows\n,CALCULATE_COMMISSION AS (\n    SELECT DD_CODE,  TARGET, TOTAL_RECHARGE,ACH_PER,REGION_ACH_PER,\n    CASE\n        WHEN  ACH_PER >= 110 AND REGION_ACH_PER >= 100 THEN ROUND((TOTAL_RECHARGE*.009)+(TOTAL_RECHARGE*.0010)) --#CHECKING SLAB WISE ACH PER COMMISSION CALCULATION--#\n        WHEN  ACH_PER >= 110 THEN ROUND(TOTAL_RECHARGE*.009) --#CHECKING SLAB WISE ACH PER COMMISSION CALCULATION--#\n        WHEN  ACH_PER >= 100 AND REGION_ACH_PER >= 100 THEN ROUND((TOTAL_RECHARGE*.008)+(TOTAL_RECHARGE*.0010)) --#CHECKING SLAB WISE ACH PER COMMISSION CALCULATION--#\n        WHEN  ACH_PER >= 100 THEN ROUND(TOTAL_RECHARGE*.008) --#CHECKING SLAB WISE ACH PER COMMISSION CALCULATION--#\n        ELSE 0\n    END COMMISSION\n    FROM DD_WISE_PERCENTAGE DD\n    LEFT JOIN CENTRAL_WISE_PERCENTAGE CC ON CC.REGION = DD.REGION\n    \n)\nSELECT * FROM CALCULATE_COMMISSION;--53  Rows --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_DN_DET_6_10MAE25) --#\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;--273873 TK\n\n-- STEP 6: CHECKING THE CREATED TABLE DATA\nSELECT * FROM TEMP_FOR_DD_DN_DET_19_23FEB25;--236  Rows\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_DN_DET_19_23FEB25;--273873 TK\n\n------------------SETUP-------------\n--STEP 12: PREPARE FOR REPORT PUBLISHING\n\n--REPORT_ID : 7968 (UPDATE WITH ACTUAL REPORT ID) \n-- 7657 9754 62834\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Bundle Booster Campaign_19th to 23rd Feb25';\n-- BASE_CYCLE_ID : 9754  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Feb_25'; --base month\n-- REPORT_CYCLE_ID : 62834 (UPDATE WITH ACTUAL REPORT CYCLE ID)\nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7581 and  CYCLEID = 9674;--62372\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 62372;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 62372;\n--commit;\n\n-- INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 62372 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_DD_DN_DET_19_23FEB25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 62372; -- 273873 TAKA\n\n--PUBLISH_CYCLE_ID : 9754  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jun_25 if today = 30-Jun-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Feb_25'; --base month\n\n--STEP 12: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\n--EXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Bundle Booster Campaign_19th to 23rd Feb25',9674,'TEMP_FOR_DD_DN_DET_19_23FEB25','SUMMARY DETAILS');\n\n --STEP 13: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\n--EXEC FINALIZE_REPORT_ADHOC('Distributor Bundle Booster Campaign_19th to 23rd Feb25', 62372,'Feb_25', 'Feb_25',290, 1);\n\n\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Delower Hossen ROBIN\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 11-Mar-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno Recharge\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Bundle Booster Campaign_6th to 10th Mar25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 6-Mar-2025        ( End Date: 10-Mar-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno Recharge\rDeno Recharge\rDistributor will be given Deno Recharge target. (Target will be provided by B2C)\r\rDeno: ALL Deno (Deno List will share by B2C)\r\rUpon achieving Deno Recharge target (Cumulative of DENO), Distributor will be given incentives as per below Slab (Distributor wise Recharge Target will be share by B2C).\r\rIn Addition: Bonus incentive for DD: if Region achieved 100% Recharge target, then >=100% achiever DD‚Äôs will get additional 0.10% bonus incentive on total Recharge amount on top their incentive slab.\r\rExample for Additional Bonus incentive Calculation: if DD achieves >=100% target, then DD will get 0.8%+0.10% incentive. for >=110% achievers DD, incentive will be 0.9%+0.10%\r                                                                       Special Support\rEligible DHs: DD‚Äôs Bundle booster Phase-1 (1-5 March) Campaign Name ‚ÄúDistributor Bundle Booster Campaign_1st to 5th Mar25‚Äù campaign achievements is <=90%\rif these DHs achieve 32% monthly total bundle target by 1-10 March, then 1% incentive will be given on total values. (1st to 10th Mar‚Äô25 target will be share by B2C)\rSpecial support achiever DHs will not be entitled for Additional Bonus incentive.\r\rNote: ‚Ä¢\tIf DHs under the Special Support Scheme fail to achieve 1st to 10th Mar‚Äô25 target but achieve 6th to 10th Mar‚Äô25 target, they will qualify for the regular incentive modality (0.8% incentive, 0.9% incentive) and Additional Bonus incentive (0.1% incentive).\r\rAgent list of 10th Mar‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rüìå Incentive Structure for DDs & Special Support Scheme\r\rEligibility Criteria\r\u0007Achievement Target (%)\r\u0007Base Incentive (%)\r\u0007Bonus Eligibility\r\u0007Total Incentive (%)\r\u0007\r\u0007Regular DD Incentive\r\u0007‚â•100% of target\r\u00070.8%\r\u0007‚úÖ If Region hits 100%, extra 0.1% bonus\r\u00070.9% (0.8%+0.1%)\r\u0007\r\u0007Regular DD Incentive\r\u0007‚â•110% of target\r\u00070.9%\r\u0007‚úÖ If Region hits 100%, extra 0.1% bonus\r\u00071.0% (0.9%+0.1%)\r\u0007\r\u0007Special Support Scheme (For DHs with ‚â§90% achievement in DD‚Äôs Bundle Booster Phase-1, March 1-5)\r\u0007Achieve 32% of Monthly Target \r(March 1-10)\r\u00071% on Total Values\r\u0007‚ùå Not Eligible for Bonus\r\u00071%\r\u0007\r\u0007Special Support Scheme (For DHs who fail to achieve 32% but reach at least 16% of Monthly Target equivalent volume, March 6-10)\r\u000716% of Monthly Target Equivalent Volume\r\u00070.8% (Regular Modality Incentive)\r\u0007‚úÖ Eligible for Bonus\r\u00070.9% (0.8%+0.1%)\r\u0007\r\u0007\r\rIncentive Slab\r\u0007Incentive of Total Recharge Amount\r\u0007Additional Incentives if Region achieve 100%\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007100%-109%\r\u00070.8% of Total Recharge Amoun\r\u00070.8%+0.10%\r\u0007\r\u0007\r\u0007\r\u0007110% and Above\r\u00070.9% of Total Recharge Amoun\r\u00070.9%+0.10%\r\u0007\r\u0007\r\u0007\r\u0007\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007DD Code\r\u0007Target Recharge\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r6th Mar‚Äô25\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Delower Hossen ROBIN\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "-------------------------------HELPER QUERY------------------------------------\n\n--# STEP 1: CREATING THE SUPPORTING DATA\n--#HERE TARGET TABLE FOR THE COMMISSION WILL BE CREATED--#\n--drop table DD_6TH_10TH_MAR25_62834 purge;\n--CREATE TABLE DD_6TH_10TH_MAR25_62834 AS\n--select CHANNEL_CODE DD_CODE, TARGET from COM_KPI_CONDITION_TARGET \n--WHERE REPORTCYCLE_ID = (SELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS \n--where REPORTID = (SELECT REPORTID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Bundle Booster_Central Cluster_25th to 31sth Jan25') and  \n--CYCLEID = (SELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jan_25'));--1278  Rows --# WE PROVIDE COMMISSION NAME AND BASE MONTH HERE, AND THEN WE FIND THE TARGET FILE DATA --#\n\nSELECT * FROM DD_6TH_10TH_MAR25_62834;--337  Rows --# THIS IS THE CREATED TARGET TABLE --#\n\nUPDATE DD_6TH_10TH_MAR25_62834 SET TGT_6TH_10TH_MAR = ROUND(TGT_6TH_10TH_MAR),TGT_1ST_10TH_MAR=round(TGT_1ST_10TH_MAR); --#UPDATING THE TABLE FOR ROUNDING TARGET--#\nCOMMIT;\n\n--# STEP 2: CREATING THE AGENT LIST \nSELECT * FROM dd_rso_ret_mapping_daily;\n--DROP TABLE TEMP_FOR_AGLIST_MAP_10MAR25 PURGE;\nCREATE TABLE TEMP_FOR_AGLIST_MAP_10MAR25 AS\nSELECT TAR.*,AG.RET_CODE, AG.RET_MOBILE \nFROM DD_6TH_10TH_MAR25_62834 TAR \nINNER JOIN dd_rso_ret_mapping_daily AG ON AG.DD_CODE=TAR.D_CODE AND AG.DATA_DATE = '10-MAR-25';--117982  Rows     --#HERE DATA DATE WILL BE THE LAST DATE OF THE CAMPAIGN PERIOD --#\n\nSELECT * FROM TEMP_FOR_AGLIST_MAP_10MAR25;--560984  Rows --#THIS IS THE CREATED AGENT LIST TABLE--#\n\n-- STEP 3: COMMISSION QUERY START \n--DROP TABLE TEMP_FOR_DD_DN_DET_6_10MAE25 PURGE;\nCREATE TABLE TEMP_FOR_DD_DN_DET_6_10MAE25 AS  --#THIS THE 1ST DETAIL FOR THIS COMMISSION WHERE COMMISSION AMOUNT IN CALCULATED  --#\nWITH DD_WISE_ACHIEVEMENT AS ( \n    SELECT AG.REGION,AG.D_CODE DD_CODE,AG.TGT_6TH_10TH_MAR TARGET,SUM(RECHARGE_AMOUNT) TOTAL_RECHARGE\n    FROM TEMP_FOR_AGLIST_MAP_10MAR25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MOBILE   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '6-MAR-25' AND '10-MAR-25') --#THIS LOGIC IS FOR Effective Date: 6-Mar-2025  End Date: 10-Mar-2025 IN THE SRF --#\n    AND EV.RECHARGE_AMOUNT IN (             --#DENO OR RECHARGE AMOUNT IS SHARED IN EXECL FOR THE CONDITION Deno: ALL Deno (Deno List will share by B2C) IN THE SRF --#\n    19,27,34,36,47,48,56,57,58,64,69,77,81,86,96,97,99,104,117,118,\n127,129,137,147,149,157,167,169,177,188,196,197,198,199,207,209,\n222,224,227,229,247,248,259,296,297,298,299,307,347,348,396,397,\n398,399,448,497,498,499,548,549,597,599,649,698,699,719,797,798,\n799,897,899,997,998,1199,1397,1899,1999\n    )\n    GROUP BY AG.REGION,AG.D_CODE,  AG.TGT_6TH_10TH_MAR\n)\n--SELECT * FROM DD_WISE_ACHIEVEMENT;--334  Rows\n-- STEP 4: CALCULATING ACHIEVMENT PERCENTAGE\n,DD_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,ROUND((TOTAL_RECHARGE/TARGET)*100) ACH_PER\nFROM DD_WISE_ACHIEVEMENT ACHIEVEMENT\n)\n--SELECT * FROM DD_WISE_PERCENTAGE;--334  Rows\n-- STEP 5: CALCULATING REGION WISE ACHIEVMENT PERCENTAGE\n,CENTRAL_WISE_PERCENTAGE AS (\nSELECT REGION, SUM(TARGET) REGION_TARGET, SUM(TOTAL_RECHARGE) CENTRAL_RECHARGE,ROUND((SUM(TOTAL_RECHARGE)/SUM(TARGET))*100) REGION_ACH_PER\nFROM DD_WISE_ACHIEVEMENT ACHIEVEMENT\nGROUP BY REGION\n)\n--SELECT * FROM CENTRAL_WISE_PERCENTAGE;--22  Rows\n-- STEP 6: CALCULATING COMMISSION AMOUNT\n,CALCULATE_COMMISSION AS (\n    SELECT DD_CODE,  TARGET, TOTAL_RECHARGE,ACH_PER,REGION_ACH_PER,\n    CASE\n        WHEN  ACH_PER >= 110 AND REGION_ACH_PER >= 100 THEN ROUND((TOTAL_RECHARGE*.009)+(TOTAL_RECHARGE*.0010)) --#CHECKING SLAB WISE ACH PER AND REGION WISE ACH PER FOR ADDITIONAL BONUS  AND COMMISSION CALCULATION--#\n        WHEN  ACH_PER >= 110 THEN ROUND(TOTAL_RECHARGE*.009) --#CHECKING SLAB WISE ACH PER COMMISSION CALCULATION--#\n        WHEN  ACH_PER >= 100 AND REGION_ACH_PER >= 100 THEN ROUND((TOTAL_RECHARGE*.008)+(TOTAL_RECHARGE*.0010))  --#CHECKING SLAB WISE ACH PER AND REGION WISE ACH PER FOR ADDITIONAL BONUS  AND COMMISSION CALCULATION--#\n        WHEN  ACH_PER >= 100 THEN ROUND(TOTAL_RECHARGE*.008) --#CHECKING SLAB WISE ACH PER COMMISSION CALCULATION--#\n        ELSE 0\n    END COMMISSION\n    FROM DD_WISE_PERCENTAGE DD\n    LEFT JOIN CENTRAL_WISE_PERCENTAGE CC ON CC.REGION = DD.REGION\n    \n)\nSELECT * FROM CALCULATE_COMMISSION;--334  Rows  --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_DN_DET_6_10MAE25) --#\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;--388049 TK\n\n-- STEP 7: CHECKING THE CREATED TABLE DATA\nSELECT * FROM TEMP_FOR_DD_DN_DET_6_10MAE25;--334  Rows\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_DN_DET_6_10MAE25;--1276325 TK\n\n\n-- STEP 8: LOGIC FOR SPECIAL SUPPORT\n\n--DROP TABLE TEMP_FOR_AGLIST_MAP_10MAR25 PURGE;\nCREATE TABLE TEMP_FOR_AGLIST_MAP_10MAR25 AS\nSELECT TAR.*,AG.RET_CODE, AG.RET_MOBILE \nFROM DD_6TH_10TH_MAR25_62834 TAR \nINNER JOIN dd_rso_ret_mapping_daily AG ON AG.DD_CODE=TAR.D_CODE AND AG.DATA_DATE = '10-MAR-25';--117982  Rows  --#HERE DATA DATE WILL BE THE LAST DATE OF THE CAMPAIGN PERIOD --#\n\nSELECT * FROM TEMP_FOR_AGLIST_MAP_10MAR25; --#THIS IS THE CREATED AGENT LIST TABLE--#\n--Distributor Bundle Booster Campaign_1st to 5th Mar25\nSELECT * FROM TEMP_FOR_DD_DN_DET_1_5MAR25;--334  Rows  --#NO NEED TO CREATE THIS TABLE. THIS IS THE ACHIEVMENT TABLE FOR COMMISSION Distributor Bundle Booster Campaign_1st to 5th Mar25 --# \n\n\n-- STEP 9: SPECIAL SUPPORT QUERY START\n--DROP TABLE TEMP_FOR_DD_DN_DET_1_10MAE25 PURGE;\nCREATE TABLE TEMP_FOR_DD_DN_DET_1_10MAE25 AS  --#THIS IS THE 1ST DETAIL FOR THE SPECIAL SUPPORT WHERE COMMISSION AMOUNT IN CALCULATED\nWITH DD_WISE_ACHIEVEMENT AS ( \n    SELECT AG.REGION,AG.D_CODE DD_CODE,AG.TGT_1ST_10TH_MAR,SUM(RECHARGE_AMOUNT) TOTAL_RECHARGE\n    FROM TEMP_FOR_AGLIST_MAP_10MAR25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MOBILE   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '1-MAR-25' AND '10-MAR-25')  --#THIS LOGIC IS FOR Effective Date: 6-Mar-2025 ? End Date: 10-Mar-2025 IN THE SRF --#\n    AND EV.RECHARGE_AMOUNT IN (         --#DENO OR RECHARGE AMOUNT IS SHARED IN EXECL FOR THE CONDITION Deno: ALL Deno (Deno List will share by B2C) IN THE SRF --#\n    19,27,34,36,47,48,56,57,58,64,69,77,81,86,96,97,99,104,117,118,\n127,129,137,147,149,157,167,169,177,188,196,197,198,199,207,209,\n222,224,227,229,247,248,259,296,297,298,299,307,347,348,396,397,\n398,399,448,497,498,499,548,549,597,599,649,698,699,719,797,798,\n799,897,899,997,998,1199,1397,1899,1999\n    )\n    GROUP BY AG.REGION,AG.D_CODE,  AG.TGT_1ST_10TH_MAR\n)\n--SELECT * FROM DD_WISE_ACHIEVEMENT;--334  Rows\n-- STEP 10: CALCULATING ACHIEVMENT PERCENTAGE\n,DD_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,ROUND((TOTAL_RECHARGE/TGT_1ST_10TH_MAR)*100) ACH_PER_1_10MAR\nFROM DD_WISE_ACHIEVEMENT ACHIEVEMENT\n)\n--SELECT * FROM DD_WISE_PERCENTAGE;--334  Rows\n-- STEP 11: CHECKING 90 PERCENT ACH GATE\n,ACHIVMENT_PERTICIPATION AS (\nSELECT TAR.DD_CODE,ACH.TGT_1ST_10TH_MAR,ACH.TOTAL_RECHARGE,ACH_PER_1_10MAR\nFROM TEMP_FOR_DD_DN_DET_1_5MAR25 TAR\nLEFT JOIN DD_WISE_PERCENTAGE ACH ON TAR.DD_CODE=ACH.DD_CODE\nWHERE TAR.ACH_PER <=90    --# SELECTING ALL DD WHO HAVE AHCHIEVMENT BELOW 90 PERCENCT IN PREVIOUS COMMISSION --#\n)\n--SELECT * FROM ACHIVMENT_PERTICIPATION;\n-- STEP 12: CALCULATING COMMISSION AMOUNT FOR SPECIAL SUPPORT\n,CALCULATE_COMMISSION AS (\n    SELECT DD_CODE,TGT_1ST_10TH_MAR,TOTAL_RECHARGE,ACH_PER_1_10MAR,\n    CASE\n        WHEN  ACH_PER_1_10MAR >= 100 THEN ROUND(TOTAL_RECHARGE*.01)  --#GIVING Additional Bonus incentive (0.1% incentive). AS PER SRF\n        ELSE 0\n    END COMMISSION\n    FROM ACHIVMENT_PERTICIPATION DD\n)\nSELECT * FROM CALCULATE_COMMISSION;--156  Rows\n\nSELECT * FROM TEMP_FOR_DD_DN_DET_1_10MAE25; ---SPECIAL SUPPORT 1-10 MAR 156  Rows  --# CREATE THE 1ST DETAILS TABLE FOR SPECIAL SUPPORT FROM HERE (TEMP_FOR_DD_DN_DET_1_10MAE25) --#\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_DN_DET_1_10MAE25; --454447 TK\nSELECT * FROM TEMP_FOR_DD_DN_DET_6_10MAE25; --REGULAR PERTICIPATION 6-10 MAR 334  Rows\n\n-----------FINAL COMMISSION -------------\n\n-- STEP 12: MERGING ALL COMMISSION \nWITH FINAL_COMMISSION AS (\nSELECT DD_CODE, COMMISSION FROM TEMP_FOR_DD_DN_DET_1_10MAE25\nUNION ALL\nSELECT DD_CODE, COMMISSION FROM TEMP_FOR_DD_DN_DET_6_10MAE25 WHERE DD_CODE NOT IN (SELECT DD_CODE FROM TEMP_FOR_DD_DN_DET_1_10MAE25 WHERE ACH_PER_1_10MAR >= 100) --178  Rows\n)\nSELECT * FROM FINAL_COMMISSION; --334  Rows\nSELECT SUM(COMMISSION) FROM FINAL_COMMISSION; --14,51,642\n\n\n------------------SETUP-------------\n--STEP 13: PREPARE FOR REPORT PUBLISHING\n\n--REPORT_ID : 7968 (UPDATE WITH ACTUAL REPORT ID) \n-- 7657 9754 62834\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Bundle Booster Campaign_6th to 10th Mar25';\n-- BASE_CYCLE_ID : 9754  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Mar_25'; --base month\n-- REPORT_CYCLE_ID : 62834 (UPDATE WITH ACTUAL REPORT CYCLE ID) \nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7657 and  CYCLEID = 9754;--62834\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 62834;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 62834;\n--commit;\n\n-- INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 62834 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nWITH FINAL_COMMISSION AS (\nSELECT DD_CODE, COMMISSION FROM TEMP_FOR_DD_DN_DET_1_10MAE25\nUNION ALL\nSELECT DD_CODE, COMMISSION FROM TEMP_FOR_DD_DN_DET_6_10MAE25 WHERE DD_CODE NOT IN (SELECT DD_CODE FROM TEMP_FOR_DD_DN_DET_1_10MAE25 WHERE ACH_PER_1_10MAR >= 100) --178  Rows\n)\nSELECT * FROM FINAL_COMMISSION\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 62834; -- 1451642 TAKA\n\n--PUBLISH_CYCLE_ID : 9754  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jun_25 if today = 30-Jun-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Mar_25'; --Publish month\n\n \n--STEP 14: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\n--EXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Bundle Booster Campaign_6th to 10th Mar25',9754,'TEMP_FOR_DD_DN_DET_1_10MAE25','SPECIAL SUP DETAIL','TEMP_FOR_DD_DN_DET_6_10MAE25','REGULAR COM DETAIL');\n\n--STEP 15: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\n--EXEC FINALIZE_REPORT_ADHOC('Distributor Bundle Booster Campaign_6th to 10th Mar25', 62834,'Mar_25', 'Mar_25',290, 1);\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Delower Hossen ROBIN\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 8-May-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno Recharge\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Bundle Booster_10th to 15th May25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 10-May-2025        ( End Date: 15-May-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno Recharge\rDeno Recharge\rDistributor will be given Deno Recharge target. (Target will be provided by B2C)\rSelected Deno will be consider for performance calculation. \r\rDeno: ALL Deno (Deno List will share by B2C)\rUpon achieving Deno Recharge target (Cumulative of DENO), Distributor will be given incentives as per below Slab (Distributor wise Recharge Target will be share by B2C).\r\rAgent list of 15th May‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rIncentive Slab\r\u0007Incentive of Total Recharge Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Slab-1\r\u00070.7% of Total Recharge Amoun\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Slab-2\r\u00070.8% of Total Recharge Amoun\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Slab-3\r\u00070.9% of Total Recharge Amoun\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Example:\r\r\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007DD Code\r\u0007Target Recharge\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r9th May‚Äô25\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Delower Hossen ROBIN\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "-------------------------------HELPER QUERY------------------------------------\n--# STEP 1: CREATING THE SUPPORTING DATA\n--#HERE TARGET TABLE FOR THE COMMISSION WILL BE CREATED--#\n--drop table DD_BOOSTER_10_15_MAY25_64075 purge;\n--CREATE TABLE DD_BOOSTER_10_15_MAY25_64075 AS\n--select CHANNEL_CODE DD_CODE, TARGET from COM_KPI_CONDITION_TARGET \n--WHERE REPORTCYCLE_ID = (SELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS \n--where REPORTID = (SELECT REPORTID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Bundle Booster Campaign_20th to 24th Mar25') and  \n--CYCLEID = (SELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Mar_25'));--1278  Rows\n\nSELECT * FROM DD_BOOSTER_10_15_MAY25_64075; -- 333  Rows\n\n\nUPDATE DD_BOOSTER_10_15_MAY25_64075 SET SLAB_1_TARGET = ROUND(SLAB_1_TARGET),SLAB_2_TARGET = ROUND(SLAB_2_TARGET),SLAB_3_TARGET = ROUND(SLAB_3_TARGET); --#UPDATING THE TABLE FOR ROUNDING TARGET--#\nCOMMIT;\n\n--# STEP 2: CREATING THE AGENT LIST \nSELECT * FROM dd_rso_ret_mapping_daily;\n--DROP TABLE TEMP_FOR_AGLIST_MAP_15MAY25 PURGE;\nCREATE TABLE TEMP_FOR_AGLIST_MAP_15MAY25 AS\nSELECT TAR.*,AG.RET_CODE, AG.RET_MOBILE \nFROM DD_BOOSTER_10_15_MAY25_64075 TAR \nINNER JOIN dd_rso_ret_mapping_daily AG ON AG.DD_CODE=TAR.D_CODE AND AG.DATA_DATE = '15-MAY-25';--117982  Rows     \n\nSELECT * FROM TEMP_FOR_AGLIST_MAP_15MAY25;-- 554393  Rows  --#THIS IS THE CREATED AGENT LIST TABLE--#\n\n--DROP TABLE TEMP_FOR_DD_DN_DET_10_15MAY25 PURGE;\n--CREATE TABLE TEMP_FOR_DD_DN_DET_10_15MAY25 AS\nWITH DD_WISE_ACHIEVEMENT AS ( \n    SELECT AG.D_CODE DD_CODE,AG.SLAB_1_TARGET,AG.SLAB_2_TARGET,AG.SLAB_3_TARGET,SUM(RECHARGE_AMOUNT) TOTAL_RECHARGE\n    FROM TEMP_FOR_AGLIST_MAP_15MAY25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MOBILE   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '10-MAY-25' AND '15-MAY-25') AND EV.RECHARGE_AMOUNT IN ( --#THIS LOGIC IS FOR Effective Date: 10-May-2025 End Date: 15-May-2025 IN THE SRF --#\n    19,27,32,42,48,57,58,69,74,77,79,81,97,99,104,117,118,\n    124,127,129,147,149,167,169,177,197,198,199,207,209,219,\n    222,224,227,239,247,249,297,298,299,347,348,349,397,398,\n    399,448,449,497,498,499,548,549,629,648,649,719,729,748,\n    797,848,849,897,899,997,998,1199,1258,1397,1899,1999\n    )\n    GROUP BY AG.D_CODE, AG.SLAB_1_TARGET,AG.SLAB_2_TARGET,AG.SLAB_3_TARGET\n)\n--SELECT * FROM DD_WISE_ACHIEVEMENT;-- 328  Rows\n,DD_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,\nROUND((TOTAL_RECHARGE/SLAB_1_TARGET)*100) ACH_PER_1,\nROUND((TOTAL_RECHARGE/SLAB_2_TARGET)*100) ACH_PER_2,\nROUND((TOTAL_RECHARGE/SLAB_3_TARGET)*100) ACH_PER_3\nFROM DD_WISE_ACHIEVEMENT ACHIEVEMENT\n)\nSELECT * FROM DD_WISE_PERCENTAGE;-- 328  Rows\n--,CENTRAL_WISE_PERCENTAGE AS (\n--SELECT CLUSTER_NAME, \n--SUM(SLAB_1_TARGET) CLUSTER_TARGET_1,\n--SUM(SLAB_2_TARGET) CLUSTER_TARGET_2, \n--SUM(SLAB_3_TARGET) CLUSTER_TARGET_3, \n--SUM(TOTAL_RECHARGE) CENTRAL_RECHARGE,\n--ROUND((SUM(TOTAL_RECHARGE)/SUM(SLAB_1_TARGET))*100) CLUSTER_ACH_PER_1,\n--ROUND((SUM(TOTAL_RECHARGE)/SUM(SLAB_2_TARGET))*100) CLUSTER_ACH_PER_2,\n--ROUND((SUM(TOTAL_RECHARGE)/SUM(SLAB_3_TARGET))*100) CLUSTER_ACH_PER_3\n--FROM DD_WISE_ACHIEVEMENT ACHIEVEMENT\n--GROUP BY CLUSTER_NAME\n--)\n--SELECT * FROM CENTRAL_WISE_PERCENTAGE;--22  Rows\n,CALCULATE_COMMISSION AS (\n    SELECT DD_CODE,SLAB_3_TARGET,SLAB_2_TARGET, SLAB_1_TARGET, TOTAL_RECHARGE,ACH_PER_3,ACH_PER_2,ACH_PER_1,\n    CASE\n--        WHEN  TOTAL_RECHARGE >= SLAB_3_TARGET AND CLUSTER_ACH_PER_1 >= 100 THEN ROUND((TOTAL_RECHARGE*.009)+(TOTAL_RECHARGE*.0010))\n        WHEN  TOTAL_RECHARGE >= SLAB_3_TARGET THEN ROUND(TOTAL_RECHARGE*.009) --#CHECKING SLAB WISE ACH PER AND COMMISSION CALCULATION--#\n--        WHEN  TOTAL_RECHARGE >= SLAB_2_TARGET AND CLUSTER_ACH_PER_2 >= 100 THEN ROUND((TOTAL_RECHARGE*.008)+(TOTAL_RECHARGE*.0010))\n        WHEN  TOTAL_RECHARGE >= SLAB_2_TARGET THEN ROUND(TOTAL_RECHARGE*.008) --#CHECKING SLAB WISE ACH PER AND COMMISSION CALCULATION--#\n--        WHEN  TOTAL_RECHARGE >= SLAB_1_TARGET AND CLUSTER_ACH_PER_3 >= 100 THEN ROUND((TOTAL_RECHARGE*.007)+(TOTAL_RECHARGE*.0010))\n        WHEN  TOTAL_RECHARGE >= SLAB_1_TARGET THEN ROUND(TOTAL_RECHARGE*.007) --#CHECKING SLAB WISE ACH PER AND COMMISSION CALCULATION--#\n        ELSE 0\n    END COMMISSION\n    FROM DD_WISE_PERCENTAGE DD\n--    LEFT JOIN CENTRAL_WISE_PERCENTAGE CC ON CC.CLUSTER_NAME = DD.CLUSTER_NAME  \n)\nSELECT * FROM CALCULATE_COMMISSION;-- 328  Rows  --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_DN_DET_10_15MAY25) --#\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;-- 1035602 TK\n\n-- STEP 6: CHECKING THE CREATED TABLE DATA\nSELECT * FROM TEMP_FOR_DD_DN_DET_10_15MAY25;-- 336  Rows\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_DN_DET_10_15MAY25;-- 1035602 TK\n\n-------------------------------SETUP------------------------------------\n--STEP 12: PREPARE FOR REPORT PUBLISHING\n\n--REPORT_ID : 7968 (UPDATE WITH ACTUAL REPORT ID) \n-- 7874 9954 64075\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Bundle Booster_10th to 15th May25';\n-- BASE_CYCLE_ID : 9754  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'May_25'; --base month\n-- REPORT_CYCLE_ID : 62834 (UPDATE WITH ACTUAL REPORT CYCLE ID) \nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7874 and  CYCLEID = 9954;--64075\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 64075;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 64075;\n--commit;\n\n-- INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 64075 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_DD_DN_DET_10_15MAY25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 64075; -- 1035602 TAKA\n\n--PUBLISH_CYCLE_ID : 9754  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jun_25 if today = 30-Jun-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'May_25'; --Publish month -- 9954\n\n--STEP 12: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\n--EXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Bundle Booster_10th to 15th May25',9954,'TEMP_FOR_DD_DN_DET_10_15MAY25','SUMMARY DETAILS');\n\n--STEP 13: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\n--EXEC FINALIZE_REPORT_ADHOC('Distributor Bundle Booster_10th to 15th May25', 64075,'May_25', 'May_25',290, 1);\n\n\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Delower Hossen ROBIN\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 4-Jun-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno Recharge\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Bundle Booster_1st to 5th Jun25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 1-Jun-2025        ( End Date: 5-Jun-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno Recharge\rDeno Recharge\rDistributor will be given Deno Recharge target. (Target will be provided by B2C)\rSelected Deno will be consider for performance calculation. \rCampaign Date: Central Cluster (1st to 5th Jun‚Äô25)\r                        Gazipur Region (2nd to 5th Jun‚Äô25)\rDeno: ALL Deno (Deno List will share by B2C)\rUpon achieving Deno Recharge target (Cumulative of DENO), Distributor will be given incentives as per below Slab (Distributor wise Recharge Target will be share by B2C).\r\rAgent list of 5th Jun‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rIncentive Slab\r\u0007Incentive of Total Recharge Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Slab-1\r\u00070.7% of Total Recharge Amoun\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Slab-2\r\u00070.8% of Total Recharge Amoun\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Slab-3\r\u00070.9% of Total Recharge Amoun\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Example:\r\r\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007DD Code\r\u0007Target Recharge\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r6th Jun‚Äô25\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Delower Hossen ROBIN\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "-------------------------------HELPER QUERY------------------------------------\n-- 7451 9574 61612\n\n--# STEP 1: CREATING THE SUPPORTING DATA\n--#HERE TARGET TABLE FOR THE COMMISSION WILL BE CREATED--#\n--CREATE TABLE TEMP_FOR_DENO_CAM_TAR_5JUN25 AS\n--select CHANNEL_CODE DD_CODE, TARGET from COM_KPI_CONDITION_TARGET \n--WHERE REPORTCYCLE_ID = (SELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS \n--where REPORTID = (SELECT REPORTID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Bundle Booster_1st to 5th Jun25') and  \n--CYCLEID = (SELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jun_25'));--10  Rows\n\nSELECT * FROM TEMP_FOR_DENO_CAM_TAR_5JUN25;--64  Rows  --# THIS IS THE CREATED TARGET TABLE --#\n\nUPDATE TEMP_FOR_DENO_CAM_TAR_5JUN25 SET DD_CODE = TRIM(DD_CODE), SLAB_1_TARGET = ROUND(SLAB_1_TARGET), SLAB_2_TARGET = ROUND(SLAB_2_TARGET), SLAB_3_TARGET = ROUND(SLAB_3_TARGET);\nCOMMIT;\n\n--# STEP 2: CREATING THE AGENT LIST \n--DROP TABLE TEMP_FOR_AG_LST_MAP_5JUN25 PURGE;\nCREATE TABLE TEMP_FOR_AG_LST_MAP_5JUN25 AS\nSELECT TAR.*,AG.RET_CODE RETAILER_CODE, AG.RET_MOBILE RET_MSISDN \nFROM TEMP_FOR_DENO_CAM_TAR_5JUN25 TAR \nINNER JOIN DD_RSO_RET_MAPPING_DAILY AG ON AG.DD_CODE=TAR.DD_CODE AND AG.DATA_DATE = '5-JUN-25';--145806  Rows\n\nSELECT * FROM TEMP_FOR_AG_LST_MAP_5JUN25;-- 145806  Rows\n\n\nCREATE TABLE TEMP_FOR_EV_RECHARGE_5JUN25 AS\nSELECT * FROM EV_RECHARGE_COM_DAILY WHERE TOP_UP_DATE BETWEEN '1-JUN-25' AND '5-JUN-25';\n\n-- STEP 3: COMMISSION QUERY START \n--DROP TABLE TEMP_FOR_DD_DN_DET_5JUN25 PURGE;\nCREATE TABLE TEMP_FOR_DD_DN_DET_5JUN25 AS --#THIS THE 1ST DETAIL FOR THIS COMMISSION WHERE COMMISSION AMOUNT IN CALCULATED\nWITH RSO_WISE_ACHIEVEMENT AS ( \n\n    SELECT /*+ parallel(10) */ CLUSTER_NAME, REGION,DD_CODE,SLAB_1_TARGET, SLAB_2_TARGET, SLAB_3_TARGET,SUM(RECHARGE_AMOUNT) TOTAL_RECHARGE\n    FROM (\n    SELECT /*+ parallel(10) */ CLUSTER_NAME, REGION,AG.DD_CODE,SLAB_1_TARGET, SLAB_2_TARGET, SLAB_3_TARGET,RECHARGE_AMOUNT\n    FROM TEMP_FOR_AG_LST_MAP_5JUN25 AG \n    INNER JOIN TEMP_FOR_EV_RECHARGE_5JUN25 EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '1-JUN-25' AND '5-JUN-25') AND EV.RECHARGE_AMOUNT IN (19,27,32,42,48,57,58,69,74,77,79,81,97,99,104,117,118,124,127,129,147,149,167,169,177,197,198,199,207,209,219,222,224,227,239,247,249,297,298,299,347,348,349,397,398,399,448,449,497,498,\n    499,548,549,629,648,649,719,729,748,797,848,849,897,899,997,998,1199,1258,1397,1899,1999)\n    AND REGION NOT IN ('Gazipur') --#THIS LOGIC IS FOR Effective Date: 1-Jun-2025 End Date: 5-Jun-2025 FOR NOT IN Gazipur IN THE SRF --#\n  \n    \n    UNION ALL \n    \n    SELECT /*+ parallel(10) */ CLUSTER_NAME, REGION,AG.DD_CODE,SLAB_1_TARGET, SLAB_2_TARGET, SLAB_3_TARGET, RECHARGE_AMOUNT\n    FROM TEMP_FOR_AG_LST_MAP_5JUN25 AG \n    INNER JOIN TEMP_FOR_EV_RECHARGE_5JUN25 EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '2-JUN-25' AND '5-JUN-25') AND EV.RECHARGE_AMOUNT IN (19,27,32,42,48,57,58,69,74,77,79,81,97,99,104,117,118,124,127,129,147,149,167,169,177,197,198,199,207,209,219,222,224,227,239,247,249,297,298,299,347,348,349,397,398,399,448,449,497,498,\n    499,548,549,629,648,649,719,729,748,797,848,849,897,899,997,998,1199,1258,1397,1899,1999)\n    AND REGION IN ('Gazipur') --#THIS LOGIC IS FOR Effective Date: 1-Jun-2025 End Date: 5-Jun-2025 FOR Gazipur THE SRF --#\n    )\n    GROUP BY CLUSTER_NAME, REGION,DD_CODE, SLAB_1_TARGET, SLAB_2_TARGET, SLAB_3_TARGET\n    \n)\n--SELECT * FROM RSO_WISE_ACHIEVEMENT;--63  Rows\n,RET_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,ROUND((TOTAL_RECHARGE/SLAB_1_TARGET)*100) SLAB_1_ACH_PER, ROUND((TOTAL_RECHARGE/SLAB_2_TARGET)*100) SLAB_2_ACH_PER, ROUND((TOTAL_RECHARGE/SLAB_3_TARGET)*100) SLAB_3_ACH_PER\nFROM RSO_WISE_ACHIEVEMENT ACHIEVEMENT\n)\n--SELECT * FROM RET_WISE_PERCENTAGE;--63  Rows\n,CALCULATE_COMMISSION AS (\n    SELECT DD.*,\n    CASE\n        WHEN  SLAB_3_ACH_PER >= 100 THEN ROUND(TOTAL_RECHARGE*.009) --#CHECKING SLAB WISE ACH PER AND REGION WISE ACH PER AND COMMISSION CALCULATION--#\n        WHEN  SLAB_2_ACH_PER >= 100 THEN ROUND(TOTAL_RECHARGE*.008) --#CHECKING SLAB WISE ACH PER AND REGION WISE ACH PER AND COMMISSION CALCULATION--#\n        WHEN  SLAB_1_ACH_PER >= 100 THEN ROUND(TOTAL_RECHARGE*.007) --#CHECKING SLAB WISE ACH PER AND REGION WISE ACH PER AND COMMISSION CALCULATION--#\n        ELSE 0\n    END COMMISSION\n    FROM RET_WISE_PERCENTAGE DD\n)\nSELECT * FROM CALCULATE_COMMISSION;--322  Rows  --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_DN_DET_5JUN25) --#\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;--337595 TAKA\n\n-- STEP 6: CHECKING THE CREATED TABLE DATA\nSELECT * FROM TEMP_FOR_DD_DN_DET_5JUN25;--63  Rows\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_DN_DET_5JUN25;--418491           337595      360780  TK\n\n-------------DETAIL------------\n\n--DROP TABLE TEMP_FOR_DD_DN_DET2_5JUN25 PURGE;\nCREATE TABLE TEMP_FOR_DD_DN_DET2_5JUN25 AS --#THIS THE 2ND DETAIL FOR \nWITH DD_WISE_ACHIEVEMENT AS ( \n\n    SELECT /*+ parallel(10) */ CLUSTER_NAME, REGION,AG.DD_CODE,SLAB_1_TARGET, SLAB_2_TARGET, SLAB_3_TARGET,RECHARGE_AMOUNT,TOP_UP_DATE,SUB_MSISDN CUSTOMER_MSISDN\n    FROM TEMP_FOR_AG_LST_MAP_5JUN25 AG \n    INNER JOIN TEMP_FOR_EV_RECHARGE_5JUN25 EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '1-JUN-25' AND '5-JUN-25') AND EV.RECHARGE_AMOUNT IN (19,27,32,42,48,57,58,69,74,77,79,81,97,99,104,117,118,124,127,129,147,149,167,169,177,197,198,199,207,209,219,222,224,227,239,247,249,297,298,299,347,348,349,397,398,399,448,449,497,498,\n    499,548,549,629,648,649,719,729,748,797,848,849,897,899,997,998,1199,1258,1397,1899,1999)\n    AND REGION NOT IN ('Gazipur')\n  \n    \n    UNION ALL \n    \n    SELECT /*+ parallel(10) */ CLUSTER_NAME, REGION,AG.DD_CODE,SLAB_1_TARGET, SLAB_2_TARGET, SLAB_3_TARGET, RECHARGE_AMOUNT,TOP_UP_DATE,SUB_MSISDN CUSTOMER_MSISDN\n    FROM TEMP_FOR_AG_LST_MAP_5JUN25 AG \n    INNER JOIN TEMP_FOR_EV_RECHARGE_5JUN25 EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '2-JUN-25' AND '5-JUN-25') AND EV.RECHARGE_AMOUNT IN (19,27,32,42,48,57,58,69,74,77,79,81,97,99,104,117,118,124,127,129,147,149,167,169,177,197,198,199,207,209,219,222,224,227,239,247,249,297,298,299,347,348,349,397,398,399,448,449,497,498,\n    499,548,549,629,648,649,719,729,748,797,848,849,897,899,997,998,1199,1258,1397,1899,1999)\n    AND REGION IN ('Gazipur')\n)\nSELECT * FROM DD_WISE_ACHIEVEMENT;--470907  Rows --# CREATE THE 2ND DETAILS TABLE FROM HERE --#\n\nselect * from TEMP_FOR_DD_DN_DET2_5JUN25;--470907  Rows  #THIS THE 2ND DETAIL\n\n------------------SETUP-------------\n\n--STEP 12: PREPARE FOR REPORT PUBLISHING\n\n--REPORT_ID : 7968 (UPDATE WITH ACTUAL REPORT ID) \n\n-- 7984 10074 64615\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Bundle Booster_1st to 5th Jun25';\n-- BASE_CYCLE_ID : 9754  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jun_25'; --base month\n-- REPORT_CYCLE_ID : 62834 (UPDATE WITH ACTUAL REPORT CYCLE ID) \nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7984 and  CYCLEID = 10074;--64615\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 64615;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 64615;\n--commit;\n\n-- INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 64615 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_DD_DN_DET_5JUN25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 64615; --418491   TAKA\n\n--PUBLISH_CYCLE_ID : 9754  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jun_25 if today = 30-Jun-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jun_25'; --Publish month --10074\n \n --STEP 12: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\nEXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Bundle Booster_1st to 5th Jun25',10074,'TEMP_FOR_DD_DN_DET_5JUN25','SUMMERY_DETAIL','TEMP_FOR_DD_DN_DET2_5JUN25','MSISDN_DETAIL');\n \n --STEP 13: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Distributor Bundle Booster_1st to 5th Jun25', 64615,'Jun_25', 'Jun_25',290, 1);\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Delower Hossen ROBIN\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 29-Apr-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno Recharge\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Bundle Booster_1st to 8th May25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 1-May-2025        ( End Date: 8-May-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno Recharge\rDeno Recharge\rDistributor will be given Deno Recharge target. (Target will be provided by B2C)\rSelected Deno will be consider for performance calculation. \r\rDeno: ALL Deno (Deno List will share by B2C)\rUpon achieving Deno Recharge target (Cumulative of DENO), Distributor will be given incentives as per below Slab (Distributor wise Recharge Target will be share by B2C).\r\rIn Addition: Bonus incentive for DD: if Cluster achieved 100% Recharge target, then >=100% achiever DD‚Äôs will get additional 0.10% bonus incentive on total Recharge amount on top their incentive slab.\r\rAgent list of 8th May‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rIncentive Slab\r\u0007Incentive of Total Recharge Amount\r\u0007Additional Incentives if Cluster achieve 100%\r\u0007\r\u0007\r\u0007\r\u0007Slab-1\r\u00070.7% of Total Recharge Amoun\r\u00070.7%+0.10%\r\u0007\r\u0007\r\u0007\r\u0007Slab-2\r\u00070.8% of Total Recharge Amoun\r\u00070.8%+0.10%\r\u0007\r\u0007\r\u0007\r\u0007Slab-3\r\u00070.9% of Total Recharge Amoun\r\u00070.9%+0.10%\r\u0007\r\u0007\r\u0007\r\u0007Example:\r\r\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007DD Code\r\u0007Target Recharge\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r9th May‚Äô25\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Delower Hossen ROBIN\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "-------------------------------HELPER QUERY------------------------------------\n--# STEP 1: CREATING THE SUPPORTING DATA\n--#HERE TARGET TABLE FOR THE COMMISSION WILL BE CREATED--#\n--drop table TEMP_DD_1_8_MAY25_63897 purge;\n--CREATE TABLE TEMP_DD_1_8_MAY25_63897 AS\n--select CHANNEL_CODE DD_CODE, TARGET from COM_KPI_CONDITION_TARGET \n--WHERE REPORTCYCLE_ID = (SELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS \n--where REPORTID = (SELECT REPORTID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Bundle Booster Campaign_20th to 24th Mar25') and  \n--CYCLEID = (SELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Mar_25'));--1278  Rows\n\nSELECT * FROM TEMP_DD_1_8_MAY25_63897; -- 333  Rows --# THIS IS THE CREATED TARGET TABLE --#\nSELECT * FROM DD_BOS_1ST_8TH_MAY25_63897; -- 333  Rows\n--CREATE TABLE TEMP_DD_1_8_MAY25_63897 AS\nSELECT CLUSTER_NAME,REGION,D_CODE DD_CODE,SLAB_1_TGT SLAB_1_TARGET,SLAB_2_TGT SLAB_2_TARGET,SLAB_3_TGT SLAB_3_TARGET FROM DD_BOS_1ST_8TH_MAY25_63897;\n\n\n--UPDATE TEMP_DD_1_8_MAY25_63897 SET DD_CODE = trim(DD_CODE), SLAB_1_TARGET = ROUND(SLAB_1_TARGET),SLAB_2_TARGET = ROUND(SLAB_2_TARGET),SLAB_3_TARGET = ROUND(SLAB_3_TARGET);\n--COMMIT;\n\n--# STEP 2: CREATING THE AGENT LIST\nSELECT * FROM dd_rso_ret_mapping_daily;\n--DROP TABLE TEMP_FOR_AGLIST_MAP_8MAY25 PURGE;\n--CREATE TABLE TEMP_FOR_AGLIST_MAP_8MAY25 AS\nSELECT TAR.*,AG.RET_CODE, AG.RET_MOBILE \nFROM TEMP_DD_1_8_MAY25_63897 TAR \nINNER JOIN dd_rso_ret_mapping_daily AG ON AG.DD_CODE=TAR.DD_CODE AND AG.DATA_DATE = '8-MAY-25';--117982  Rows     \n\nSELECT * FROM TEMP_FOR_AGLIST_MAP_8MAY25;-- 555485  Rows\n\n-- STEP 3: COMMISSION QUERY START \n--DROP TABLE TEMP_FOR_DD_DN_DET_1_8MAY25 PURGE; \n--CREATE TABLE TEMP_FOR_DD_DN_DET_1_8MAY25 AS -- #THIS THE 1ST DETAIL FOR THIS COMMISSION WHERE COMMISSION AMOUNT IN CALCULATED\nWITH DD_WISE_ACHIEVEMENT AS ( \n    SELECT AG.CLUSTER_NAME,AG.REGION,AG.DD_CODE,AG.SLAB_1_TARGET,AG.SLAB_2_TARGET,AG.SLAB_3_TARGET,SUM(RECHARGE_AMOUNT) TOTAL_RECHARGE\n    FROM TEMP_FOR_AGLIST_MAP_8MAY25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MOBILE   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '1-MAY-25' AND '8-MAY-25') AND EV.RECHARGE_AMOUNT IN ( --#THIS LOGIC IS FOR Effective Date: 1-May-2025 End Date: 8-May-2025 IN THE SRF --#\n    32,42,69,74,79,124,209,219,239,249,349,449,629,648,729,748,\n    848,1258,48,81,104,222,224,19,57,58,97,117,147,149,167,169,199,\n    297,347,348,399,448,497,499,649,849,998,27,77,99,118,127,129,\n    177,197,198,207,227,247,298,299,397,398,498,548,549,719,797,\n    897,899,997,1199,1397,1899,1999\n    )\n    GROUP BY AG.CLUSTER_NAME,AG.REGION,AG.DD_CODE, AG.SLAB_1_TARGET,AG.SLAB_2_TARGET,AG.SLAB_3_TARGET\n)\n--SELECT * FROM DD_WISE_ACHIEVEMENT;-- 331  Rows\n,DD_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,\nROUND((TOTAL_RECHARGE/SLAB_1_TARGET)*100) ACH_PER_1,\nROUND((TOTAL_RECHARGE/SLAB_2_TARGET)*100) ACH_PER_2,\nROUND((TOTAL_RECHARGE/SLAB_3_TARGET)*100) ACH_PER_3\nFROM DD_WISE_ACHIEVEMENT ACHIEVEMENT\n)\n--SELECT * FROM DD_WISE_PERCENTAGE;-- 331  Rows\n,CENTRAL_WISE_PERCENTAGE AS (\nSELECT CLUSTER_NAME, \nSUM(SLAB_1_TARGET) CLUSTER_TARGET_1,\nSUM(SLAB_2_TARGET) CLUSTER_TARGET_2, \nSUM(SLAB_3_TARGET) CLUSTER_TARGET_3, \nSUM(TOTAL_RECHARGE) CENTRAL_RECHARGE,\nROUND((SUM(TOTAL_RECHARGE)/SUM(SLAB_1_TARGET))*100) CLUSTER_ACH_PER_1, --#CALCULATING CLUSTER WISE ACH_PER --#\nROUND((SUM(TOTAL_RECHARGE)/SUM(SLAB_2_TARGET))*100) CLUSTER_ACH_PER_2, --#CALCULATING CLUSTER WISE ACH_PER --#\nROUND((SUM(TOTAL_RECHARGE)/SUM(SLAB_3_TARGET))*100) CLUSTER_ACH_PER_3  --#CALCULATING CLUSTER WISE ACH_PER --#\nFROM DD_WISE_ACHIEVEMENT ACHIEVEMENT\nGROUP BY CLUSTER_NAME\n)\n--SELECT * FROM CENTRAL_WISE_PERCENTAGE;-- 5  Rows\n,CALCULATE_COMMISSION AS (\n    SELECT DD_CODE,SLAB_3_TARGET,SLAB_2_TARGET, SLAB_1_TARGET, TOTAL_RECHARGE,ACH_PER_3,ACH_PER_2,ACH_PER_1,\n    CASE\n        WHEN  TOTAL_RECHARGE >= SLAB_3_TARGET AND CLUSTER_ACH_PER_1 >= 100 THEN ROUND((TOTAL_RECHARGE*.009)+(TOTAL_RECHARGE*.0010)) --#CHECKING SLAB WISE ACH PER AND REGION WISE ACH PER AND COMMISSION CALCULATION--#\n        WHEN  TOTAL_RECHARGE >= SLAB_3_TARGET THEN ROUND(TOTAL_RECHARGE*.009) --#CHECKING SLAB WISE ACH PER AND REGION WISE ACH PER AND COMMISSION CALCULATION--#\n        WHEN  TOTAL_RECHARGE >= SLAB_2_TARGET AND CLUSTER_ACH_PER_2 >= 100 THEN ROUND((TOTAL_RECHARGE*.008)+(TOTAL_RECHARGE*.0010)) --#CHECKING SLAB WISE ACH PER AND REGION WISE ACH PER AND COMMISSION CALCULATION--#\n        WHEN  TOTAL_RECHARGE >= SLAB_2_TARGET THEN ROUND(TOTAL_RECHARGE*.008) --#CHECKING SLAB WISE ACH PER AND REGION WISE ACH PER AND COMMISSION CALCULATION--#\n        WHEN  TOTAL_RECHARGE >= SLAB_1_TARGET AND CLUSTER_ACH_PER_3 >= 100 THEN ROUND((TOTAL_RECHARGE*.007)+(TOTAL_RECHARGE*.0010)) --#CHECKING SLAB WISE ACH PER AND REGION WISE ACH PER AND COMMISSION CALCULATION--#\n        WHEN  TOTAL_RECHARGE >= SLAB_1_TARGET THEN ROUND(TOTAL_RECHARGE*.007) --#CHECKING SLAB WISE ACH PER AND REGION WISE ACH PER AND COMMISSION CALCULATION--#\n        ELSE 0\n    END COMMISSION\n    FROM DD_WISE_PERCENTAGE DD\n    LEFT JOIN CENTRAL_WISE_PERCENTAGE CC ON CC.CLUSTER_NAME = DD.CLUSTER_NAME  \n)\nSELECT * FROM CALCULATE_COMMISSION;-- 331  Rows\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;-- 1538508 TK\n\n-- STEP 6: CHECKING THE CREATED TABLE DATA\nSELECT * FROM TEMP_FOR_DD_DN_DET_1_8MAY25;-- 331  Rows\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_DN_DET_1_8MAY25;-- 1538508 TK\n\n--SELECT SYSDATE-3 FROM DUAL;\n\n------------------SETUP-------------\n\n--STEP 12: PREPARE FOR REPORT PUBLISHING\n--REPORT_ID : 7850 (UPDATE WITH ACTUAL REPORT ID) \n-- 7850 9954 63897\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Bundle Booster_1st to 8th May25';\n-- BASE_CYCLE_ID : 9754  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'May_25'; --base month\n-- REPORT_CYCLE_ID : 62834 (UPDATE WITH ACTUAL REPORT CYCLE ID) \nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7850 and  CYCLEID = 9954;--63897\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 63897;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 63897;\n--commit;\n\n-- INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 63897 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_DD_DN_DET_1_8MAY25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 63897; -- 1538508 TAKA\n\n--PUBLISH_CYCLE_ID : 9754  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jun_25 if today = 30-Jun-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'May_25'; --Publish month -- 9954\n\n --STEP 12: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\n--EXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Bundle Booster_1st to 8th May25',9954,'TEMP_FOR_DD_DN_DET_1_8MAY25','SUMMARY DETAILS');\n\n --STEP 13: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\n--EXEC FINALIZE_REPORT_ADHOC('Distributor Bundle Booster_1st to 8th May25', 63897,'May_25', 'May_25',290, 1);"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Delower Hossen ROBIN\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 8-Jan-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno Recharge\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Bundle Booster_Central Cluster_8th to 14th Jan25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 8-Jan-2025        ( End Date: 14-Jan-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno Recharge\rDeno Recharge\rDistributor will be given Deno Recharge target. (Target will be provided by B2C)\rSelected Deno will be consider for performance calculation. \rDeno: ALL Deno (Deno List will share by B2C)\rUpon achieving Deno Recharge target (Cumulative of DENO), Distributor will be given incentives as per below Slab (Distributor wise Recharge Target will be share by B2C).\rIn Addition: Bonus incentive for DD: if Total Central Cluster achieved 100% Recharge target, then each DD‚Äôs will get additional 0.15% bonus incentive on total Recharge amount on top their incentive slab.\rExample for Additional Bonus incentive Calculation: if DD achieves >=100% target, then DD will get 0.8%+0.15% incentive. for >=110% achievers DD, incentive will be 1%+0.15%\rAgent list of 14th Jan‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rIncentive Slab\r\u0007Incentive of Total Recharge Amount\r\u0007Additional Incentives if Total Cluster achieve 100%\r\u0007\r\u0007\r\u0007\r\u0007100%-109%\r\u00070.8% of Total Recharge Amoun\r\u00070.8%+0.15%\r\u0007\r\u0007\r\u0007\r\u0007110% and Above\r\u00071% of Total Recharge Amoun\r\u00071%+0.15%\r\u0007\r\u0007\r\u0007\r\u0007\r\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007DD Code\r\u0007Target Recharge\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r15th Dec‚Äô24\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Delower Hossen ROBIN\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "-------------------------------HELPER QUERY------------------------------------\n--# STEP 1: CREATING THE SUPPORTING DATA\nSELECT * FROM TEMP_FOR_DN_BB_CAM_TAR_15JAN25;--53  Rows  --# THIS IS THE CREATED TARGET TABLE --#\n\nUPDATE TEMP_FOR_DN_BB_CAM_TAR_15JAN25 SET DD_CODE = TRIM(DD_CODE), TARGET = ROUND(TARGET);  --#UPDATING THE TABLE FOR ROUNDING TARGET--#\nCOMMIT;\n\n--# STEP 2: CREATING THE AGENT LIST \n--DROP TABLE TEMP_FOR_AGLIST_MAP_14JAN25 PURGE;\nCREATE TABLE TEMP_FOR_AGLIST_MAP_14JAN25 AS\nSELECT TAR.*,AG.RETAILER_CODE, AG.TOPUP_MSISDN RET_MSISDN \nFROM TEMP_FOR_DN_BB_CAM_TAR_15JAN25 TAR \nINNER JOIN AGENT_LIST_DAILY AG ON AG.DIST_CODE=TAR.DD_CODE AND AG.DATA_DATE = '14-JAN-25';--117982  Rows --#HERE DATA DATE WILL BE THE LAST DATE OF THE CAMPAIGN PERIOD --#\n\nSELECT * FROM TEMP_FOR_AGLIST_MAP_14JAN25;--563756  Rows  --#THIS IS THE CREATED AGENT LIST TABLE--#\n\n-- STEP 3: COMMISSION QUERY START \n--DROP TABLE TEMP_FOR_DD_DN_DET1_14JAN25 PURGE;\nCREATE TABLE TEMP_FOR_DD_DN_DET1_14JAN25 AS   --#THIS THE 1ST DETAIL FOR THIS COMMISSION WHERE COMMISSION AMOUNT IN CALCULATED  --#\nWITH DD_WISE_ACHIEVEMENT AS ( \n    SELECT AG.CLUSTER_TYPE,AG.DD_CODE,AG.TARGET,SUM(RECHARGE_AMOUNT) TOTAL_RECHARGE\n    FROM TEMP_FOR_AGLIST_MAP_14JAN25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '8-JAN-25' AND '14-JAN-25')  --#THIS LOGIC IS FOR Effective Date: 8-JAN-25  End Date: 14-JAN-25 IN THE SRF --#\n    AND EV.RECHARGE_AMOUNT IN (19,27,28,33,34,38,42,47,48,49,57,58,64,69,77,78,79,81,89,96,97,98,99,104,108,117,118,127,129,147,148,149,157,167,169\n,177,197,198,199,207,209,222,224,227,229,247,248,249,279,297,298,299,337,348,397,398,399,447,448,497,498,499,548,549\n,597,599,648,649,698,699,798,799,859,897,899,998,1397) --#DENO OR RECHARGE AMOUNT IS SHARED IN EXECL FOR THE CONDITION Deno: ALL Deno (Deno List will share by B2C) IN THE SRF --#\n    GROUP BY AG.CLUSTER_TYPE,AG.DD_CODE,  AG.TARGET\n)\n--SELECT * FROM DD_WISE_ACHIEVEMENT;--53  Rows\n,DD_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,ROUND((TOTAL_RECHARGE/TARGET)*100) ACH_PER\nFROM DD_WISE_ACHIEVEMENT ACHIEVEMENT\n)\n--SELECT * FROM DD_WISE_PERCENTAGE;--53  Rows\n-- STEP 4: CALCULATING ACHIEVMENT PERCENTAGE\n,CENTRAL_WISE_PERCENTAGE AS (\nSELECT CLUSTER_TYPE, SUM(TARGET) CENTRAL_TARGET, SUM(TOTAL_RECHARGE) CENTRAL_RECHARGE,ROUND((SUM(TOTAL_RECHARGE)/SUM(TARGET))*100) CLUSTER_ACH_PER\nFROM DD_WISE_ACHIEVEMENT ACHIEVEMENT\nGROUP BY CLUSTER_TYPE\n)\n--SELECT * FROM CENTRAL_WISE_PERCENTAGE;--358  Rows\n-- STEP 5: CALCULATING COMMISSION AMOUNT\n,CALCULATE_COMMISSION AS (\n    SELECT DD_CODE,  TARGET, TOTAL_RECHARGE,ACH_PER,CLUSTER_ACH_PER,\n    CASE\n        WHEN  ACH_PER >= 110 AND CLUSTER_ACH_PER >= 100 THEN ROUND((TOTAL_RECHARGE*.01)+(TOTAL_RECHARGE*.0015)) --#CHECKING SLAB WISE ACH PER AND CLUSTER WISE ACH PER FOR ADDITIONAL BONUS  AND COMMISSION CALCULATION--#\n        WHEN  ACH_PER >= 110 THEN ROUND(TOTAL_RECHARGE*.01)  --#CHECKING SLAB WISE ACH PER COMMISSION CALCULATION--#\n        WHEN  ACH_PER >= 100 AND CLUSTER_ACH_PER >= 100 THEN ROUND((TOTAL_RECHARGE*.008)+(TOTAL_RECHARGE*.0015))  --#CHECKING SLAB WISE ACH PER AND CLUSTER WISE ACH PER FOR ADDITIONAL BONUS  AND COMMISSION CALCULATION--#\n        WHEN  ACH_PER >= 100 THEN ROUND(TOTAL_RECHARGE*.008)  --#CHECKING SLAB WISE ACH PER COMMISSION CALCULATION--#\n        ELSE 0\n    END COMMISSION\n    FROM DD_WISE_PERCENTAGE DD\n    LEFT JOIN CENTRAL_WISE_PERCENTAGE CC ON CC.CLUSTER_TYPE = DD.CLUSTER_TYPE\n    \n)\nSELECT * FROM CALCULATE_COMMISSION;--53  Rows   --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_DN_DET1_14JAN25) --#\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;--523360            523358.276 TK\n\n-- STEP 6: CHECKING THE CREATED TABLE DATA\nSELECT * FROM TEMP_FOR_DD_DN_DET1_14JAN25;--53  Rows\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_DN_DET1_14JAN25;--523360 TK\n\n--SELECT SYSDATE-3 FROM DUAL;\n\n\n----------------------------SETUP QUERY------------------------------------\n\n--STEP 7: PREPARE FOR REPORT PUBLISHING\n--REPORT_ID : 7374 (UPDATE WITH ACTUAL REPORT ID) \n-- 7374 9574 61321\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Bundle Booster_Central Cluster_8th to 14th Jan25';\n-- BASE_CYCLE_ID : 9574  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Jan_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jan_25'; --base month\n-- REPORT_CYCLE_ID : 61321 (UPDATE WITH ACTUAL REPORT CYCLE ID) \nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7374 and  CYCLEID = 9574;--61321\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 61321;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 61321;\n--commit;\n\n-- INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 61321 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_DD_DN_DET1_14JAN25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 61321; -- 523360 TAKA\n\n--STEP 8: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\nEXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Bundle Booster_Central Cluster_8th to 14th Jan25',9574,'TEMP_FOR_DD_DN_DET1_14JAN25','SUMMARY DETAILS');\n\n--STEP 9: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --# \nEXEC FINALIZE_REPORT_ADHOC('Distributor Bundle Booster_Central Cluster_8th to 14th Jan25', 61321,'Jan_25', 'Jan_25',290, 1);\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Delower Hossen ROBIN\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 14-Jan-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno Recharge\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Bundle Booster_GAZ_TAN_11th to 20th Jan25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 11-Jan-2025        ( End Date: 20-Jan-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno Recharge\rDeno Recharge\rDistributor will be given Deno recharge target. (Target will be provided by B2C)\rSelected Deno will be consider for performance calculation. \rDeno: Deno List will share by B2C\rUpon achieving Deno Recharge target (Cumulative of DENO), Distributor will be given 0.8% incentives on Recharge amount till 100% Achievement (Distributor wise Recharge Target and Incentives amount will be share by B2C).\rAgent list of 20th Jan‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rExample:\r\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007DD Code\r\u0007Target Recharge\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r15th Dec‚Äô24\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Delower Hossen ROBIN\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "-------------------------------HELPER QUERY------------------------------------\n--# STEP 1: CREATING THE SUPPORTING DATA\nSELECT * FROM TEMP_FOR_DENO_CAMP_TAR_20JAN25;--362  Rows\n\nUPDATE TEMP_FOR_DENO_CAMP_TAR_20JAN25 SET DD_CODE = TRIM(DD_CODE),TARGET = round(TARGET), INCENTIVE = round(INCENTIVE);--#UPDATING THE TABLE FOR ROUNDING TARGET--#\nCOMMIT;\n\n--# STEP 2: CREATING THE AGENT LIST \n--DROP TABLE TEMP_FOR_AGLIST_MAP_20JAN25 PURGE;\nCREATE TABLE TEMP_FOR_AGLIST_MAP_20JAN25 AS\nSELECT TAR.*,AG.RETAILER_CODE, AG.TOPUP_MSISDN RET_MSISDN \nFROM TEMP_FOR_DENO_CAMP_TAR_20JAN25 TAR \nINNER JOIN AGENT_LIST_DAILY AG ON AG.DIST_CODE=TAR.DD_CODE AND AG.DATA_DATE = '20-JAN-25';--563642  Rows --#HERE DATA DATE WILL BE THE LAST DATE OF THE CAMPAIGN PERIOD --#\n\nSELECT * FROM TEMP_FOR_AGLIST_MAP_20JAN25;--63631  Rows --#THIS IS THE CREATED AGENT LIST TABLE--#\n\n-- STEP 3: COMMISSION QUERY START \n--DROP TABLE TEMP_FOR_DD_DN_DET1_20JAN25 PURGE;\n--CREATE TABLE TEMP_FOR_DD_DN_DET1_20JAN25 AS\nWITH DD_WISE_ACHIEVEMENT AS ( \n    SELECT AG.DD_CODE,AG.TARGET,SUM(RECHARGE_AMOUNT) TOTAL_RECHARGE,INCENTIVE\n    FROM TEMP_FOR_AGLIST_MAP_20JAN25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '11-JAN-25' AND '20-JAN-25') AND EV.RECHARGE_AMOUNT IN (19,27,28,33,34,38,42,47,48,49,57,58,64,69,77,78,79,81,89,96,97,98,99,104,108,117,118,127,129,147,148,149,157,167,169,177,197,198,199,207,209,222,224,227,229,247,248,249,279\n,297,298,299,337,348,397,398,399,447,448,497,498,499,548,549,597,599,648,649,698,699,798,799,859,897,899,998,1397)\n    GROUP BY AG.DD_CODE,  AG.TARGET,INCENTIVE\n)\n--SELECT * FROM DD_WISE_ACHIEVEMENT;--35  Rows\n-- STEP 4: CALCULATING ACHIEVMENT PERCENTAGE\n,DD_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,ROUND((TOTAL_RECHARGE/TARGET)*100) ACH_PER\nFROM DD_WISE_ACHIEVEMENT ACHIEVEMENT\n)\n--SELECT * FROM DD_WISE_PERCENTAGE;--357  Rows\n-- STEP 5: CALCULATING COMMISSION AMOUNT\n,CALCULATE_COMMISSION AS (\n    SELECT DD_CODE,  TARGET, TOTAL_RECHARGE,ACH_PER,\n    CASE\n        WHEN  ACH_PER >= 100 THEN INCENTIVE  --#SLAB WISE INCENTIVE AMOUNT IS GIVEN AS PER SRF --#\n        ELSE 0\n    END COMMISSION\n    FROM DD_WISE_PERCENTAGE \n)\n--SELECT * FROM CALCULATE_COMMISSION;--35  Rows\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;--284993 TK\n\n-- STEP 6: CHECKING THE CREATED TABLE DATA\nSELECT * FROM TEMP_FOR_DD_DN_DET1_20JAN25;--35  Rows\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_DN_DET1_20JAN25;--284993 TK\n\n--SELECT SYSDATE-3 FROM DUAL;\n\n\n----------------------SETUP_ QUERY---------------------------------------\n--STEP 7: PREPARE FOR REPORT PUBLISHING\n--REPORT_ID : 7394 (UPDATE WITH ACTUAL REPORT ID) \n-- 7394 9574 61414\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Bundle Booster_GAZ_TAN_11th to 20th Jan25';\n-- BASE_CYCLE_ID : 9574  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Jan_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jan_25'; --base month\n-- REPORT_CYCLE_ID : 61414 (UPDATE WITH ACTUAL REPORT CYCLE ID) \nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7394 and  CYCLEID = 9574;--61414\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 61414;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 61414;\n--commit;\n\n-- INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 61414 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_DD_DN_DET1_20JAN25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 61414; -- 284993 TAKA\n\n\n--STEP 8: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\nEXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Bundle Booster_GAZ_TAN_11th to 20th Jan25',9574,'TEMP_FOR_DD_DN_DET1_20JAN25','SUMMARY DETAILS');\n\n--STEP 9: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Distributor Bundle Booster_GAZ_TAN_11th to 20th Jan25', 61414,'Jan_25', 'Jan_25',290, 1);\n\n\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Delower Hossen ROBIN\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 22-Jan-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno Recharge\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Bundle Booster_MYM_20th to 31st Jan25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 20-Jan-2025        ( End Date: 31-Jan-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno Recharge\rDeno Recharge\rDistributor will be given Deno recharge target. (Target will be provided by B2C)\rSelected Deno will be consider for performance calculation. \rDeno: Deno List will share by B2C\rUpon achieving Deno Recharge target (Cumulative of DENO), Distributor will be given 0.8% incentives on Recharge amount till 100% Achievement (Distributor wise Recharge Target and Incentives amount will be share by B2C).\rAgent list of 31st Jan‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rExample:\r\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007DD Code\r\u0007Target Recharge\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r15th Dec‚Äô24\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Delower Hossen ROBIN\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "--------------------------------- REPORT HELPER QUERY -----------------------------------------\n\n-- STEP 1: VERIFY SUPPORTING DATA\n--# THIS TARGET TABLE WILL BE CREATED BASED ON COMMISSION NAME AND BASE MONTH --#\n\n--CREATE TABLE TEMP_FOR_DENO_CAMP_TAR_31JAN25 AS\n--select CHANNEL_CODE DD_CODE, TARGET from COM_KPI_CONDITION_TARGET \n--WHERE REPORTCYCLE_ID = (SELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS \n--where REPORTID = (SELECT REPORTID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Bundle Booster_MYM_20th to 31st Jan25') and  \n--CYCLEID = (SELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jan_25'));--1278  Rows\n\nSELECT * FROM TEMP_FOR_DENO_CAMP_TAR_31JAN25;--362  Rows\n\nUPDATE TEMP_FOR_DENO_CAMP_TAR_31JAN25 SET DD_CODE = TRIM(DD_CODE),TARGET = round(TARGET), INCENTIVE = round(INCENTIVE);\nCOMMIT;\n\n-- STEP 2: AGENT LIST CREATE --\n--DROP TABLE TEMP_FOR_AG_MAP_31JAN25 PURGE;\nCREATE TABLE TEMP_FOR_AG_MAP_31JAN25 AS\nSELECT TAR.*,AG.RETAILER_CODE, AG.TOPUP_MSISDN RET_MSISDN \nFROM TEMP_FOR_DENO_CAMP_TAR_31JAN25 TAR \nINNER JOIN AGENT_LIST_DAILY AG ON AG.DIST_CODE=TAR.DD_CODE AND AG.DATA_DATE = '31-JAN-25';--563642  Rows  -- #\tAgent list of 31st Jan‚Äô25 will be considered --#\n\nSELECT * FROM TEMP_FOR_AG_MAP_31JAN25;--35016  Rows\n\n-- STEP 3: COMMISSION CALCULATION QUERY START --\n--DROP TABLE TEMP_FOR_DD_MYM_DET1_31JAN25 PURGE;\nCREATE TABLE TEMP_FOR_DD_MYM_DET1_31JAN25 AS\nWITH DD_WISE_ACHIEVEMENT AS ( \n    SELECT AG.DD_CODE,AG.TARGET,SUM(RECHARGE_AMOUNT) TOTAL_RECHARGE,INCENTIVE\n    FROM TEMP_FOR_AG_MAP_31JAN25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '20-JAN-25' AND '31-JAN-25') AND EV.RECHARGE_AMOUNT IN (28,38,49,58,69,79,89,96,99,108,118,129,149,169,199,209,229,249,279,299,399,499,549,599,649,699,799,859,899,42,48,78,81,98,104,148,198,222,224,248,298,348,398,448,498,548,\n648,698,798,998,19,27,33,34,47,57,64,77,97,117,127,147,157,167,177,197,207,227,247,297,337,397,447,497,597,897,1397)\n    GROUP BY AG.DD_CODE,  AG.TARGET,INCENTIVE\n)\n--SELECT * FROM DD_WISE_ACHIEVEMENT;--35  Rows\n,DD_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,ROUND((TOTAL_RECHARGE/TARGET)*100) ACH_PER\nFROM DD_WISE_ACHIEVEMENT ACHIEVEMENT\n)\n--SELECT * FROM DD_WISE_PERCENTAGE;--357  Rows\n,CALCULATE_COMMISSION AS (\n    SELECT DD_CODE,  TARGET, TOTAL_RECHARGE,ACH_PER,\n    CASE\n        WHEN  ACH_PER >= 100 THEN 0.8 * INCENTIVE  -- #Upon achieving Deno Recharge target (Cumulative of DENO), Distributor will be given 0.8% incentives on Recharge amount till 100% Achievement -- #\n        ELSE 0\n    END COMMISSION\n    FROM DD_WISE_PERCENTAGE \n)\nSELECT * FROM CALCULATE_COMMISSION;--29  Rows --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_MYM_DET1_31JAN25) --#\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;--228026 TK\n\n-- STEP 4: OVERLOOKING CREATED TABLE DATA\nSELECT * FROM TEMP_FOR_DD_MYM_DET1_31JAN25;--29  Rows\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_MYM_DET1_31JAN25;--228026 TK\n\n\n------------------------SETUP----------------------\n--STEP 5: PREPARE FOR REPORT PUBLISHING\n --REPORT_ID : 7985 (UPDATE WITH ACTUAL REPORT ID) \nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Bundle Booster_MYM_20th to 31st Jan25';\n-- BASE_CYCLE_ID : 0022  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jan_25'; --base month\n-- REPORT_CYCLE_ID : 0033 (UPDATE WITH ACTUAL REPORT CYCLE ID)\nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7428 and  CYCLEID = 9574;--61553\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 61553;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 61553;\n--commit;\n\n-- INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 61553 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_DD_MYM_DET1_31JAN25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 61553; -- 228026 TAKA\n\n--PUBLISH_CYCLE_ID : 0044  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jun_25 if today = 30-Jun-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Feb_25'; --base month\n\n --STEP 6: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\nEXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Bundle Booster_MYM_20th to 31st Jan25',9674,'TEMP_FOR_DD_MYM_DET1_31JAN25','SUMMARY DETAILS');\n\n  --STEP 7: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Distributor Bundle Booster_MYM_20th to 31st Jan25', 61553,'Jan_25', 'Feb_25',290, 1);\n\n\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Delower Hossen ROBIN\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 22-Jan-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno Recharge\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Bundle Campaign_Central Cluster_22nd to 31st Jan25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 22-Jan-2025        ( End Date: 31-Jan-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno Recharge\rDeno Recharge\rDistributor will be given Deno Recharge target. (Target will be provided by B2C)\rSelected Deno will be consider for performance calculation. \rDeno: 199_227_397_448_549\rUpon achieving Deno Recharge target (Cumulative of DENO), Distributor will be given incentives as per below Slab (Distributor wise Recharge Target will be share by B2C).\rAgent list of 31st Jan‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rIncentive plan: \r‚Ä¢\t100K~200K volume DD: 10K incentives\r‚Ä¢\t200K~400K volume DD: 20K incentives\r‚Ä¢\t400K & above volume DD: 30K incentives\r\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007DD Code\r\u0007Target Recharge\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r15th Dec‚Äô24\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Delower Hossen ROBIN\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "--------------------------------- REPORT HELPER QUERY -----------------------------------------\n-- STEP 1: VERIFY SUPPORTING DATA\n--# THIS TARGET TABLE WILL BE CREATED BASED ON COMMISSION NAME AND BASE MONTH --#\n-- 7429 9574 61554\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Bundle Campaign_Central Cluster_22nd to 31st Jan25';\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jan_25'; --base month\nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7429 and  CYCLEID = 9574;--61554\n\n-- *** Create TEMP TARGET Table *** \n--CREATE TABLE TEMP_FOR_DENO_CAMP_TAR_22_31_JAN25 AS\nSELECT CHANNEL_CODE DD_CODE, TARGET FROM COM_KPI_CONDITION_TARGET where REPORTCYCLE_ID = 61554;\n\n--drop table TEMP_FOR_DENO_CAMP_TAR_22_31_JAN25 purge;\nSELECT * FROM TEMP_FOR_DENO_CAMP_TAR_22_31_JAN25;--53  Rows\n--update TEMP_FOR_DENO_CAMP_TAR_22_31_JAN25 set DD_CODE = trim(DD_CODE),target=round(target);\n--commit;\nSELECT * FROM DD_RSO_RET_MAPPING_DAILY;\nSELECT * FROM EV_RECHARGE_COM_DAILY;\n\n-- STEP 2: AGENT LIST CREATE --\n--DROP TABLE TEMP_FOR_AG_LIST_MAP_22_31_JAN25 PURGE;\nCREATE TABLE TEMP_FOR_AG_LIST_MAP_22_31_JAN25 AS\nSELECT TAR.*,AG.RET_CODE RETAILER_CODE, AG.RET_MOBILE RET_MSISDN FROM \nTEMP_FOR_DENO_CAMP_TAR_22_31_JAN25 TAR \nINNER JOIN DD_RSO_RET_MAPPING_DAILY AG ON AG.DD_CODE=TAR.DD_CODE AND AG.DATA_DATE = '31-JAN-25';--118169  Rows\n\nSELECT * FROM TEMP_FOR_AG_LIST_MAP_22_31_JAN25;-- 118169  Rows\n\n--  COMMISSION CALCULATION QUERY START --\n--DROP TABLE TEMP_FOR_DD_DENO_DAT_22_31JAN25 PURGE;\n--CREATE TABLE TEMP_FOR_DD_DENO_DAT_22_31JAN25 AS\nWITH DD_WISE_ACHIEVEMENT AS ( \n    SELECT AG.DD_CODE,AG.TARGET,SUM(RECHARGE_AMOUNT) ACH\n    FROM TEMP_FOR_AG_LIST_MAP_22_31_JAN25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '22-JAN-25' AND '31-JAN-25') -- # Effective Date: 22-Jan-2025   End Date: 31-Jan-2025 -- #\n    AND EV.RECHARGE_AMOUNT IN (199,227,397,448,549)\n    GROUP BY AG.DD_CODE,  AG.TARGET\n)\n--SELECT * FROM DD_WISE_ACHIEVEMENT; --57  Rows\n--,DD_WISE_PERCENTAGE AS (\n--SELECT ACHIEVEMENT.*,ROUND((ACH/TARGET)*100) ACH_PER\n--FROM DD_WISE_ACHIEVEMENT ACHIEVEMENT\n--)\n--SELECT * FROM DD_WISE_PERCENTAGE;--119 Rows\n,CALCULATE_COMMISSION AS (\n    SELECT DD_CODE,  TARGET, ACH,\n    CASE \n    WHEN  ACH >= 400000 THEN 30000   -- # Upon achieving Deno Recharge target (Cumulative of DENO), Distributor will be given incentives as per below Slab -- #\n    WHEN  ACH >= 200000 THEN 20000\n    WHEN  ACH >= 100000 THEN 10000\n    ELSE 0 END COMMISSION\n    FROM DD_WISE_ACHIEVEMENT \n)\nSELECT * FROM CALCULATE_COMMISSION;--53 Rows  --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_DENO_DAT_22_31JAN25) --#\nSELECT SUM(COMMISSION) FROM CALCULATE_COMMISSION;--1010000 TAKA\n--# OVERLOOKING THE 1ST DETAILS TABLE DATA --#\nSELECT * FROM TEMP_FOR_DD_DENO_DAT_22_31JAN25;--53  Rows\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_DENO_DAT_22_31JAN25;--1010000 TK\n------- 2nd detail---------\n\n-- STEP 4: CREATING THE 2ND DETAILS TABLE DATA --\nCREATE TABLE TEMP_FOR_DD_DENO_DAT2_22_31JAN25 AS\nWITH DD_WISE_ACHIEVEMENT AS ( \n    SELECT AG.DD_CODE,RETAILER_MSISDN,SUB_MSISDN CUSTOMER_MSISDN,AG.TARGET,RECHARGE_AMOUNT\n    FROM TEMP_FOR_AG_LIST_MAP_22_31_JAN25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '22-JAN-25' AND '31-JAN-25') AND EV.RECHARGE_AMOUNT IN (199,227,397,448,549)\n--    GROUP BY AG.DD_CODE,  AG.TARGET\n)\nSELECT * FROM DD_WISE_ACHIEVEMENT;\n\n--# OVERLOOKING THE 2ND DETAILS TABLE DATA --#\nSELECT * FROM TEMP_FOR_DD_DENO_DAT2_22_31JAN25; --50172  Rows\n\n------------------------SETUP----------------------\n\n--STEP 5: PREPARE FOR REPORT PUBLISHING\n --REPORT_ID : 7985 (UPDATE WITH ACTUAL REPORT ID) \n-- 7429 9574 61554\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Bundle Campaign_Central Cluster_22nd to 31st Jan25';\n-- BASE_CYCLE_ID : 0022  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jan_25'; --base month\n-- REPORT_CYCLE_ID : 0033 (UPDATE WITH ACTUAL REPORT CYCLE ID) \nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7429 and  CYCLEID = 9574;--61554\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 61554;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 61554;\n--commit;\n\n-- INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 61554 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_DD_DENO_DAT_22_31JAN25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 61554; -- 1010000 TAKA\n\n--PUBLISH_CYCLE_ID : 0044  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jun_25 if today = 30-Jun-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Feb_25'; --Publish month --9674\n\n --STEP 6: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\n--EXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Bundle Campaign_Central Cluster_22nd to 31st Jan25',9674,'TEMP_FOR_DD_DENO_DAT_22_31JAN25','SUMMERY_DETAIL','TEMP_FOR_DD_DENO_DAT2_22_31JAN25','MSISDN_DETAIL');\n\n --STEP 7: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\n--EXEC FINALIZE_REPORT_ADHOC('Distributor Bundle Campaign_Central Cluster_22nd to 31st Jan25', 61554,'Jan_25', 'Feb_25',290, 1);\n\n\n\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Md. Nazmul Islam\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 23-Jan-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno Recharge\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Bundle Campaign_GAZ_TAN_SYL_23rd to 31st Jan25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 23-Jan-2025        ( End Date: 31-Jan-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno Recharge\rDeno Recharge\rDistributor will be given Deno recharge target. (Target will be provided by B2C)\rSelected Deno will be consider for performance calculation. \rDeno: Deno List will share by B2C\r\rUpon achieving Deno Recharge target (Cumulative of DENO), Distributor will be given 0.8% incentives on Total Recharge amount (Distributor wise Recharge Target will be share by B2C).\r\rIncentive is capped upto 120%.\r\rAgent list of 31st Jan‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rExample:\r\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007DD Code\r\u0007Target Recharge\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r15th Dec‚Äô24\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Md. Nazmul Islam\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "-------------------------------HELPER QUERY------------------------------------\n-- STEP 1: CREATING COMMISSION TARGET TABLE\n--#HERE TARGET TABLE FOR THE COMMISSION WILL BE CREATED--#\nCREATE TABLE TEMP_FOR_DENO_GTS_TAR_31JAN25 AS\nselect CHANNEL_CODE DD_CODE, TARGET from COM_KPI_CONDITION_TARGET \nWHERE REPORTCYCLE_ID = (SELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS \nwhere REPORTID = (SELECT REPORTID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Bundle Campaign_GAZ_TAN_SYL_23rd to 31st Jan25') and  --#HERE REPORT NAME WILL BE COMMISSOIN REPORT WISE --#\nCYCLEID = (SELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jan_25'));--49  Rows --#HERE CYCLEDESCRIPTION WILL BE THE BASE MONTH --#\n\nSELECT * FROM TEMP_FOR_DENO_GTS_TAR_31JAN25;--49  Rows --# THIS IS THE CREATED TARGET TABLE --#\n\n--UPDATE TEMP_FOR_DENO_GTS_TAR_31JAN25 SET DD_CODE = TRIM(DD_CODE),TARGET = round(TARGET), INCENTIVE = round(INCENTIVE);\n--COMMIT;\n\n-- STEP 2: CREATING THE AGENT LIST \n--DROP TABLE TEMP_FOR_AG_GTS_MAP_31JAN25 PURGE;\nCREATE TABLE TEMP_FOR_AG_GTS_MAP_31JAN25 AS\nSELECT TAR.*,AG.RETAILER_CODE, AG.TOPUP_MSISDN RET_MSISDN \nFROM TEMP_FOR_DENO_GTS_TAR_31JAN25 TAR \nINNER JOIN AGENT_LIST_DAILY AG ON AG.DIST_CODE=TAR.DD_CODE AND AG.DATA_DATE = '31-JAN-25';--86632  Rows --#HERE DATA DATE WILL BE THE LAST DATE OF THE CAMPAIGN PERIOD --#\n\nSELECT * FROM TEMP_FOR_AG_GTS_MAP_31JAN25;--86632  Rows --#THIS IS THE CREATED AGENT LIST TABLE--#\n\n-- STEP 3: COMMISSION QUERY START \n--DROP TABLE TEMP_FOR_DD_GTS_DET1_31JAN25 PURGE;\nCREATE TABLE TEMP_FOR_DD_GTS_DET1_31JAN25 AS --#THIS THE 1ST DETAIL FOR THIS COMMISSION WHERE COMMISSION AMOUNT IN CALCULATED\nWITH DD_WISE_ACHIEVEMENT AS ( \n    SELECT AG.DD_CODE,AG.TARGET,SUM(RECHARGE_AMOUNT) TOTAL_RECHARGE,ROUND(TARGET*1.20) MAX_CAP\n    FROM TEMP_FOR_AG_GTS_MAP_31JAN25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '23-JAN-25' AND '31-JAN-25') \n    AND EV.RECHARGE_AMOUNT IN (28,38,49,58,69,79,89,96,99,108,118,129,149,169,199,209,229,\n    249,279,299,399,499,549,599,649,699,799,859,899,42,48,78,81,98,104,148,198,222,224,248,298,348,398,448,498,548,\n648,698,798,998,19,27,33,34,47,57,64,77,97,117,127,\n147,157,167,177,197,207,227,247,297,337,397,447,497,597,897,1397)--# THIS LOGIC IS FOR Deno GIVEN CONDITION AND TOP_UP_DATE WILL BE Effective Date--#\n    GROUP BY AG.DD_CODE,  AG.TARGET\n)\n--SELECT * FROM DD_WISE_ACHIEVEMENT;--35  Rows\n-- STEP 4: CALCULATING ACHIEVMENT PERCENTAGE\n,DD_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,ROUND((TOTAL_RECHARGE/TARGET)*100) ACH_PER\nFROM DD_WISE_ACHIEVEMENT ACHIEVEMENT\n)\n--SELECT * FROM DD_WISE_PERCENTAGE;--357  Rows\n-- STEP 5: CALCULATING COMMISSION AMOUNT\n,CALCULATE_COMMISSION AS (\n    SELECT DD_CODE,  TARGET, TOTAL_RECHARGE,ACH_PER,\n    CASE\n        WHEN  ACH_PER >= 120 THEN ROUND(MAX_CAP * .008)--# \tIncentive is capped upto 120%.#\n        WHEN  ACH_PER >= 100 THEN ROUND(TOTAL_RECHARGE * .008)--# \tUpon achieving Deno Recharge target, Distributor will be given 0.8% incentives on Total Recharge amount #\n        ELSE 0\n    END COMMISSION\n    FROM DD_WISE_PERCENTAGE \n)\nSELECT * FROM CALCULATE_COMMISSION;--49  Rows  --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_GTS_DET1_31JAN25) --#\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;--311939 TK\n\n-- STEP 6: CHECKING THE CRATED TABLE DATA\nSELECT * FROM TEMP_FOR_DD_GTS_DET1_31JAN25;--49  Rows\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_GTS_DET1_31JAN25;--311939 TK\n\n------------------SETUP-----------------------\n--STEP 7: PREPARE FOR REPORT PUBLISHING\n\n--REPORT_ID : 7437 (UPDATE WITH ACTUAL REPORT ID)\n-- 7437 9574 61576\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Bundle Campaign_GAZ_TAN_SYL_23rd to 31st Jan25';\n-- BASE_CYCLE_ID : 9574  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Jan_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jan_25'; --base month\n-- REPORT_CYCLE_ID : 61576 (UPDATE WITH ACTUAL REPORT CYCLE ID)\nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7437 and  CYCLEID = 9574;--61576\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 61576;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 61576;\n--commit;\n\n--STEP 8:INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 61576 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_DD_GTS_DET1_31JAN25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 61576; -- 311939 TAKA\n\n--PUBLISH_CYCLE_ID : 9674  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month--#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Feb_25'; --base month\n--STEP 9: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\nEXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Bundle Campaign_GAZ_TAN_SYL_23rd to 31st Jan25',9674,'TEMP_FOR_DD_GTS_DET1_31JAN25','SUMMARY DETAILS');\n\n--STEP 10: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Distributor Bundle Campaign_GAZ_TAN_SYL_23rd to 31st Jan25', 61576,'Jan_25', 'Feb_25',290, 1);\n\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Delower Hossen ROBIN\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 2-Mar-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno HIT\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Deno Booster Campaign_1st to 9th Mar25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 1-Mar-2025        ( End Date: 9-Mar-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno HIT\rDeno HIT\rDistributor will be given Deno HIT target. (Target will be provided by B2C)\rSelected Deno will be consider for performance calculation. \rDeno: 397_548_549\r\rUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 50 incentives per HIT (Distributor wise HIT Target will be share by B2C).\r\rUpon achieving 90% to 99% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 40 incentives per HIT (Distributor wise HIT Target will be share by B2C).\r\rIncentive is capping to 200% achievement.\r\rCelebration Incentives: DD will also receive a celebration budget of BDT 150 per RSO if DD achieves 100% Target of 1st to 9th Mar‚Äô25 (Celebration amount will be share by B2C). No Celebration Budget for West Cluster.\r\r\rAdditional Incentives: If Distribution achieves 100% of the target from 1st to 9th Mar‚Äô25 then,\r\rDD will receive an additional BDT 10 per Deno hit during of 7th to 9th Mar‚Äô25 for North East Cluster, Central Cluster, East Cluster, North Cluster which is uncapped.\r\rDD will receive an additional BDT 20 per Deno hit during of 7th to 9th Mar‚Äô25 for West Cluster which is uncapped.\r\rExample for North East Cluster, Central Cluster, East Cluster, North Cluster: If DD achieves 500 Deno hits between 7th to 9th Mar‚Äô25, DD will receive an additional incentive of: 500 Deno hits √ó BDT 10 = BDT 5,000\r\rExample for West Cluster: If DD achieves 500 Deno hits between 7th to 9th Mar‚Äô25, DD will receive an additional incentive of: 500 Deno hits √ó BDT 20 = BDT 10,000\r\r\r\rAgent list of 9th Mar‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rExample:\r\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007DD Code\r\u0007Target HIT\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r10th Mar‚Äô25\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Delower Hossen ROBIN\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "--------------------------------- REPORT HELPER QUERY -----------------------------------------\n\n-- STEP 1: VERIFY SUPPORTING DATA\n--# THIS TARGET TABLE WILL BE CREATED BASED ON COMMISSION NAME AND BASE MONTH --#\n--create table TEMP_FOR_DENO_TAR_9_MAR25 as\n--select CHANNEL_CODE DD_CODE, TARGET from COM_KPI_CONDITION_TARGET \n--WHERE REPORTCYCLE_ID = (SELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS \n--where REPORTID = (SELECT REPORTID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Deno_North East Cluster_BDT_399_448_548_498_549_10th to 15th Feb25') and  \n--CYCLEID = (SELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Feb_25'));--355  Rows\n\nSELECT DISTINCT CLUSTER_NAME FROM TEMP_FOR_DENO_TAR_9_MAR25;--342  Rows\n\n-- STEP 2: AGENT LIST CREATE --\n--DROP TABLE TEMP_FOR_AG_MAP_09_MAR25 PURGE;\nCREATE TABLE TEMP_FOR_AG_MAP_09_MAR25 AS\nSELECT TAR.*,AG.RET_CODE RETAILER_CODE, AG.RET_MOBILE RET_MSISDN \nFROM TEMP_FOR_DENO_TAR_9_MAR25 TAR \nINNER JOIN DD_RSO_RET_MAPPING_DAILY AG ON AG.DD_CODE=TAR.DD_CODE AND AG.DATA_DATE = '09-MAR-25';--118276  Rows \n\nSELECT * FROM TEMP_FOR_AG_MAP_09_MAR25;-- 561279  Rows\nSELECT * FROM EV_RECHARGE_COM_DAILY;\n\n--  COMMISSION CALCULATION QUERY START --\n--DROP TABLE TEMP_FOR_DD_DN_DET_09MAR25 PURGE;\nCREATE TABLE TEMP_FOR_DD_DN_DET_09MAR25 AS\nWITH RSO_WISE_ACHIEVEMENT AS ( \n    SELECT CLUSTER_NAME,AG.DD_CODE,AG.TARGET,COUNT(RECHARGE_AMOUNT) HIT,RSO_COUNT, CELEBRATION_BUDGET\n    FROM TEMP_FOR_AG_MAP_09_MAR25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '1-MAR-25' AND '09-MAR-25') AND EV.RECHARGE_AMOUNT IN (397,548,549)\n    GROUP BY AG.DD_CODE,  AG.TARGET,RSO_COUNT, CELEBRATION_BUDGET,CLUSTER_NAME\n)\n--SELECT * FROM RSO_WISE_ACHIEVEMENT;--335  Rows,\n,DD_DATE_WISE_ACH AS(\nSELECT AG.DD_CODE,COUNT(RECHARGE_AMOUNT) HIT\n    FROM TEMP_FOR_AG_MAP_09_MAR25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '7-MAR-25' AND '09-MAR-25') AND EV.RECHARGE_AMOUNT IN (397,548,549)\n    GROUP BY AG.DD_CODE,  AG.TARGET,RSO_COUNT, CELEBRATION_BUDGET,CLUSTER_NAME\n)\n--SELECT * FROM DD_DATE_WISE_ACH;\n,RET_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,ROUND((HIT/TARGET)*100) ACH_PER\nFROM RSO_WISE_ACHIEVEMENT ACHIEVEMENT\n)\n--SELECT * FROM RET_WISE_PERCENTAGE;--52  Rows\n,CALCULATE_COMMISSION AS (\n    SELECT ACH.CLUSTER_NAME,ACH.DD_CODE,  ACH.TARGET, ACH.HIT,ACH_PER, ACH.RSO_COUNT, ACH.CELEBRATION_BUDGET,DAT.HIT HIT_7_9,\n    CASE \n    WHEN ACH.CLUSTER_NAME IN ('East Cluster','North Cluster','North East Cluster','Central Cluster') THEN\n        CASE \n            WHEN  ACH_PER >= 200 THEN ((ACH.TARGET*2)*50)+CELEBRATION_BUDGET+(DAT.HIT*10)  -- # Incentive is capping to 200% achievement. --#\n            WHEN  ACH_PER >= 100 THEN (ACH.HIT*50)+CELEBRATION_BUDGET+(DAT.HIT*10) -- #  \tUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 50 incentives per HIT + \n\t\t\t  -- Additional Incentives: DD will receive an additional BDT 10 per Deno hit during of 7th to 9th Mar‚Äô25 for North East Cluster, Central Cluster, East Cluster, North Cluster which is uncapped\n            WHEN  ACH_PER >= 90 THEN ACH.HIT*40 --  Upon achieving 90% to 99% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 40 incentives per HIT\n            ELSE 0 END\n     WHEN ACH.CLUSTER_NAME IN ('West Cluster') THEN\n        CASE \n            WHEN  ACH_PER >= 200 THEN ((TARGET*2)*50)+(DAT.HIT*20)  -- # Incentive is capping to 200% achievement. --#\n            WHEN  ACH_PER >= 100 THEN (ACH.HIT*50)+(DAT.HIT*20)  -- #  \tUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 50 incentives per HIT + \n\t\t\t  -- DD will receive an additional BDT 20 per Deno hit during of 7th to 9th Mar‚Äô25 for West Cluster which is uncapped.\n            WHEN  ACH_PER >= 90 THEN ACH.HIT*40 --  Upon achieving 90% to 99% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 40 incentives per HIT\n            ELSE 0 END\n     ELSE 0 END COMMISSION\n    FROM RET_WISE_PERCENTAGE ACH\n    LEFT JOIN DD_DATE_WISE_ACH DAT ON DAT.DD_CODE = ACH.DD_CODE\n)\nSELECT * FROM CALCULATE_COMMISSION;--354  Rows --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_DN_DET_09MAR25) --#\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;--529020        308025   TAKA\n\n--# OVERLOOKING THE 1ST DETAILS TABLE DATA --#\nSELECT * FROM TEMP_FOR_DD_DN_DET_09MAR25;--73  Rows\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_DN_DET_09MAR25;--6225490 TK\n\n-------------DETAIL------------\n\n-- STEP 4: CREATING THE 2ND DETAILS TABLE DATA --\n--DROP TABLE TEMP_FOR_DD_BOS_DET2_9MAR25 PURGE;\nCREATE TABLE TEMP_FOR_DD_BOS_DET2_9MAR25 AS\nWITH DD_WISE_ACHIEVEMENT AS ( \n    SELECT AG.DD_CODE,RETAILER_CODE,RET_MSISDN,SUB_MSISDN CUSTOMER_MSISDN,RECHARGE_AMOUNT--AG.TARGET,COUNT(RECHARGE_AMOUNT) HIT\n    FROM TEMP_FOR_AG_MAP_09_MAR25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '1-MAR-25' AND '09-MAR-25') AND EV.RECHARGE_AMOUNT IN (397,548,549)\n--    AND REGION IN ('Sylhet')\n--    AND SERVICE_CLASS_ID NOT IN (141) \n--    AND NOT EXISTS(SELECT MOBILENO FROM VW_EMPLOYEESALESCOM_MONTHLY VE WHERE VE.DATE_DATE='1-JAN-24' AND VE.MOBILENO=EV.SUB_MSISDN)\n\n)\nSELECT * FROM DD_WISE_ACHIEVEMENT;--109117  Rows\n\n--# OVERLOOKING THE 2ND DETAILS TABLE DATA --#\nSELECT * FROM TEMP_FOR_DD_BOS_DET2_9MAR25;--14686  Rows  54522146\n\n------------------------SETUP----------------------\n\n--STEP 5: PREPARE FOR REPORT PUBLISHING\n --REPORT_ID : 7985 (UPDATE WITH ACTUAL REPORT ID)\n-- 7650 9754 62754\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Deno Booster Campaign_1st to 9th Mar25';\n-- BASE_CYCLE_ID : 0022  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Mar_25'; --base month\n-- REPORT_CYCLE_ID : 0033 (UPDATE WITH ACTUAL REPORT CYCLE ID) \nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7650 and  CYCLEID = 9754;--62754\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 62754;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 62754;\n--commit;\n\n-- INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 62754 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_DD_DN_DET_09MAR25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 62754; --    6225490             529020 TAKA\n\n--PUBLISH_CYCLE_ID : 0044  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jun_25 if today = 30-Jun-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Mar_25'; --Publish month --9754\n \n  --STEP 6: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\n EXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Deno Booster Campaign_1st to 9th Mar25',9754,'TEMP_FOR_DD_DN_DET_09MAR25','SUMMERY_DETAIL','TEMP_FOR_DD_BOS_DET2_9MAR25','MSISDN DETAIL');\n \n  --STEP 7: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Distributor Deno Booster Campaign_1st to 9th Mar25', 62754,'Mar_25', 'Mar_25',290, 1);\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Delower Hossen ROBIN\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 11-Feb-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno HIT\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Deno Campaign_12th Feb25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 12-Feb-2025        ( End Date: 12-Feb-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno HIT\rDeno HIT\rDistributor will be given Deno HIT target. (Target will be provided by B2C)\rSelected Deno will be consider for performance calculation. \rDeno: 497_597_698_699_798_799_998\r\rUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given slab based incentives (Distributor wise HIT Target will be share by B2C).\r\rAgent list of 12th Feb‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rAny recharge of campaign deno at BL employee pool phone number will not be considered for DH & Retail achievement.\rRyze Recharge (Service Class 141) will not be considered for performance calculation.\r\rService Class\r\u0007\r\u0007\r\u0007¬†141\r\u0007¬†\r\u0007\r\u0007\r\rSlab\r\u0007Incentives BDT\r\u0007\r\u000770%-90%\r\u0007BDT 10\r\u0007\r\u0007\r\u0007\r\u0007\r\u000791%-100%\r\u0007BDT 15\r\u0007\r\u0007101%-110%\r\u0007BDT 20\r\u0007\r\u0007111% and Above\r\u0007BDT 25\r\u0007\r\u0007\r\r\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007\r\u0007Target HIT\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   30th Jan‚Äô25\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Delower Hossen ROBIN\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "-------------------------------HELPER QUERY------------------------------------\n-- STEP 1: CREATING COMMISSION TARGET TABLE\n--#HERE TARGET TABLE FOR THE COMMISSION WILL BE CREATED--#\ncreate table TEMP_FOR_DENO_CAMP_TAR_12_FEB25 as\nselect CHANNEL_CODE DD_CODE, TARGET from COM_KPI_CONDITION_TARGET \nWHERE REPORTCYCLE_ID = (SELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS \nwhere REPORTID = (SELECT REPORTID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Deno Campaign_12th Feb25') and  --#HERE REPORT NAME WILL BE COMMISSOIN REPORT WISE --#\nCYCLEID = (SELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Feb_25'));--355  Rows --#HERE CYCLEDESCRIPTION WILL BE THE BASE MONTH --#\n\nSELECT * FROM TEMP_FOR_DENO_CAMP_TAR_12_FEB25;--355  Rows --# THIS IS THE CREATED TARGET TABLE --#\n\n-- STEP 2: CREATING THE AGENT LIST \n--DROP TABLE TEMP_FOR_AG_LIST_MAP_12_FEB25 PURGE;\nCREATE TABLE TEMP_FOR_AG_LIST_MAP_12_FEB25 AS\nSELECT TAR.*,AG.RET_CODE RETAILER_CODE, AG.RET_MOBILE RET_MSISDN \nFROM TEMP_FOR_DENO_CAMP_TAR_12_FEB25 TAR \nINNER JOIN DD_RSO_RET_MAPPING_DAILY AG ON AG.DD_CODE=TAR.DD_CODE AND AG.DATA_DATE = '12-FEB-25';--117449  Rows --#HERE DATA DATE WILL BE THE LAST DATE OF THE CAMPAIGN PERIOD --#\n\nSELECT * FROM TEMP_FOR_AG_LIST_MAP_12_FEB25;-- 563873  Rows --#THIS IS THE CREATED AGENT LIST TABLE--#\nSELECT * FROM EV_RECHARGE_COM_DAILY;\n\n-- STEP 3: COMMISSION QUERY START\n--DROP TABLE TEMP_FOR_DD_DENO_DET_12_FEB25 PURGE;\nCREATE TABLE TEMP_FOR_DD_DENO_DET_12_FEB25 AS --#THIS THE 1ST DETAIL FOR THIS COMMISSION WHERE COMMISSION AMOUNT IN CALCULATED\nWITH RSO_WISE_ACHIEVEMENT AS ( \n    SELECT AG.DD_CODE,AG.TARGET,COUNT(RECHARGE_AMOUNT) HIT\n    FROM TEMP_FOR_AG_LIST_MAP_12_FEB25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '12-FEB-25' AND '12-FEB-25') AND EV.RECHARGE_AMOUNT IN (497,597,698,699,798,799,998) --# THIS LOGIC IS FOR Deno: 497, 629, 648, 748, 729, 848, 849, 998 GIVEN CONDITION AND TOP_UP_DATE WILL BE Effective Date--#\n    AND SERVICE_CLASS_ID NOT IN (141) --# Ryze Recharge (Service Class 141) will not be considered for performance calculation --#\n    AND NOT EXISTS(SELECT MOBILENO FROM VW_EMPLOYEESALESCOM_MONTHLY VE WHERE VE.DATE_DATE='1-JAN-24' AND VE.MOBILENO=EV.SUB_MSISDN)--#Any recharge of campaign deno at BL employee pool phone number will not be considered for DH & Retail achievement. Employee mapping 1st Jan‚Äô24 will be consider. --#\n    GROUP BY AG.DD_CODE,  AG.TARGET\n)\n--SELECT * FROM RSO_WISE_ACHIEVEMENT;--334  Rows\n-- STEP 4: CALCULATING ACHIEVMENT PERCENTAGE\n,RET_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,ROUND((HIT/TARGET)*100) ACH_PER\nFROM RSO_WISE_ACHIEVEMENT ACHIEVEMENT\n)\n--SELECT * FROM RET_WISE_PERCENTAGE;--354  Rows\n-- STEP 5: CALCULATING COMMISSION AMOUNT\n,CALCULATE_COMMISSION AS (\n    SELECT DD_CODE,  TARGET, HIT,ACH_PER,\n    CASE\n        WHEN  ACH_PER >= 111 THEN HIT*25 -- # SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        WHEN  ACH_PER >= 101 THEN HIT*20 -- # SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        WHEN  ACH_PER >= 91 THEN HIT*15 -- # SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        WHEN  ACH_PER >= 70 THEN HIT*10 -- # SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        ELSE 0\n    END COMMISSION\n    FROM RET_WISE_PERCENTAGE \n)\nSELECT * FROM CALCULATE_COMMISSION;--354  Rows --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_DN_DET_1_MAY25) --#\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;--308025    408575 TAKA\n\n-- STEP 6: CHECKING THE CRATED TABLE DATA\nSELECT * FROM TEMP_FOR_DD_DENO_DET_12_FEB25;--354  Rows\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_DENO_DET_12_FEB25;--308025            408575 TK\n\n-------------DETAIL------------\n--STEP 7: CREATING 2ND DETAIL TABLE\n--DROP TABLE TEMP_FOR_DD_DENO_DET2_12_FEB25 PURGE;\nCREATE TABLE TEMP_FOR_DD_DENO_DET2_12_FEB25 AS\nWITH DD_WISE_ACHIEVEMENT AS ( \n    SELECT AG.DD_CODE,RETAILER_CODE,RET_MSISDN,SUB_MSISDN CUSTOMER_MSISDN,RECHARGE_AMOUNT--AG.TARGET,COUNT(RECHARGE_AMOUNT) HIT\n    FROM TEMP_FOR_AG_LIST_MAP_12_FEB25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '12-FEB-25' AND '12-FEB-25') AND EV.RECHARGE_AMOUNT IN (497,597,698,699,798,799,998) --# THIS LOGIC IS FOR Deno: 497, 629, 648, 748, 729, 848, 849, 998 GIVEN CONDITION AND TOP_UP_DATE WILL BE Effective Date--#\n    AND SERVICE_CLASS_ID NOT IN (141) --# Ryze Recharge (Service Class 141) will not be considered for performance calculation --#\n    AND NOT EXISTS(SELECT MOBILENO FROM VW_EMPLOYEESALESCOM_MONTHLY VE WHERE VE.DATE_DATE='1-JAN-24' AND VE.MOBILENO=EV.SUB_MSISDN)--#Any recharge of campaign deno at BL employee pool phone number will not be considered for DH & Retail achievement. Employee mapping 1st Jan‚Äô24 will be consider. --#\n)\nSELECT * FROM DD_WISE_ACHIEVEMENT;--15446  Rows --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_DENO_DET2_12_FEB25) --#\n\nselect * from TEMP_FOR_DD_DENO_DET2_12_FEB25;--15446  Rows\n\n----------------SETUP-----------\n--STEP 8: PREPARE FOR REPORT PUBLISHING\n--REPORT_ID : 7522 (UPDATE WITH ACTUAL REPORT ID) \n-- 7522 9674 62034\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Deno Campaign_12th Feb25';\n-- BASE_CYCLE_ID : 9674  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (May_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Feb_25'; --base month\n-- REPORT_CYCLE_ID : 62034 (UPDATE WITH ACTUAL REPORT CYCLE ID) \nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7522 and  CYCLEID = 9674;--62034\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 62034;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 62034;\n--commit;\n\n--STEP 9: INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 62034 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_DD_DENO_DET_12_FEB25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 62034; -- 308025 TAKA\n\n--PUBLISH_CYCLE_ID : 9674  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Feb_25 if today = 28-Feb-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Feb_25'; --Publish month --9674\n\n--STEP 10: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\nEXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Deno Campaign_12th Feb25',9674,'TEMP_FOR_DD_DENO_DET_12_FEB25','SUMMERY_DETAIL','TEMP_FOR_DD_DENO_DET2_12_FEB25','MSISDN_DETAIL');\n --STEP 11: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Distributor Deno Campaign_12th Feb25', 62034,'Feb_25', 'Feb_25',290, 1);\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Delower Hossen ROBIN\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 16-Feb-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno HIT\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Deno Campaign_15th Feb25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 15-Feb-2025        ( End Date: 15-Feb-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno HIT\rDeno HIT\rDistributor will be given Deno HIT target. (Target will be provided by B2C)\rSelected Deno will be consider for performance calculation. \rDeno: 497_597_698_699_798_799_998\r\rUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given slab based incentives (Distributor wise HIT Target will be share by B2C).\r\rAgent list of 15th Feb‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rAny recharge of campaign deno at BL employee pool phone number will not be considered for DH & Retail achievement.\rRyze Recharge (Service Class 141) will not be considered for performance calculation.\r\rService Class\r\u0007\r\u0007\r\u0007¬†141\r\u0007¬†\r\u0007\r\u0007\r\rSlab\r\u0007Incentives BDT\r\u0007\r\u000770%-90%\r\u0007BDT 10\r\u0007\r\u0007\r\u0007\r\u0007\r\u000791%-100%\r\u0007BDT 15\r\u0007\r\u0007101%-110%\r\u0007BDT 20\r\u0007\r\u0007111% and Above\r\u0007BDT 25\r\u0007\r\u0007\r\r\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007\r\u0007Target HIT\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   30th Jan‚Äô25\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Delower Hossen ROBIN\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "-------------------------------HELPER QUERY------------------------------------\n--# STEP 1: VERIFY SUPPORTING DATA\n--TARGET\ncreate table TEMP_FOR_DENO_CAM_TAR_15_FEB25 as\nselect CHANNEL_CODE DD_CODE, TARGET from COM_KPI_CONDITION_TARGET \nWHERE REPORTCYCLE_ID = (SELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS \nwhere REPORTID = (SELECT REPORTID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Deno Campaign_15th Feb25') and  \nCYCLEID = (SELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Feb_25'));--355  Rows # WE PROVIDE COMMISSION NAME AND BASE MONTH HERE, AND THEN WE FIND THE TARGET FILE DATA --#\n\nSELECT * FROM TEMP_FOR_DENO_CAM_TAR_15_FEB25;--355  Rows # THIS TABLE TARGET TABLE, NO NEED TO CREATE FURTHER, THIS TABLE DATA COMES FROM ABOVE LOGIC WHERE WE PROVIDE COMMISSION NAME AND BASE MONTH HERE --#\n\n--DROP TABLE TEMP_FOR_AG_LST_MAP_15_FEB25 PURGE;\nCREATE TABLE TEMP_FOR_AG_LST_MAP_15_FEB25 AS --# HERE WE CREATE THE AGENT LIST --#\nSELECT TAR.*,AG.RET_CODE RETAILER_CODE, AG.RET_MOBILE RET_MSISDN \nFROM TEMP_FOR_DENO_CAM_TAR_15_FEB25 TAR \nINNER JOIN DD_RSO_RET_MAPPING_DAILY AG ON AG.DD_CODE=TAR.DD_CODE AND AG.DATA_DATE = '15-FEB-25';--117449  Rows --#  Here is\tAgent list of 1st Jul‚Äô25 will be considered. --#\n\nSELECT * FROM TEMP_FOR_AG_LST_MAP_15_FEB25;-- 563873  Rows # THIS TABLE CONTAINS AGENT LIST --#\nSELECT * FROM EV_RECHARGE_COM_DAILY; --# THIS TABLE IS USED FOR EV RECHARGE DATA --#\n\n--DROP TABLE TEMP_FOR_DD_DN_DET_15_FEB25 PURGE;\nCREATE TABLE TEMP_FOR_DD_DN_DET_15_FEB25 AS\nWITH RSO_WISE_ACHIEVEMENT AS ( \n    SELECT AG.DD_CODE,AG.TARGET,COUNT(RECHARGE_AMOUNT) HIT\n    FROM TEMP_FOR_AG_LST_MAP_15_FEB25 AG  -- # AGENT LIST --#\n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '15-FEB-25' AND '15-FEB-25') AND EV.RECHARGE_AMOUNT IN (497,597,698,699,798,799,998) -- #  Effective Date: 1-Jul-2025   End Date: 1-Jul-2025  AND\tDeno: 497,597,698,699,798,799,998 --#\n    AND SERVICE_CLASS_ID NOT IN (141) --# Ryze Recharge (Service Class 141) will not be considered for performance calculation --#\n    AND NOT EXISTS(SELECT MOBILENO FROM VW_EMPLOYEESALESCOM_MONTHLY VE WHERE VE.DATE_DATE='1-JAN-24' AND VE.MOBILENO=EV.SUB_MSISDN)--#  \tAny recharge of campaign deno at BL employee pool phone number will not be considered for DH & Retail achievement. Employee mapping 31st May‚Äô25 will be consider. --#\n    GROUP BY AG.DD_CODE,  AG.TARGET\n)\n--SELECT * FROM RSO_WISE_ACHIEVEMENT;--334  Rows\n,RET_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,ROUND((HIT/TARGET)*100) ACH_PER\nFROM RSO_WISE_ACHIEVEMENT ACHIEVEMENT\n)\n--SELECT * FROM RET_WISE_PERCENTAGE;--354  Rows\n,CALCULATE_COMMISSION AS (\n    SELECT DD_CODE,  TARGET, HIT,ACH_PER,\n    CASE\n        WHEN  ACH_PER >= 111 THEN HIT*25 -- # SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        WHEN  ACH_PER >= 101 THEN HIT*20 -- # SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        WHEN  ACH_PER >= 91 THEN HIT*15 -- # SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        WHEN  ACH_PER >= 70 THEN HIT*10 -- # SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        ELSE 0\n    END COMMISSION\n    FROM RET_WISE_PERCENTAGE \n)\nSELECT * FROM CALCULATE_COMMISSION;--354  Rows\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;--308025    408575 TAKA\n\nSELECT * FROM TEMP_FOR_DD_DN_DET_15_FEB25;--354  Rows --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_DN_DET_1JUL25) --#\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_DN_DET_15_FEB25;--250005            408575 TK\n\n-------------DETAIL------------\n\n--DROP TABLE TEMP_FOR_DD_DN_DET2_15_FEB25 PURGE;\nCREATE TABLE TEMP_FOR_DD_DN_DET2_15_FEB25 AS --# CREATE THE 2ND DETAILS TABLE FROM HERE (TEMP_FOR_DD_DN_DET2_1JUL25) --#\nWITH DD_WISE_ACHIEVEMENT AS ( \n    SELECT AG.DD_CODE,RETAILER_CODE,RET_MSISDN,SUB_MSISDN CUSTOMER_MSISDN,RECHARGE_AMOUNT--AG.TARGET,COUNT(RECHARGE_AMOUNT) HIT\n    FROM TEMP_FOR_AG_LST_MAP_15_FEB25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '15-FEB-25' AND '15-FEB-25') AND EV.RECHARGE_AMOUNT IN (497,597,698,699,798,799,998)\n    AND SERVICE_CLASS_ID NOT IN (141) \n    AND NOT EXISTS(SELECT MOBILENO FROM VW_EMPLOYEESALESCOM_MONTHLY VE WHERE VE.DATE_DATE='1-JAN-24' AND VE.MOBILENO=EV.SUB_MSISDN)\n)\nSELECT * FROM DD_WISE_ACHIEVEMENT;--13022  Rows\n\nselect * from TEMP_FOR_DD_DN_DET2_15_FEB25;--13022  Rows\n\n-----------------SETUP----------------\n--STEP 5: PREPARE FOR REPORT PUBLISHING\n--REPORT_ID : 0011 (UPDATE WITH ACTUAL REPORT ID) \nSELECT APP.REPORT_NAME, CT.CHANNELTYPE, APP.CHANNEL_TYPE_ID\nFROM REPORT_APPROVAL APP \nINNER JOIN CHANNELTYPE CT ON CT.CHANNELTYPEID = APP.CHANNEL_TYPE_ID\nWHERE APP.REPORT_NAME = 'Distributor Deno Campaign_15th Feb25';\n--CHANNEL_TYPE_ID   1\n\n--EXEC ADHOC_REPORT_SETUP('Distributor Deno Campaign_15th Feb25', 'Nov_24', 'Nov_24', 1, '12-Nov-24', '12-Nov-24', '', '13-NOV-24');\n\n-- 7541 9674 62152\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Deno Campaign_15th Feb25';\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Feb_25'; --base month\n-- REPORT_CYCLE_ID : 0033 (UPDATE WITH ACTUAL REPORT CYCLE ID) \nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7541 and  CYCLEID = 9674;--62152\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 62152;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 62152;\n--commit;\n\n-- INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 62152 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_DD_DN_DET_15_FEB25\n);\nCOMMIT;\n\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 62152; -- 308025 TAKA\n\n-- CYCLE_ID : 0044  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jul_25 if today = 15-JUL-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Feb_25'; --Publish month --9674\n   --STEP 6: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\nEXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Deno Campaign_15th Feb25',9674,'TEMP_FOR_DD_DN_DET_15_FEB25','SUMMERY_DETAIL','TEMP_FOR_DD_DN_DET2_15_FEB25','MSISDN_DETAIL');\n\n--STEP 7: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Distributor Deno Campaign_15th Feb25', 62152,'Feb_25', 'Feb_25',290, 1);\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Delower Hossen ROBIN\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 31-Dec-2024\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno HIT\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Deno Campaign_1st Jan25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 1-Jan-2025        ( End Date: 1-Jan-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno HIT\rDeno HIT\rDistributor will be given Deno HIT target. (Target will be provided by B2C)\rSelected Deno will be consider for performance calculation. \rDeno: 497_597_648_699_798_799_998\rUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given slab based incentives (Distributor wise HIT Target will be share by B2C).\rAgent list of 1st Jan‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rSlab\r\u0007Incentives BDT\r\u0007\r\u000770%-80%\r\u0007BDT 10\r\u0007\r\u000781%-90\r\u0007BDT 15\r\u0007\r\u000791%-100%\r\u0007BDT 20\r\u0007\r\u0007101%-110%\r\u0007BDT 25\r\u0007\r\u0007111% and Above\r\u0007BDT 30\r\u0007\r\u0007\r\r\r\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007\r\u0007Target HIT\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r11th Dec‚Äô24\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Delower Hossen ROBIN\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "-------------------------------HELPER QUERY------------------------------------\n--# STEP 1: CREATE SUPPORTING DATA TABLE\n--TARGET\nCREATE TABLE TEMP_FOR_DENO_CAMP_TAR_1JAN25 AS\nselect CHANNEL_CODE DD_CODE, TARGET from COM_KPI_CONDITION_TARGET \nWHERE REPORTCYCLE_ID = (SELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS \nwhere REPORTID = (SELECT REPORTID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Deno Campaign_1st Jan25') and  \nCYCLEID = (SELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jan_25'));--1278  Rows # WE PROVIDE COMMISSION NAME AND BASE MONTH HERE, AND THEN WE FIND THE TARGET FILE DATA --#\n\nSELECT * FROM TEMP_FOR_DENO_CAMP_TAR_1JAN25;--370  Rows # THIS TABLE TARGET TABLE, NO NEED TO CREATE FURTHER, THIS TABLE DATA COMES FROM ABOVE LOGIC WHERE WE PROVIDE COMMISSION NAME AND BASE MONTH HERE --#\n\n-- STEP 2: CREATING THE AGENT LIST \n--DROP TABLE TEMP_FOR_AGLIST_MAP_1JAN25 PURGE;\nCREATE TABLE TEMP_FOR_AGLIST_MAP_1JAN25 AS --# HERE WE CREATE THE AGENT LIST --#\nSELECT TAR.*,AG.RETAILER_CODE, AG.TOPUP_MSISDN RET_MSISDN \nFROM TEMP_FOR_DENO_CAMP_TAR_1JAN25 TAR \nINNER JOIN AGENT_LIST_DAILY AG ON AG.DIST_CODE=TAR.DD_CODE AND AG.DATA_DATE = '1-JAN-25';--134230  Rows --#  Here is\tAgent list of 1st JAN‚Äô25 will be considered. --#\n\nSELECT * FROM TEMP_FOR_AGLIST_MAP_1JAN25;--560646  Rows # THIS TABLE CONTAINS AGENT LIST --#\n\n-- STEP 3: COMMISSION QUERY START \n--DROP TABLE TEMP_FOR_DD_DN_DET1_1JAN25 PURGE;\nCREATE TABLE TEMP_FOR_DD_DN_DET1_1JAN25 AS --#THIS THE 1ST DETAIL FOR THIS COMMISSION WHERE COMMISSION AMOUNT IN CALCULATED\nWITH DD_WISE_ACHIEVEMENT AS ( \n    SELECT AG.DD_CODE,AG.TARGET,COUNT(RECHARGE_AMOUNT) HIT\n    FROM TEMP_FOR_AGLIST_MAP_1JAN25 AG -- # AGENT LIST --#\n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '1-JAN-25' AND '1-JAN-25') AND EV.RECHARGE_AMOUNT IN (497,597,648,699,798,799,998) -- #  Effective Date: 1-JAN-25   End Date: 1-JAN-25  AND\tDeno: 497,597,648,699,798,799,998 --#\n    GROUP BY AG.DD_CODE,  AG.TARGET\n)\n--SELECT * FROM DD_WISE_ACHIEVEMENT;--355  Rows\n,DD_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,ROUND((HIT/TARGET)*100) ACH_PER --#HERE THE CALCULATION OF ACHIVEMENT PERCENT#\nFROM DD_WISE_ACHIEVEMENT ACHIEVEMENT\n)\n--SELECT * FROM DD_WISE_PERCENTAGE;--355  Rows\n,CALCULATE_COMMISSION AS (\n    SELECT DD_CODE,  TARGET, HIT,ACH_PER,\n    CASE\n        WHEN  ACH_PER >= 111 THEN HIT*30 -- # SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        WHEN  ACH_PER >= 101 THEN HIT*25 -- # SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        WHEN  ACH_PER >= 91 THEN HIT*20 -- # SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        WHEN  ACH_PER >= 81 THEN HIT*15 -- # SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        WHEN  ACH_PER >= 70 THEN HIT*10 -- # SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        ELSE 0\n    END COMMISSION\n    FROM DD_WISE_PERCENTAGE \n)\nSELECT * FROM CALCULATE_COMMISSION;--365  Rows --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_DN_DET1_1JAN25) --#\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;--527940 TK\n\nSELECT * FROM TEMP_FOR_DD_DN_DET1_1JAN25;--355  Rows\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_DN_DET1_1JAN25;--599170 TK\n\n--SELECT SYSDATE-3 FROM DUAL;\n\n--------------------SETUP----------------\n--STEP 4: PREPARE FOR REPORT PUBLISHING\n--REPORT_ID : 7314 (UPDATE WITH ACTUAL REPORT ID)\n-- 7314 9574 60652\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Deno Campaign_1st Jan25';\n-- BASE_CYCLE_ID : 9574  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Jan_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jan_25'; --base month\n-- REPORT_CYCLE_ID : 60652 (UPDATE WITH ACTUAL REPORT CYCLE ID) \nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7314 and  CYCLEID = 9574;--60652\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 60652;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 60652;\n--commit;\n\n-- INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 60652 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_DD_DN_DET1_1JAN25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 60652; -- 599170 TAKA\n\n--PUBLISH_CYCLE_ID : 9574  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jan_25 if today = 31-Jan-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jan_25'; --publish month\n\n--STEP 5: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\nEXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Deno Campaign_1st Jan25',9574,'TEMP_FOR_DD_DN_DET1_1JAN25','SUMMARY DETAILS');\n\n --STEP 6: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Distributor Deno Campaign_1st Jan25', 60652,'Jan_25', 'Jan_25',290, 1);\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Delower Hossen ROBIN\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 30-Jun-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno HIT\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Deno Campaign_1st July25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 1-Jul-2025        ( End Date: 1-Jul-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno HIT\rDeno HIT\rDistributor will be given Deno HIT target. (Target will be provided by B2C)\rSelected Deno will be consider for performance calculation. \rDeno: 497, 629, 748, 729, 848, 849, 998\r\rUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given slab based incentives (Distributor wise HIT Target will be share by B2C).\r\rAgent list of 1st Jul‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rAny recharge of campaign deno at BL employee pool phone number will not be considered for DH & Retail achievement. Employee mapping 31st May‚Äô25 will be consider.\rRyze Recharge (Service Class 141) will not be considered for performance calculation.\r\rService Class\r\u0007\r\u0007\r\u0007¬†141\r\u0007¬†\r\u0007\r\u0007\r\rSlab\r\u0007Incentives BDT\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u000791%-100%\r\u0007BDT 10\r\u0007\r\u0007101%-120%\r\u0007BDT 15\r\u0007\r\u0007121% and Above\r\u0007BDT 25\r\u0007\r\u0007\r\r\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007\r\u0007Target HIT\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   2nd July‚Äô25\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Delower Hossen ROBIN\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "-------------------------------HELPER QUERY------------------------------------\n-- 7451 9574 61612\n--# STEP 1: VERIFY SUPPORTING DATA\n--TARGET\n--DROP TABLE TEMP_FOR_DENO_CAM_TAR_1JUL25 PURGE;\n--CREATE TABLE TEMP_FOR_DENO_CAM_TAR_1JUL25 AS\nselect CHANNEL_CODE DD_CODE, TARGET from COM_KPI_CONDITION_TARGET \nWHERE REPORTCYCLE_ID = (SELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS \nwhere REPORTID = (SELECT REPORTID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Deno Campaign_1st July25') and  \nCYCLEID = (SELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jul_25'));--337  Rows --# WE PROVIDE COMMISSION NAME AND BASE MONTH HERE, AND THEN WE FIND THE TARGET FILE DATA --#\n\nSELECT * FROM TEMP_FOR_DENO_CAM_TAR_1JUL25;--337  Rows --# THIS TABLE TARGET TABLE, NO NEED TO CREATE FURTHER, THIS TABLE DATA COMES FROM ABOVE LOGIC WHERE WE PROVIDE COMMISSION NAME AND BASE MONTH HERE --#\n\n--DROP TABLE TEMP_FOR_AG_LST_MAP_1_JUL25 PURGE;\nCREATE TABLE TEMP_FOR_AG_LST_MAP_1_JUL25 AS --# HERE WE CREATE THE AGENT LIST --#\nSELECT TAR.*,AG.RET_CODE RETAILER_CODE, AG.RET_MOBILE RET_MSISDN \nFROM TEMP_FOR_DENO_CAM_TAR_1JUL25 TAR \nINNER JOIN DD_RSO_RET_MAPPING_DAILY AG ON AG.DD_CODE=TAR.DD_CODE AND AG.DATA_DATE = '1-JUL-25';--561446  Rows --#  Here is\tAgent list of 1st Jul‚Äô25 will be considered. --#\n \nSELECT * FROM TEMP_FOR_AG_LST_MAP_1_JUL25;-- 554906  Rows  # THIS TABLE CONTAINS AGENT LIST --#\nSELECT * FROM EV_RECHARGE_COM_DAILY;  --# THIS TABLE IS USED FOR EV RECHARGE DATA --#\n\n--DROP TABLE TEMP_FOR_DD_DN_DET_1JUL25 PURGE;\nCREATE TABLE TEMP_FOR_DD_DN_DET_1JUL25 AS\nWITH RSO_WISE_ACHIEVEMENT AS ( \n    SELECT /*+ parallel(10) */ AG.DD_CODE,AG.TARGET,COUNT(RECHARGE_AMOUNT) HIT\n    FROM TEMP_FOR_AG_LST_MAP_1_JUL25 AG -- # AGENT LIST --#\n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '1-JUL-25' AND '1-JUL-25') AND EV.RECHARGE_AMOUNT IN (497, 629, 748, 729, 848, 849, 998) -- #  Effective Date: 1-Jul-2025   End Date: 1-Jul-2025  AND\tDeno: 497, 629, 748, 729, 848, 849, 998 --#\n    AND SERVICE_CLASS_ID NOT IN (141)  --# Ryze Recharge (Service Class 141) will not be considered for performance calculation --#\n    AND NOT EXISTS(SELECT MOBILENO FROM TEMP_FOR_VW_EMPLOYEESALESCOM_MONTHLY VE WHERE VE.DATE_DATE='31-MAY-25' AND VE.MOBILENO=EV.SUB_MSISDN)   --#  \tAny recharge of campaign deno at BL employee pool phone number will not be considered for DH & Retail achievement. Employee mapping 31st May‚Äô25 will be consider. --#\n    GROUP BY AG.DD_CODE,  AG.TARGET \n)\n--SELECT * FROM RSO_WISE_ACHIEVEMENT;--322  Rows\n,RET_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,ROUND((HIT/TARGET)*100) ACH_PER\nFROM RSO_WISE_ACHIEVEMENT ACHIEVEMENT\n)\n--SELECT * FROM RET_WISE_PERCENTAGE;--354  Rows\n,CALCULATE_COMMISSION AS (\n    SELECT DD_CODE,  TARGET, HIT,ACH_PER,\n    CASE\n        WHEN  ACH_PER >= 121 THEN HIT*25 -- # SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        WHEN  ACH_PER >= 101 THEN HIT*15  -- # SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        WHEN  ACH_PER >= 91 THEN HIT*10  -- # SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        ELSE 0\n    END COMMISSION\n    FROM RET_WISE_PERCENTAGE \n)\nSELECT * FROM CALCULATE_COMMISSION;--68  Rows --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_DN_DET_1JUL25) --#\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;--218265 TAKA  \n\nSELECT * FROM TEMP_FOR_DD_DN_DET_1JUL25;--315  Rows\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_DN_DET_1JUL25;--234065        119175    TK\n\n-------------DETAIL------------\n\n--DROP TABLE TEMP_FOR_DD_DN_DET2_1JUL25 PURGE;\nCREATE TABLE TEMP_FOR_DD_DN_DET2_1JUL25 AS -- # CREATE THE 2ND DETAILS TABLE FROM HERE (TEMP_FOR_DD_DN_DET2_1JUL25) --#\nWITH DD_WISE_ACHIEVEMENT AS ( \n    SELECT AG.DD_CODE,RETAILER_CODE,RET_MSISDN,SUB_MSISDN CUSTOMER_MSISDN,RECHARGE_AMOUNT--AG.TARGET,COUNT(RECHARGE_AMOUNT) HIT\n    FROM TEMP_FOR_AG_LST_MAP_1_JUL25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '1-JUL-25' AND '1-JUL-25') AND EV.RECHARGE_AMOUNT IN (497, 629, 748, 729, 848, 849, 998)\n    AND SERVICE_CLASS_ID NOT IN (141) \n    AND NOT EXISTS(SELECT MOBILENO FROM TEMP_FOR_VW_EMPLOYEESALESCOM_MONTHLY VE WHERE VE.DATE_DATE='31-MAY-25' AND VE.MOBILENO=EV.SUB_MSISDN)\n)\nSELECT * FROM DD_WISE_ACHIEVEMENT;--14105  Rows\n\nselect * from TEMP_FOR_DD_DN_DET2_1JUL25;--12286  Rows  97,08,419  9708419\n\n----------------------SETUP--------------------\n\n--STEP 5: PREPARE FOR REPORT PUBLISHING\n--REPORT_ID : 0011 (UPDATE WITH ACTUAL REPORT ID) \nSELECT APP.REPORT_NAME, CT.CHANNELTYPE, APP.CHANNEL_TYPE_ID\nFROM REPORT_APPROVAL APP \nINNER JOIN CHANNELTYPE CT ON CT.CHANNELTYPEID = APP.CHANNEL_TYPE_ID\nWHERE APP.REPORT_NAME = 'Distributor Deno Campaign_1st July25';\n--CHANNEL_TYPE_ID   1\n\n--EXEC ADHOC_REPORT_SETUP('Distributor Deno Campaign_1st July25', 'Nov_24', 'Nov_24', 1, '12-Nov-24', '12-Nov-24', '', '13-NOV-24');\n\n-- 8080 10174 64977\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Deno Campaign_1st July25';\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jul_25'; --base month\n-- REPORT_CYCLE_ID : 0033 (UPDATE WITH ACTUAL REPORT CYCLE ID) \nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 8080 and  CYCLEID = 10174;--64977\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 64977;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 64977;\n--commit;\n\n-- INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 64977 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_DD_DN_DET_1JUL25\n);\nCOMMIT;\n\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 64977; --234065        119175        193245        218265   TAKA\n\n-- CYCLE_ID : 0044  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jul_25 if today = 15-JUL-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jul_25'; --Publish month --10174\n \n  --STEP 6: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\nEXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Deno Campaign_1st July25',10174,'TEMP_FOR_DD_DN_DET_1JUL25','SUMMERY_DETAIL','TEMP_FOR_DD_DN_DET2_1JUL25','MSISDN_DETAIL');\n \n--STEP 7: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Distributor Deno Campaign_1st July25', 64977,'Jun_25', 'Jul_25',290, 1);\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Delower Hossen ROBIN\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 30-Apr-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno HIT\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Deno Campaign_1st May25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 1-May-2025        ( End Date: 1-May-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno HIT\rDeno HIT\rDistributor will be given Deno HIT target. (Target will be provided by B2C)\rSelected Deno will be consider for performance calculation. \rDeno: 497, 629, 648, 748, 729, 848, 849, 998\r\rUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given slab based incentives (Distributor wise HIT Target will be share by B2C).\r\rAgent list of 1st May‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rAny recharge of campaign deno at BL employee pool phone number will not be considered for DH & Retail achievement.\rRyze Recharge (Service Class 141) will not be considered for performance calculation.\r\rService Class\r\u0007\r\u0007\r\u0007¬†141\r\u0007¬†\r\u0007\r\u0007\r\rSlab\r\u0007Incentives BDT\r\u0007\r\u000770%-80%\r\u0007BDT 10\r\u0007\r\u000781%-90%\r\u0007BDT 15\r\u0007\r\u000791%-100%\r\u0007BDT 20\r\u0007\r\u0007101%-110%\r\u0007BDT 25\r\u0007\r\u0007111% and Above\r\u0007BDT 30\r\u0007\r\u0007\r\r\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007\r\u0007Target HIT\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   2nd May‚Äô25\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Delower Hossen ROBIN\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "-------------------------------HELPER QUERY------------------------------------\n-- STEP 1: CREATING COMMISSION TARGET TABLE\n--#HERE TARGET TABLE FOR THE COMMISSION WILL BE CREATED--#\nCREATE TABLE TEMP_FOR_DENO_CAM_TAR_1MAY25 AS\nselect CHANNEL_CODE DD_CODE, TARGET from COM_KPI_CONDITION_TARGET \nWHERE REPORTCYCLE_ID = (SELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS \nwhere REPORTID = (SELECT REPORTID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Deno Campaign_1st May25') and   --#HERE REPORT NAME WILL BE COMMISSOIN REPORT WISE --#\nCYCLEID = (SELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'May_25'));--339  Rows  --#HERE CYCLEDESCRIPTION WILL BE THE BASE MONTH --#\n\nSELECT * FROM TEMP_FOR_DENO_CAM_TAR_1MAY25;--340  Rows --# THIS IS THE CREATED TARGET TABLE --#\n\n-- STEP 2: CREATING THE AGENT LIST \n--DROP TABLE TEMP_FOR_AG_LST_MAP_1_MAY25 PURGE;\nCREATE TABLE TEMP_FOR_AG_LST_MAP_1_MAY25 AS\nSELECT TAR.*,AG.RET_CODE RETAILER_CODE, AG.RET_MOBILE RET_MSISDN \nFROM TEMP_FOR_DENO_CAM_TAR_1MAY25 TAR \nINNER JOIN DD_RSO_RET_MAPPING_DAILY AG ON AG.DD_CODE=TAR.DD_CODE AND AG.DATA_DATE = '1-MAY-25';--561446  Rows --#HERE DATA DATE WILL BE THE LAST DATE OF THE CAMPAIGN PERIOD --#\n\nSELECT * FROM TEMP_FOR_AG_LST_MAP_1_MAY25;-- 552507  Rows --#THIS IS THE CREATED AGENT LIST TABLE--#\nSELECT * FROM EV_RECHARGE_COM_DAILY;\n\n-- STEP 3: COMMISSION QUERY START \n--DROP TABLE TEMP_FOR_DD_DN_DET_1_MAY25 PURGE;\nCREATE TABLE TEMP_FOR_DD_DN_DET_1_MAY25 AS --#THIS THE 1ST DETAIL FOR THIS COMMISSION WHERE COMMISSION AMOUNT IN CALCULATED\nWITH RSO_WISE_ACHIEVEMENT AS ( \n    SELECT /*+ parallel(10) */ AG.DD_CODE,AG.TARGET,COUNT(RECHARGE_AMOUNT) HIT\n    FROM TEMP_FOR_AG_LST_MAP_1_MAY25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '1-MAY-25' AND '1-MAY-25') AND EV.RECHARGE_AMOUNT IN (497, 629, 648, 748, 729, 848, 849, 998) --# THIS LOGIC IS FOR Deno: 497, 629, 648, 748, 729, 848, 849, 998 GIVEN CONDITION AND TOP_UP_DATE WILL BE Effective Date--#\n    AND SERVICE_CLASS_ID NOT IN (141) --# Ryze Recharge (Service Class 141) will not be considered for performance calculation --#\n    AND NOT EXISTS(SELECT MOBILENO FROM VW_EMPLOYEESALESCOM_MONTHLY VE WHERE VE.DATE_DATE='1-JAN-24' AND VE.MOBILENO=EV.SUB_MSISDN) --#Any recharge of campaign deno at BL employee pool phone number will not be considered for DH & Retail achievement. Employee mapping 1st Jan‚Äô24 will be consider. --#\n    GROUP BY AG.DD_CODE,  AG.TARGET\n)\n--SELECT * FROM RSO_WISE_ACHIEVEMENT;--335  Rows\n-- STEP 4: CALCULATING ACHIEVMENT PERCENTAGE\n,RET_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,ROUND((HIT/TARGET)*100) ACH_PER\nFROM RSO_WISE_ACHIEVEMENT ACHIEVEMENT\n)\n--SELECT * FROM RET_WISE_PERCENTAGE;--354  Rows\n-- STEP 5: CALCULATING COMMISSION AMOUNT\n,CALCULATE_COMMISSION AS (\n    SELECT DD_CODE,  TARGET, HIT,ACH_PER,\n    CASE\n        WHEN  ACH_PER >= 111 THEN HIT*30 -- # SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        WHEN  ACH_PER >= 101 THEN HIT*25 -- # SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        WHEN  ACH_PER >= 91 THEN HIT*20 -- # SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        WHEN  ACH_PER >= 81 THEN HIT*15 -- # SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        WHEN  ACH_PER >= 70 THEN HIT*10 -- # SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        ELSE 0\n    END COMMISSION\n    FROM RET_WISE_PERCENTAGE \n)\nSELECT * FROM CALCULATE_COMMISSION;--322  Rows --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_DN_DET_1_MAY25) --#\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;--337595 TAKA\n\n-- STEP 6: CHECKING THE CRATED TABLE DATA\nSELECT * FROM TEMP_FOR_DD_DN_DET_1_MAY25;--311  Rows\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_DN_DET_1_MAY25;--276220           337595      360780  TK\n\n-------------DETAIL------------\n--STEP 7: CREATING 2ND DETAIL TABLE\n--DROP TABLE TEMP_FOR_DD_DN_DET2_1_MAY25 PURGE;\nCREATE TABLE TEMP_FOR_DD_DN_DET2_1_MAY25 AS\nWITH DD_WISE_ACHIEVEMENT AS ( \n    SELECT AG.DD_CODE,RETAILER_CODE,RET_MSISDN,SUB_MSISDN CUSTOMER_MSISDN,RECHARGE_AMOUNT--AG.TARGET,COUNT(RECHARGE_AMOUNT) HIT\n    FROM TEMP_FOR_AG_LST_MAP_1_MAY25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '1-MAY-25' AND '1-MAY-25') AND EV.RECHARGE_AMOUNT IN (497, 629, 648, 748, 729, 848, 849, 998) --# THIS LOGIC IS FOR Deno: 497, 629, 648, 748, 729, 848, 849, 998 GIVEN CONDITION AND TOP_UP_DATE WILL BE Effective Date--#\n    AND SERVICE_CLASS_ID NOT IN (141) --# Ryze Recharge (Service Class 141) will not be considered for performance calculation --#\n    AND NOT EXISTS(SELECT MOBILENO FROM VW_EMPLOYEESALESCOM_MONTHLY VE WHERE VE.DATE_DATE='1-JAN-24' AND VE.MOBILENO=EV.SUB_MSISDN)--#Any recharge of campaign deno at BL employee pool phone number will not be considered for DH & Retail achievement. Employee mapping 1st Jan‚Äô24 will be consider. --#\n)\nSELECT * FROM DD_WISE_ACHIEVEMENT;--14105  Rows --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_DN_DET2_1_MAY25) --#\n\nselect * from TEMP_FOR_DD_DN_DET2_1_MAY25;--14105  Rows\n\n--------------------SETUP-------------\n--STEP 8: PREPARE FOR REPORT PUBLISHING\n--REPORT_ID : 7834 (UPDATE WITH ACTUAL REPORT ID) \n-- 7834 9954 63697\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Deno Campaign_1st May25';\n-- BASE_CYCLE_ID : 9954  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (May_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'May_25'; --base month\n-- REPORT_CYCLE_ID : 63697 (UPDATE WITH ACTUAL REPORT CYCLE ID) \nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7834 and  CYCLEID = 9954;--63697\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 63697;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 63697;\n--commit;\n\n--STEP 9: INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 63697 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_DD_DN_DET_1_MAY25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 63697; --276220   TAKA\n\n--PUBLISH_CYCLE_ID : 9954  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. May_25 if today = 31-May-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'May_25'; --Publish month --9954\n\n--STEP 10: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\nEXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Deno Campaign_1st May25',9954,'TEMP_FOR_DD_DN_DET_1_MAY25','SUMMERY_DETAIL','TEMP_FOR_DD_DN_DET2_1_MAY25','MSISDN_DETAIL');\n--STEP 11: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Distributor Deno Campaign_1st May25', 63697,'May_25', 'May_25',290, 1);\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Delower Hossen ROBIN\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 10-Mar-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno Recharge\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Deno Campaign_2 Distributor_10th Mar25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 10-Mar-2025        ( End Date: 10-Mar-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno Recharge\rDeno Recharge\rDistributor will be given Deno Recharge target. (Target will be provided by B2C)\rSelected Deno will be consider for performance calculation. \r\rDeno: ALL Deno (Deno List will share by B2C)\rUpon achieving Deno Recharge target (Cumulative of DENO), Distributor will be given incentives (Distributor wise Recharge Target and Incentives will be share by B2C).\r\rAgent list of 10th Mar‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rTarget & incentive for 10th March‚Äô25:\rRegion\r\u0007DD Code\r\u0007DD Name\r\u0007Total Bundle Target only for 10th March\r\u0007Incentive \r\u0007\r\u0007Dhk-East\r\u0007DHKDHK81\r\u0007ALBARI BD LTD.\r\u0007¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† 305,133 \r\u0007¬†¬†¬†¬†¬†¬†¬†¬†¬†8,500 \r\u0007\r\u0007Dhk-North\r\u0007DHKGAZ19\r\u0007MS AUMI CONSTRUCTION\r\u0007¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† 310,267 \r\u0007¬†¬†¬†¬†¬†¬†¬†12,000 \r\u0007\r\u0007\r\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007DD Code\r\u0007Target Recharge\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r11th Mar‚Äô25\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Delower Hossen ROBIN\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "-------------------------------HELPER QUERY------------------------------------\n-- STEP 1: CREATING COMMISSION TARGET TABLE\n--#HERE TARGET TABLE FOR THE COMMISSION WILL BE CREATED--#\nCREATE TABLE DD_10TH_MAR25_62812 AS\nselect CHANNEL_CODE DD_CODE, TARGET from COM_KPI_CONDITION_TARGET \nWHERE REPORTCYCLE_ID = (SELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS \nwhere REPORTID = (SELECT REPORTID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Deno Campaign_28th Feb25') and  --#HERE REPORT NAME WILL BE COMMISSOIN REPORT WISE --#\nCYCLEID = (SELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Feb_25')); --#HERE CYCLEDESCRIPTION WILL BE THE BASE MONTH --#\n\n--drop table DD_10TH_MAR25_62812 purge;\nSELECT * FROM DD_10TH_MAR25_62812;--2  Rows --# THIS IS THE CREATED TARGET TABLE --#\nupdate DD_10TH_MAR25_62812 set DD_CODE = trim(DD_CODE);\ncommit;\nSELECT * FROM DD_RSO_RET_MAPPING_DAILY;\n\n-- STEP 2: CREATING THE AGENT LIST \n--DROP TABLE TEMP_FOR_AG_LIST_10_MAR25 PURGE;\nCREATE TABLE TEMP_FOR_AG_LIST_10_MAR25 AS\nSELECT TAR.*,AG.RET_CODE RETAILER_CODE, AG.RET_MOBILE RET_MSISDN \nFROM DD_10TH_MAR25_62812 TAR \nINNER JOIN DD_RSO_RET_MAPPING_DAILY AG ON AG.DD_CODE=TAR.DD_CODE AND AG.DATA_DATE = '10-MAR-25';--236872  Rows --#HERE DATA DATE WILL BE THE LAST DATE OF THE CAMPAIGN PERIOD --#\n\nSELECT * FROM TEMP_FOR_AG_LIST_10_MAR25;-- 3000  Rows --#THIS IS THE CREATED AGENT LIST TABLE--#\n\n-- STEP 3: COMMISSION QUERY START \n--DROP TABLE TEMP_FOR_2DD_DENO_DAT_10_MAR25 PURGE;\nCREATE TABLE TEMP_FOR_2DD_DENO_DAT_10_MAR25 AS --#THIS THE 1ST DETAIL FOR THIS COMMISSION WHERE COMMISSION AMOUNT IN CALCULATED\nWITH DD_WISE_ACHIEVEMENT AS ( \n    SELECT AG.DD_CODE,AG.TARGET,SUM(RECHARGE_AMOUNT) TOTAL_RECHARGE,INCENTIVE\n    FROM TEMP_FOR_AG_LIST_10_MAR25 AG \n    INNER JOIN ev_recharge_com_daily EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '10-MAR-25' AND '10-MAR-25') AND EV.RECHARGE_AMOUNT IN (\n    19,27,34,36,47,48,56,57,58,64,69,77,81,86,96,97,99,104,\n117,118,127,129,137,147,149,157,167,169,177,188,196,197,\n198,199,207,209,222,224,227,229,247,248,259,296,297,298,\n299,307,347,348,396,397,398,399,448,497,498,499,548,\n549,597,599,649,698,699,719,797,798,799,897,899,997,\n998,1199,1397,1899,1999\n    ) --# THIS LOGIC IS FOR selected deno GIVEN CONDITION AND TOP_UP_DATE WILL BE Effective Date--#\n    GROUP BY AG.DD_CODE,  AG.TARGET,INCENTIVE\n)\n--SELECT * FROM DD_WISE_ACHIEVEMENT; --67  Rows\n-- STEP 4: CALCULATING COMMISSION AMOUNT\n,CALCULATE_COMMISSION AS (\n    SELECT DD_CODE,  TARGET, TOTAL_RECHARGE,\n    CASE WHEN  TOTAL_RECHARGE >= TARGET THEN INCENTIVE ELSE 0 END COMMISSION\n    FROM DD_WISE_ACHIEVEMENT \n)\nSELECT * FROM CALCULATE_COMMISSION;--2 Rows --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_2DD_DENO_DAT_10_MAR25) --#\nSELECT SUM(COMMISSION) FROM CALCULATE_COMMISSION;--12000\n\n-- STEP 5: CHECKING THE CRATED TABLE DATA\nSELECT * FROM TEMP_FOR_2DD_DENO_DAT_10_MAR25;--2  Rows\nSELECT SUM(COMMISSION) FROM TEMP_FOR_2DD_DENO_DAT_10_MAR25;--12000 TK\n\n-------detail---------\n--STEP 6: CREATING 2ND DETAIL TABLE\n--drop table TEMP_FOR_2DD_DENO_DAT2_10MAR25 purge;\nCREATE TABLE TEMP_FOR_2DD_DENO_DAT2_10MAR25 AS\nWITH DD_WISE_ACHIEVEMENT AS ( \n    SELECT AG.DD_CODE,RETAILER_CODE,RET_MSISDN,SUB_MSISDN CUSTOMER_MSISDN,RECHARGE_AMOUNT\n    FROM TEMP_FOR_AG_LIST_10_MAR25 AG \n    INNER JOIN TEMP_FOR_EV_10FEB25 EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '10-MAR-25' AND '10-MAR-25') AND EV.RECHARGE_AMOUNT IN (\n    19,27,34,36,47,48,56,57,58,64,69,77,81,86,96,97,99,104,\n117,118,127,129,137,147,149,157,167,169,177,188,196,197,\n198,199,207,209,222,224,227,229,247,248,259,296,297,298,\n299,307,347,348,396,397,398,399,448,497,498,499,548,\n549,597,599,649,698,699,719,797,798,799,897,899,997,\n998,1199,1397,1899,1999\n    )--# THIS LOGIC IS FOR selected deno GIVEN CONDITION AND TOP_UP_DATE WILL BE Effective Date--#\n)\nSELECT * FROM DD_WISE_ACHIEVEMENT;--6438  Rows --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_DN_DET2_1_MAY25) --#\nSELECT * FROM TEMP_FOR_2DD_DENO_DAT2_10MAR25; --2833  Rows\n\n\n------------------SETUP--------------\n--STEP 7: PREPARE FOR REPORT PUBLISHING\n--REPORT_ID : 7654 (UPDATE WITH ACTUAL REPORT ID)\n-- 7654 9754 62812\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Deno Campaign_2 Distributor_10th Mar25';\n-- BASE_CYCLE_ID : 9754  (UPDATE WITH ACTUAL BASE CYCLE ID)\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Mar_25'; --base month\n-- REPORT_CYCLE_ID : 62812 (UPDATE WITH ACTUAL REPORT CYCLE ID)\nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7654 and  CYCLEID = 9754;--62812\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 62812;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 62812;\n--commit;\n\n--STEP 8: INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 62812 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_2DD_DENO_DAT_10_MAR25\n);\nCOMMIT;\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 62812; -- 12000 TAKA\n\n--PUBLISH_CYCLE_ID : 9754  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Mar_25 if today = 31-Mar-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Mar_25'; --Publish month --9754\n--STEP 9: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\n--EXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Deno Campaign_2 Distributor_10th Mar25',9754,'TEMP_FOR_2DD_DENO_DAT_10_MAR25','SUMMERY_DETAIL','TEMP_FOR_2DD_DENO_DAT2_10MAR25','SUMMERY_DETAIL');\n--STEP 10: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\n--EXEC FINALIZE_REPORT_ADHOC('Distributor Deno Campaign_2 Distributor_10th Mar25', 62812,'Mar_25', 'Mar_25',290, 1);\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Delower Hossen ROBIN\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 1-May-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno HIT\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Deno Campaign_2nd May25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 2-May-2025        ( End Date: 2-May-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno HIT\rDeno HIT\rDistributor will be given Deno HIT target. (Target will be provided by B2C)\rSelected Deno will be consider for performance calculation. \rDeno: 497, 629, 648, 748, 729, 848, 849, 998\r\rUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 30 PER HIT incentives (Distributor wise HIT Target will be share by B2C).\r\rAgent list of 2nd May‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rAny recharge of campaign deno at BL employee pool phone number will not be considered for DH & Retail achievement.\r\rRyze Recharge (Service Class 141) will not be considered for performance calculation.\r\rService Class\r\u0007\r\u0007\r\u0007¬†141\r\u0007¬†\r\u0007\r\u0007\rDetails Format:\r\rDD Code\r\u0007Target HIT\r\u0007Target ach\r\u0007% Ach\r\u0007Recharge Amount\r\u0007Incentive Amount\r\u0007¬†\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007¬†\r\u0007¬†\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r 3rd May‚Äô25\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Delower Hossen ROBIN\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "-------------------------------HELPER QUERY------------------------------------\n-- STEP 1: CREATING COMMISSION TARGET TABLE\n--#HERE TARGET TABLE FOR THE COMMISSION WILL BE CREATED--#\nCREATE TABLE TEMP_FOR_DENO_CAM_TAR_2MAY25 AS\nselect CHANNEL_CODE DD_CODE, TARGET from COM_KPI_CONDITION_TARGET \nWHERE REPORTCYCLE_ID = (SELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS \nwhere REPORTID = (SELECT REPORTID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Deno Campaign_2nd May25') and   --#HERE REPORT NAME WILL BE COMMISSOIN REPORT WISE --#\nCYCLEID = (SELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'May_25'));--109  Rows  --#HERE CYCLEDESCRIPTION WILL BE THE BASE MONTH --#\n\nSELECT * FROM TEMP_FOR_DENO_CAM_TAR_2MAY25;--109  Rows --# THIS IS THE CREATED TARGET TABLE --#\n\n\n-- STEP 2: CREATING THE AGENT LIST \n--DROP TABLE TEMP_FOR_AG_LST_MAP_02_MAY25 PURGE;\nCREATE TABLE TEMP_FOR_AG_LST_MAP_02_MAY25 AS\nSELECT TAR.*,AG.RET_CODE RETAILER_CODE, AG.RET_MOBILE RET_MSISDN \nFROM TEMP_FOR_DENO_CAM_TAR_2MAY25 TAR \nINNER JOIN DD_RSO_RET_MAPPING_DAILY AG ON AG.DD_CODE=TAR.DD_CODE AND AG.DATA_DATE = '02-MAY-25';--561446  Rows --#HERE DATA DATE WILL BE THE LAST DATE OF THE CAMPAIGN PERIOD --#\n\nSELECT * FROM TEMP_FOR_AG_LST_MAP_02_MAY25;--134339  Rows --553098  Rows --#THIS IS THE CREATED AGENT LIST TABLE--#\nSELECT * FROM EV_RECHARGE_COM_DAILY;\n\n--DROP TABLE TEMP_FOR_DD_DN_DET_2_MAY25 PURGE;\nCREATE TABLE TEMP_FOR_DD_DN_DET_2_MAY25 AS --#THIS THE 1ST DETAIL FOR THIS COMMISSION WHERE COMMISSION AMOUNT IN CALCULATED\nWITH RSO_WISE_ACHIEVEMENT AS ( \n    SELECT /*+ parallel(10) */ AG.DD_CODE,AG.TARGET,COUNT(RECHARGE_AMOUNT) HIT\n    FROM TEMP_FOR_AG_LST_MAP_02_MAY25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '02-MAY-25' AND '02-MAY-25') AND EV.RECHARGE_AMOUNT IN (497, 629, 648, 748, 729, 848, 849, 998) --# THIS LOGIC IS FOR Deno: 497, 629, 648, 748, 729, 848, 849, 998 GIVEN CONDITION AND TOP_UP_DATE WILL BE Effective Date--#\n    AND SERVICE_CLASS_ID NOT IN (141) \n    AND NOT EXISTS(SELECT MOBILENO FROM VW_EMPLOYEESALESCOM_MONTHLY VE WHERE VE.DATE_DATE='1-JAN-24' AND VE.MOBILENO=EV.SUB_MSISDN)\n    GROUP BY AG.DD_CODE,  AG.TARGET\n)\n--SELECT * FROM RSO_WISE_ACHIEVEMENT;--103  Rows\n-- STEP 4: CALCULATING ACHIEVMENT PERCENTAGE\n,RET_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,ROUND((HIT/TARGET)*100) ACH_PER\nFROM RSO_WISE_ACHIEVEMENT ACHIEVEMENT\n)\n--SELECT * FROM RET_WISE_PERCENTAGE;--103  Rows\n,CALCULATE_COMMISSION AS (\n    SELECT DD_CODE,  TARGET, HIT,ACH_PER,\n    CASE\n        WHEN  ACH_PER >= 100 THEN HIT*30 -- #  \tUpon achieving Deno HIT target, Distributor will be given BDT 30 PER HIT incentives  --#\n        ELSE 0\n    END COMMISSION\n    FROM RET_WISE_PERCENTAGE \n)\nSELECT * FROM CALCULATE_COMMISSION;--322  Rows --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_HIT_DET_31_MAY25) --#\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;--    213060 TAKA\n\n-- STEP 6: CHECKING THE CRATED TABLE DATA\nSELECT * FROM TEMP_FOR_DD_DN_DET_2_MAY25;--96  Rows\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_DN_DET_2_MAY25;--161250       TK\n\n-------------DETAIL------------\n--STEP 7: CREATING 2ND DETAIL TABLE\n--DROP TABLE TEMP_FOR_DD_DN_DET2_2_MAY25 PURGE;\nCREATE TABLE TEMP_FOR_DD_DN_DET2_2_MAY25 AS\nWITH DD_WISE_ACHIEVEMENT AS ( \n    SELECT AG.DD_CODE,RETAILER_CODE,RET_MSISDN,SUB_MSISDN CUSTOMER_MSISDN,RECHARGE_AMOUNT--AG.TARGET,COUNT(RECHARGE_AMOUNT) HIT\n    FROM TEMP_FOR_AG_LST_MAP_02_MAY25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '02-MAY-25' AND '02-MAY-25') --# TOP_UP_DATE WILL BE Effective Date--#\n    AND EV.RECHARGE_AMOUNT IN (497, 629, 648, 748, 729, 848, 849, 998) --# THIS LOGIC IS FOR Deno: 497, 629, 648, 748, 729, 848, 849, 998 GIVEN CONDITION #\n    AND SERVICE_CLASS_ID NOT IN (141) --# Ryze Recharge (Service Class 141) will not be considered for performance calculation --#\n    AND NOT EXISTS(SELECT MOBILENO FROM VW_EMPLOYEESALESCOM_MONTHLY VE WHERE VE.DATE_DATE='1-JAN-24' AND VE.MOBILENO=EV.SUB_MSISDN) --#  \tAny recharge of campaign deno at BL employee pool phone number will not be considered for DH & Retail achievement. Employee mapping 31st May‚Äô25 will be consider. --#\n)\nSELECT * FROM DD_WISE_ACHIEVEMENT;--5712  Rows\n\nselect * from TEMP_FOR_DD_DN_DET2_2_MAY25;--5712  Rows --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_HIT_DET2_31MAY25) --#\n\n------------------SETUP-------------\n--REPORT_ID : 7835 (UPDATE WITH ACTUAL REPORT ID) \n-- 7835 9954 63714\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Deno Campaign_2nd May25';\n-- BASE_CYCLE_ID : 9954  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'May_25'; --base month\n-- REPORT_CYCLE_ID : 63714 (UPDATE WITH ACTUAL REPORT CYCLE ID) \nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7835 and  CYCLEID = 9954;--63714\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 63714;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 63714;\n--commit;\n\n-- INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUsNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 63714 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_DD_DN_DET_2_MAY25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 63714; --161250   TAKA\n\n--PUBLISH_CYCLE_ID : 64514  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jun_25 if today = 30-Jun-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'May_25'; --Publish month --9954\n\n--STEP 9: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\nEXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Deno Campaign_2nd May25',9954,'TEMP_FOR_DD_DN_DET_2_MAY25','SUMMERY_DETAIL','TEMP_FOR_DD_DN_DET2_2_MAY25','MSISDN_DETAIL');\n\n--STEP 10: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Distributor Deno Campaign_2nd May25', 63714,'May_25', 'May_25',290, 1);\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Delower Hossen ROBIN\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 14-Jan-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno HIT\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Deno Campaign_BDT 227_337_14th to 15th Jan25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 14-Jan-2025        ( End Date: 15-Jan-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno HIT\rDeno HIT\rDistributor will be given Deno HIT target. (Target will be provided by B2C)\rSelected Deno will be consider for performance calculation. \rDeno: 227_337\rUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 20 incentives per HIT (Distributor wise HIT Target will be share by B2C).\rIn Addition: Regional Top performing Distributor, based on hit target vs ach, will receive BDT 3,000 Celebration budget for Endless Victory Campaign\rMinimum qualifier for celebration budget is 105% target achievement\rAgent list of 15th Jan‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\r\r\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007\r\u0007Target HIT\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r10th Dec‚Äô24\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Delower Hossen ROBIN\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "--------------------------------- REPORT HELPER QUERY -----------------------------------------\n-- STEP 1: VERIFY SUPPORTING DATA\n--TARGET\nSELECT * FROM TEMP_FOR_DD_DNO_TAR_15_JAN25;-- 249  Rows  --# THIS TABLE TARGET TABLE, NO NEED TO CREATE FURTHER --#\nSELECT DD_CODE, COUNT(DD_CODE) FROM TEMP_FOR_DD_DNO_TAR_15_JAN25 GROUP BY DD_CODE HAVING COUNT(DD_CODE)>1;--0 ROW\n\n\n------------------AGENT LIST--------------------\n-- STEP 2: CREATING THE AGENT LIST \n--drop table TEMP_FOR_DDAGENT_DNO_15_JAN25 purge;\n--CREATE TABLE TEMP_FOR_DDAGENT_DNO_15_JAN25 AS\nSELECT /*+ parallel(10) */ DISTINCT\n    TAR.REGION,\n    TAR.DD_CODE,\n    MAPING.RET_CODE,\n    MAPING.RET_MOBILE,\n    TAR.TARGET\nFROM DD_RSO_RET_MAPPING_DAILY MAPING\nINNER JOIN TEMP_FOR_DD_DNO_TAR_15_JAN25 TAR ON MAPING.DD_CODE=TAR.DD_CODE\nWHERE DATA_DATE='15-JAN-25';\nSELECT * FROM TEMP_FOR_DDAGENT_DNO_15_JAN25;-- 428069  Rows  -- # THIS TABLE CONTAINS AGENT LIST --#\n--1915273989  87          \nselect * from DD_RSO_RET_MAPPING_DAILY; --# THIS TABLE IS USED FOR AGENT LIST CREATING --#\n-------------------------------HELPER QUERY------------------------------------\n--drop table TEMP_FOR_DD_EV_DN_DET_14_15JAN25 purge;\n--CREATE TABLE TEMP_FOR_DD_EV_DN_DET_14_15JAN25 AS\nselect * from EV_RECHARGE_COM_DAILY RECHARGE WHERE \n        RECHARGE.TOP_UP_DATE BETWEEN '14-JAN-25' AND '15-JAN-25'; -- 3721356  Rows --# HERE, WE SELECT EV RECHARGE DATA BASED ON CAMPAIGN DATE RANGE--#\nselect * from TEMP_FOR_DD_EV_DN_DET_14_15JAN25; -- 3721356  Rows # THIS IS THE CREATED TABLE THAT CONTAINS EV RECHARGE DATA BASED ON CAMPAIGN DATE --#\n\n-- STEP 3: COMMISSION CALCULATION QUERY START --\n--drop table TEMP_FOR_DD_FCS_DN_DET_15_JAN25 purge;\n--CREATE TABLE TEMP_FOR_DD_FCS_DN_DET_15_JAN25 AS\nWITH DD_WISE_ACHIEVEMENT AS (\n    SELECT DD_CODE, COUNT(RECHARGE.RECHARGE_AMOUNT) AS ACH, AG.TARGET,AG.REGION\n    FROM TEMP_FOR_DD_EV_DN_DET_14_15JAN25 RECHARGE -- # WE HAVE USED THE CREATED TABLE THAT CONTAINS EV RECHARGE DATA HERE --#\n    INNER JOIN TEMP_FOR_DDAGENT_DNO_15_JAN25 AG  -- # WE HAVE USED THE AGENT LIST TABLE HERE  --#\n        ON AG.RET_MOBILE = RECHARGE.RETAILER_MSISDN \n    WHERE RECHARGE.TOP_UP_DATE BETWEEN '14-JAN-25' AND '15-JAN-25' --# THIS LOGIC IS FOR Effective Date: 14-JAN-25  End Date: 15-JAN-25      --#\n        AND RECHARGE.RECHARGE_AMOUNT IN (227,337) --# THIS LOGIC IS FOR Deno: 227_337 --# \t\n    GROUP BY DD_CODE, AG.TARGET, AG.REGION  \n)\n--select * from DD_WISE_ACHIEVEMENT; -- 244  Rows\n-- STEP 4: CALCULATING ACHIEVMENT PERCENTAGE\n,DD_WISE_PERCENTAGE AS (\n    SELECT ACHIEVEMENT.*, ROUND((ACH / TARGET) * 100) AS ACH_PER\n    FROM DD_WISE_ACHIEVEMENT ACHIEVEMENT\n)\n--select * from DD_WISE_PERCENTAGE; -- 244  Rows\n-- STEP 5: CALCULATING REGION WISE ACHIVEMENT RANKING\n,DD_RANKED AS (\n    SELECT REGION, DD_CODE, TARGET, ACH, ACH_PER, ROW_NUMBER() OVER (PARTITION BY REGION ORDER BY ACH_PER DESC) AS RN\n    FROM DD_WISE_PERCENTAGE\n)\n--select * from DD_RANKED; -- 244  Rows\n-- STEP 6: CALCULATING COMMISSION AMOUNT\n,CALCULATE_COMMISSION AS (\n    SELECT DD_CODE, TARGET, ACH, ACH_PER,\n        CASE\n            WHEN RN = 1 AND ACH_PER >= 105 THEN (ACH * 20) + 3000--#Regional Top performing Distributor, based on hit target vs ach, will receive BDT 3,000 Celebration budget for Endless Victory Campaign#\n            WHEN ACH_PER >= 100 THEN ACH * 20 --# \tUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 20 incentives per HIT #\n            ELSE 0\n        END AS COMMISSION\n    FROM DD_RANKED\n)\nSELECT * FROM CALCULATE_COMMISSION;-- 244  Rows  --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_FCS_DN_DET_15_JAN25) --#\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;-- 120240\n\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_FCS_DN_DET_15_JAN25;-- 120240 TK  --#  THIS IS 1ST DETAILS TABLE FOR DISTRIBUTOR DENO, COMMISSION AMOUNT IS CALCULATED IN THIS TABLE --#\n\nSELECT * FROM TEMP_FOR_DD_FCS_DN_DET_15_JAN25; -- 244  Rows  --#  THIS IS 1ST DETAILS TABLE FOR DISTRIBUTOR DENO, COMMISSION AMOUNT IS CALCULATED IN THIS TABLE --#\n\n---------------------MSISDN DETAIL---------------------------\n--STEP 7: CREATING 2ND DETAIL TABLE\n--DROP TABLE TEMP_FOR_DD_FCS_DN_DET2_15_JAN25 PURGE;\n--CREATE TABLE TEMP_FOR_DD_FCS_DN_DET2_15_JAN25 AS # CREATE THE 2ND DETAILS TABLE FROM HERE (TEMP_FOR_DD_FCS_DN_DET2_15_JAN25) --#\n SELECT DD_CODE,AG.RET_CODE, RET_MOBILE,RECHARGE.SUB_MSISDN CUSTOMER_MSISDN,RECHARGE.RECHARGE_AMOUNT\n    FROM TEMP_FOR_DD_EV_DN_DET_14_15JAN25 RECHARGE\n    INNER JOIN TEMP_FOR_DDAGENT_DNO_15_JAN25 AG \n    ON AG.RET_MOBILE=RECHARGE.RETAILER_MSISDN\n    WHERE (RECHARGE.TOP_UP_DATE  BETWEEN '14-JAN-25' AND '15-JAN-25') --# THIS LOGIC IS FOR Effective Date: 14-JAN-25  End Date: 15-JAN-25      --#\n    AND RECHARGE.RECHARGE_AMOUNT IN (227,337); -- 11532  Rows --# THIS LOGIC IS FOR Deno: 227_337 --# \t\n    \nSELECT * FROM TEMP_FOR_DD_FCS_DN_DET2_15_JAN25;-- 11532  Rows\n\n---------------------SETUP---------------------------\n--STEP 8: PREPARE FOR REPORT PUBLISHING\n--REPORT_ID : 7375 (UPDATE WITH ACTUAL REPORT ID) \n-- 7375 9574 61332\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Deno Campaign_BDT 227_337_14th to 15th Jan25';\n-- BASE_CYCLE_ID : 9574  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Jan_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jan_25'; --base month\n-- REPORT_CYCLE_ID : 61332 (UPDATE WITH ACTUAL REPORT CYCLE ID) \nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7375 and  CYCLEID = 9574;--61332\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 61332;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 61332;\n--commit;\n\n--STEP 9: INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 61332 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_DD_FCS_DN_DET_15_JAN25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 61332; -- 120240 TAKA\n \n-- CYCLE_ID : 9574  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jan_25 if today = 31-Jan-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jan_25'; --Publish month -- 9574\n \n --STEP 10: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\n--EXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Deno Campaign_BDT 227_337_14th to 15th Jan25',9574,'TEMP_FOR_DD_FCS_DN_DET_15_JAN25','SUMMERY DETAIL','TEMP_FOR_DD_FCS_DN_DET2_15_JAN25','MSISDN DETAIL');\n \n--STEP 11: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\n--EXEC FINALIZE_REPORT_ADHOC('Distributor Deno Campaign_BDT 227_337_14th to 15th Jan25', 61332,'Jan_25', 'Jan_25',290, 1);\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Sadia Tahsin Ananna\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 13-Aug-2024\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily\t           ( Weekly\t    ( Monthly     (( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid         ( Postpaid            ( ( Others: Deno HIT\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor       ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Deno Campaign_BDT 397_497_648_699_798_799_899_998_13th to 14th Aug24\r\u0007\r\u0007Report Description: Distributor will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 13-Aug-2024        ( End Date: 14-Aug-2024\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDeno HIT\rDeno Recharge\rDistributor will be given Deno Hit targets. (Target will be provided by B2C)\rSelected Deno will be consider for performance calculation. \rDeno: 397_497_648_699_798_799_899_998\rUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given Slab based incentives \rAgent list of 14th Aug‚Äô24 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rIncentives Slab\r\u0007Incentives PER HIT (All)\r\u0007Incentives PER HIT (West Cluster and Dhk-West)\r\u0007\r\u000770%-80%\r\u0007BDT 10\r\u0007BDT 10\r\u0007\r\u000781%-90%\r\u0007BDT 15\r\u0007BDT 15\r\u0007\r\u000791%-100%\r\u0007BDT 20\r\u0007BDT 20\r\u0007\r\u0007101%-109% \r\u0007BDT 25\r\u0007BDT 35\r\u0007\r\u0007110% and Above\r\u0007BDT 30\r\u0007BDT 40\r\u0007\r\u0007110% and Above (If Region Achieve 90% of his Deno Hit Target)\r\u0007BDT 40\r\u0007BDT 40 (will not consider 90% of his Deno Hit Target) \r\u0007\r\u0007\rSpecial Notes: \r\rDH will be entitle for addition TK 10 celebration budget for 110% & above achievement except West Cluster. West Cluster will be entitled for 100% & above achievement \r\rFor payout eligibility region have to achieve minimum 90% of deno hits target otherwise no DD of assign region will get celebration budget except West Cluster and Dhk-West.\rDetails Format:\rDD Code\r\u0007Target\r\u0007Deno Ach Count\r\u0007Commission Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\r\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   15th Aug‚Äô24\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Sadia Tahsin Ananna\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "-------------------------------HELPER QUERY------------------------------------\n-- STEP 1: VERIFY SUPPORTING DATA\n--# THIS TABLE IS ALREADY EXISTING, NO NEED TO CREATE FURTHER --#\n--drop table TEMP_FOR_DENO_CAMP_TAR_14AUG24 purge;\nSELECT * FROM TEMP_FOR_DENO_CAMP_TAR_14AUG24;--375  Rows\nupdate TEMP_FOR_DENO_CAMP_TAR_14AUG24 set DD_CODE = trim(DD_CODE);\ncommit;\n\n-- STEP 2: CREATING THE AGENT LIST \n--DROP TABLE TEMP_FOR_AG_LIST_MAP_14AUG24 PURGE;\nCREATE TABLE TEMP_FOR_AG_LIST_MAP_14AUG24 AS\nSELECT TAR.*,AG.RETAILER_CODE, AG.TOPUP_MSISDN RET_MSISDN FROM \nTEMP_FOR_DENO_CAMP_TAR_14AUG24 TAR \nINNER JOIN AGENT_LIST_DAILY AG ON AG.DIST_CODE=TAR.DD_CODE AND AG.DATA_DATE = '14-AUG-24';--563663  Rows --#HERE DATA DATE WILL BE THE LAST DATE OF THE CAMPAIGN PERIOD --#\n\nSELECT * FROM TEMP_FOR_AG_LIST_MAP_14AUG24;-- 563663  Rows --#THIS IS THE CREATED AGENT LIST TABLE--#\n\n-- STEP 3: COMMISSION QUERY START \n--DROP TABLE TEMP_FOR_DD_DENO_DET1_14AUG24 PURGE;\nCREATE TABLE TEMP_FOR_DD_DENO_DET1_14AUG24 AS --#THIS THE 1ST DETAIL FOR THIS COMMISSION WHERE COMMISSION AMOUNT IN CALCULATED\nWITH RSO_WISE_ACHIEVEMENT AS ( \n    SELECT CLUSTER_NAME,REGION,AG.DD_CODE,AG.TARGET,COUNT(RECHARGE_AMOUNT) HIT\n    FROM TEMP_FOR_AG_LIST_MAP_14AUG24 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '13-AUG-24' AND '14-AUG-24') AND EV.RECHARGE_AMOUNT IN (397,497,648,699,798,799,899,998) --# THIS LOGIC IS FOR Deno: 397,497,648,699,798,799,899,998 GIVEN CONDITION AND TOP_UP_DATE WILL BE Effective Date--#\n    GROUP BY AG.DD_CODE,  AG.TARGET,REGION,CLUSTER_NAME\n)\n--SELECT * FROM RSO_WISE_ACHIEVEMENT;--375  Rows\n-- STEP 4: CALCULATING ACHIEVMENT PERCENTAGE\n,RET_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,ROUND((HIT/TARGET)*100) ACH_PER\nFROM RSO_WISE_ACHIEVEMENT ACHIEVEMENT\n)\n--SELECT * FROM RET_WISE_PERCENTAGE;--375  Rows\n-- STEP 5: CALCULATING REGION ACHIVEMENT\n,REGION_WISE_ACH AS (\nSELECT REGION,  SUM(TARGET) REGION_TARGET, SUM(HIT) REGION_HIT\nFROM RSO_WISE_ACHIEVEMENT ACHIEVEMENT\nGROUP BY REGION\n)\n--SELECT * FROM REGION_WISE_ACH;--23  Rows\n-- STEP 6: CALCULATING REGION WISE ACHIVEMENT PARCENTAGE\n,REGION_WISE_PERCENTAGE AS (\nSELECT CLUSTER_NAME,AL.REGION, DD_CODE, TARGET, HIT, ACH_PER ,REGION_ACH_PER\nFROM RET_WISE_PERCENTAGE AL \nINNER JOIN (\nSELECT REGION,ROUND((REGION_HIT/REGION_TARGET)*100) REGION_ACH_PER\nFROM REGION_WISE_ACH PER\n) RE ON RE.REGION = AL.REGION\n)\n--SELECT * FROM REGION_WISE_PERCENTAGE;--375  Rows\n-- STEP 7: CALCULATING COMMISSION AMOUNT\n,CALCULATE_COMMISSION AS (\n    SELECT CLUSTER_NAME,REGION,DD_CODE,  TARGET, HIT,ACH_PER,REGION_ACH_PER,\n    CASE\n        WHEN  ACH_PER >= 110 AND REGION_ACH_PER >=90 THEN HIT*40\n        WHEN  ACH_PER >= 110 AND (CLUSTER_NAME = 'West Cluster' OR REGION = 'Dhk-West') THEN HIT*40 -- # SLAB WISE INCENTIVE ONLY FOR Dhk-West REGION ARE GIVEN HERE --#\n        WHEN  ACH_PER >= 101 AND (CLUSTER_NAME = 'West Cluster' OR REGION = 'Dhk-West') THEN HIT*35 -- # SLAB WISE INCENTIVE ONLY FOR Dhk-West REGION ARE GIVEN HERE --#\n        WHEN  ACH_PER >= 110  THEN HIT*30 -- # SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        WHEN  ACH_PER >= 101 THEN HIT*25 -- # SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        WHEN  ACH_PER >= 91 THEN HIT*20 -- # SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        WHEN  ACH_PER >= 81 THEN HIT*15 -- # SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        WHEN  ACH_PER >= 70 THEN HIT*10 -- # SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        ELSE 0\n    END COMMISSION\n    FROM REGION_WISE_PERCENTAGE \n)\nSELECT * FROM CALCULATE_COMMISSION;--375  Rows --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_DENO_DET1_14AUG24) --#\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;--1787900 TAKA\n\n-- STEP 8: CHECKING THE CRATED TABLE DATA\nSELECT * FROM TEMP_FOR_DD_DENO_DET1_14AUG24;--372  Rows\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_DENO_DET1_14AUG24;--1849300             1491950 TK\n\n-------------------SETUP------------------\n--STEP 8: PREPARE FOR REPORT PUBLISHING\n--REPORT_ID : 6728 (UPDATE WITH ACTUAL REPORT ID) \n-- 6728 9114 55755\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Deno Campaign_BDT 397_497_648_699_798_799_899_998_13th to 14th Aug24';\n-- BASE_CYCLE_ID : 9114  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Aug_24) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Aug_24'; --base month\n-- REPORT_CYCLE_ID : 55755 (UPDATE WITH ACTUAL REPORT CYCLE ID) \nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 6728 and  CYCLEID = 9114;--55755\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 55755;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 55755;\n--commit;\n\n--STEP 9: INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 55755 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_DD_DENO_DET1_14AUG24\n);\nCOMMIT;\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 55755; -- 1849300 TAKA\n\n--PUBLISH_CYCLE_ID : 9954  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. May_25 if today = 31-May-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'May_25'; --Publish month --9954\n--STEP 10: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\nEXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Deno Campaign_BDT 397_497_648_699_798_799_899_998_13th to 14th Aug24',9114,'TEMP_FOR_DD_DENO_DET1_14AUG24','SUMMARY DETAILS');\n\n--STEP 11: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Distributor Deno Campaign_BDT 397_497_648_699_798_799_899_998_13th to 14th Aug24', 55755,'Aug_24', 'Aug_24',290, 1);\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Sadia Tahsin Ananna\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 20-Aug-2024\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily\t           ( Weekly\t    ( Monthly     (( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid         ( Postpaid            ( ( Others: Deno HIT\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor       ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Deno Campaign_BDT 497_498_648_699_799_899_998_North_North East_20th Aug24\r\u0007\r\u0007Report Description: Distributor will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 20-Aug-2024        ( End Date: 20-Aug-2024\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDeno HIT\rDeno Recharge\rDistributor will be given Deno Hit targets. (Target will be provided by B2C)\rSelected Deno will be consider for performance calculation. \rDeno: 497_498_648_699_799_899_998\rUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 30 per Dono Hit incentives \rAgent list of 20th Aug‚Äô24 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\r\rDetails Format:\rDD Code\r\u0007Target\r\u0007Deno Ach Count\r\u0007Commission Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\r\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   21st Aug‚Äô24\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Sadia Tahsin Ananna\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "-------------------------------HELPER QUERY------------------------------------\n-- STEP 1: VERIFY SUPPORTING DATA\n--# THIS TABLE IS ALREADY EXISTING, NO NEED TO CREATE FURTHER --#\n--drop table TEMP_FOR_DENO_CAMP_TAR_20AUG24 purge;\nSELECT * FROM TEMP_FOR_DENO_CAMP_TAR_20AUG24;--375  Rows\nupdate TEMP_FOR_DENO_CAMP_TAR_20AUG24 set DD_CODE = trim(DD_CODE);\ncommit;\n\n-- STEP 2: CREATING THE AGENT LIST\n--DROP TABLE TEMP_FOR_AG_LIST_MAP_20AUG24 PURGE;\nCREATE TABLE TEMP_FOR_AG_LIST_MAP_20AUG24 AS\nSELECT TAR.*,AG.RETAILER_CODE, AG.TOPUP_MSISDN RET_MSISDN \nFROM TEMP_FOR_DENO_CAMP_TAR_20AUG24 TAR \nINNER JOIN AGENT_LIST_DAILY AG ON AG.DIST_CODE=TAR.DD_CODE AND AG.DATA_DATE = '20-AUG-24';--562930  Rows --#HERE DATA DATE WILL BE THE LAST DATE OF THE CAMPAIGN PERIOD --#\n\nSELECT * FROM TEMP_FOR_AG_LIST_MAP_20AUG24;-- 199438  Rows --#THIS IS THE CREATED AGENT LIST TABLE--#\n\n--DROP TABLE TEMP_FOR_DD_DENO_DET1_20AUG24 PURGE;\nCREATE TABLE TEMP_FOR_DD_DENO_DET1_20AUG24 AS --#THIS THE 1ST DETAIL FOR THIS COMMISSION WHERE COMMISSION AMOUNT IN CALCULATED#\nWITH RSO_WISE_ACHIEVEMENT AS ( \n    SELECT AG.DD_CODE,AG.TARGET,COUNT(RECHARGE_AMOUNT) HIT\n    FROM TEMP_FOR_AG_LIST_MAP_20AUG24 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '20-AUG-24' AND '20-AUG-24') AND EV.RECHARGE_AMOUNT IN (497,498,648,699,799,899,998) --# THIS LOGIC IS FOR Deno: 497,498,648,699,799,899,998 GIVEN CONDITION AND TOP_UP_DATE WILL BE Effective Date--#\n    GROUP BY AG.DD_CODE,  AG.TARGET\n)\n--SELECT * FROM RSO_WISE_ACHIEVEMENT;--138  Rows\n-- STEP 4: CALCULATING ACHIEVMENT PERCENTAGE\n,RET_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,ROUND((HIT/TARGET)*100) ACH_PER\nFROM RSO_WISE_ACHIEVEMENT ACHIEVEMENT\n)\n--SELECT * FROM RET_WISE_PERCENTAGE;--138  Rows\n-- STEP 5: CALCULATING COMMISSION AMOUNT\n,CALCULATE_COMMISSION AS (\n    SELECT DD_CODE,  TARGET, HIT,ACH_PER,\n    CASE\n        WHEN  ACH_PER >= 100 THEN HIT*30 --#Upon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 30 per Dono Hit incentives #\n        ELSE 0\n    END COMMISSION\n    FROM RET_WISE_PERCENTAGE \n)\nSELECT * FROM CALCULATE_COMMISSION;--375  Rows --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_DENO_DET1_20AUG24) --#\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;--192930 TAKA\n\n-- STEP 6: CHECKING THE CRATED TABLE DATA\nSELECT * FROM TEMP_FOR_DD_DENO_DET1_20AUG24;--138  Rows\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_DENO_DET1_20AUG24;--192930 TK\n\n---------------SETUP------------\n--STEP 7: PREPARE FOR REPORT PUBLISHING\n--REPORT_ID : 6733 (UPDATE WITH ACTUAL REPORT ID)\n-- 6733 9114 55794\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Deno Campaign_BDT 497_498_648_699_799_899_998_North_North East_20th Aug24';\n-- BASE_CYCLE_ID : 9114  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Aug_24) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Aug_24'; --base month\n-- REPORT_CYCLE_ID : 55794 (UPDATE WITH ACTUAL REPORT CYCLE ID) \nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 6733 and  CYCLEID = 9114;--55794\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 55794;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 55794;\n--commit;\n\n--STEP 8: INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 55794 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_DD_DENO_DET1_20AUG24\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 55794; -- 192930 TAKA\n\n--PUBLISH_CYCLE_ID : 9114  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Aug_24 if today = 30-Aug-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Aug_24'; --Publish month --9114\n\n--STEP 9: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\nEXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Deno Campaign_BDT 497_498_648_699_799_899_998_North_North East_20th Aug24',9114,'TEMP_FOR_DD_DENO_DET1_20AUG24','SUMMARY DETAILS');\n\n--STEP 10: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Distributor Deno Campaign_BDT 497_498_648_699_799_899_998_North_North East_20th Aug24', 55794,'Aug_24', 'Aug_24',290, 1);\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Delower Hossen ROBIN\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 16-Feb-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno Recharge\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Deno Campaign_Central Cluster_10th to 17th Feb25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 10-Feb-2025        ( End Date: 17-Feb-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno Recharge\rDeno Recharge\rDistributor will be given Deno Recharge target. (Target will be provided by B2C)\rSelected Deno will be consider for performance calculation. \r\rCampaign Date: 10th to 16th Feb‚Äô25: Dhk-East, Dhk-South, Dhk-West, Narayanganj\r                        10th to 17th Feb‚Äô25: Dhk-North\rDeno: ALL Deno (Deno List will share by B2C)\rUpon achieving Deno Recharge target (Cumulative of DENO), Distributor will be given incentives as per below Slab (Distributor wise Recharge Target will be share by B2C).\r\rIn Addition: Bonus incentive for DD: if Total Central Cluster achieved 100% Recharge target, then >=100% achiever DD‚Äôs will get additional 0.10% bonus incentive on total Recharge amount on top their incentive slab.\r\rExample for Additional Bonus incentive Calculation: if DD achieves >=100% target, then DD will get 0.8%+0.10% incentive. for >=110% achievers DD, incentive will be 0.9%+0.10%\rAgent list of 17th Feb‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rIncentive Slab\r\u0007Incentive of Total Recharge Amount\r\u0007Additional Incentives if Total Cluster achieve 100%\r\u0007\r\u0007\r\u0007\r\u0007100%-109%\r\u00070.8% of Total Recharge Amoun\r\u00070.8%+0.10%\r\u0007\r\u0007\r\u0007\r\u0007110% and Above\r\u00070.9% of Total Recharge Amoun\r\u00070.9%+0.10%\r\u0007\r\u0007\r\u0007\r\u0007\r\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007DD Code\r\u0007Target Recharge\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r15th Dec‚Äô24\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Delower Hossen ROBIN\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "-------------------------------HELPER QUERY------------------------------------\n-- STEP 1: CREATING COMMISSION TARGET TABLE\n--#HERE TARGET TABLE FOR THE COMMISSION WILL BE CREATED--#\n--drop table TEMP_FOR_DN_BB_CAM_TAR_17FEB25 purge;\nCREATE TABLE TEMP_FOR_DN_BB_CAM_TAR_17FEB25 AS\nselect CHANNEL_CODE DD_CODE, TARGET from COM_KPI_CONDITION_TARGET \nWHERE REPORTCYCLE_ID = (SELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS \nwhere REPORTID = (SELECT REPORTID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Deno Campaign_Central Cluster_10th to 17th Feb25') and  --#HERE REPORT NAME WILL BE COMMISSOIN REPORT WISE --#\nCYCLEID = (SELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Feb_25'));--1278  Rows --#HERE CYCLEDESCRIPTION WILL BE THE BASE MONTH --#\n\nSELECT DISTINCT REGION FROM TEMP_FOR_DN_BB_CAM_TAR_17FEB25;--53  Rows --# THIS IS THE CREATED TARGET TABLE --#\n\nUPDATE TEMP_FOR_DN_BB_CAM_TAR_17FEB25 SET DD_CODE = TRIM(DD_CODE), TARGET = ROUND(TARGET);\nCOMMIT;\n\n-- STEP 2: CREATING THE AGENT LIST \n--DROP TABLE TEMP_FOR_AGLIST_MAP_17FEB25 PURGE;\nCREATE TABLE TEMP_FOR_AGLIST_MAP_17FEB25 AS\nSELECT TAR.*,AG.RETAILER_CODE, AG.TOPUP_MSISDN RET_MSISDN \nFROM TEMP_FOR_DN_BB_CAM_TAR_17FEB25 TAR \nINNER JOIN AGENT_LIST_DAILY AG ON AG.DIST_CODE=TAR.DD_CODE AND AG.DATA_DATE = '17-FEB-25';--117982  Rows --#HERE DATA DATE WILL BE THE LAST DATE OF THE CAMPAIGN PERIOD --# \n\nSELECT * FROM TEMP_FOR_AGLIST_MAP_17FEB25;--118169  Rows --#THIS IS THE CREATED AGENT LIST TABLE--#\n\n-- STEP 3: COMMISSION QUERY START \n--DROP TABLE TEMP_FOR_DD_DN_DET1_17FEB25 PURGE;\nCREATE TABLE TEMP_FOR_DD_DN_DET1_17FEB25 AS --#THIS THE 1ST DETAIL FOR THIS COMMISSION WHERE COMMISSION AMOUNT IN CALCULATED\nWITH DD_WISE_ACHIEVEMENT AS ( \n    SELECT AG.CLUSTER_TYPE,AG.DD_CODE,AG.TARGET,SUM(RECHARGE_AMOUNT) TOTAL_RECHARGE\n    FROM TEMP_FOR_AGLIST_MAP_17FEB25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '10-FEB-25' AND '16-FEB-25') --#Campaign Date: 10th to 16th Feb‚Äô25#\n    AND EV.RECHARGE_AMOUNT IN (\n    19,27,34,47,48,57,58,64,69,77,81,96,97,99,104,117,118,127,\n    129,147,148,149,157,167,169,177,197,198,199,207,209,222,\n    224,227,229,247,248,249,297,298,299,319,337,348,397,398,\n    399,448,497,498,499,548,549,597,599,649,698,699,798,799,897,899,998,1397)--#deno list given by b2c#\n    AND REGION IN ('Narayanganj','Dhk-East','Dhk-South','Dhk-West') --# For the REGION of Dhk-East, Dhk-South, Dhk-West and Narayanganj #\n    GROUP BY AG.CLUSTER_TYPE,AG.DD_CODE,  AG.TARGET\n    \n    UNION ALL\n    \n    SELECT AG.CLUSTER_TYPE,AG.DD_CODE,AG.TARGET,SUM(RECHARGE_AMOUNT) TOTAL_RECHARGE\n    FROM TEMP_FOR_AGLIST_MAP_17FEB25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '10-FEB-25' AND '17-FEB-25') --#Campaign Date: 10th to 17th Feb‚Äô25#\n    AND EV.RECHARGE_AMOUNT IN (19,27,34,47,48,57,58,64,69,77,81,96,97,99,\n    104,117,118,127,129,147,148,149,157,167,169,177,197,198,199,207,209,\n    222,224,227,229,247,248,249,297,298,299,319,337,348,397,398,399,448,\n    497,498,499,548,549,597,599,649,698,699,798,799,897,899,998,1397) --#deno list given by b2c#\n    AND REGION IN ('Dhk-North') --# For the REGION of Dhk-North #\n    GROUP BY AG.CLUSTER_TYPE,AG.DD_CODE,  AG.TARGET\n)\n--SELECT * FROM DD_WISE_ACHIEVEMENT;--53  Rows\n-- STEP 4: CALCULATING ACHIEVMENT PERCENTAGE\n,DD_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,ROUND((TOTAL_RECHARGE/TARGET)*100) ACH_PER\nFROM DD_WISE_ACHIEVEMENT ACHIEVEMENT\n)\n--SELECT * FROM DD_WISE_PERCENTAGE;--53  Rows\n-- STEP 5: CALCULATING CLUSTER ACHIVEMENT\n,CENTRAL_WISE_PERCENTAGE AS (\nSELECT CLUSTER_TYPE, SUM(TARGET) CENTRAL_TARGET, SUM(TOTAL_RECHARGE) CENTRAL_RECHARGE,ROUND((SUM(TOTAL_RECHARGE)/SUM(TARGET))*100) CLUSTER_ACH_PER\nFROM DD_WISE_ACHIEVEMENT ACHIEVEMENT\nGROUP BY CLUSTER_TYPE\n)\n--SELECT * FROM CENTRAL_WISE_PERCENTAGE;--358  Rows\n-- STEP 6: CALCULATING COMMISSION AMOUNT\n,CALCULATE_COMMISSION AS (\n    SELECT DD_CODE,  TARGET, TOTAL_RECHARGE,ACH_PER,CLUSTER_ACH_PER,\n    CASE\n        WHEN  ACH_PER >= 110 AND CLUSTER_ACH_PER >= 100 THEN ROUND((TOTAL_RECHARGE*.009)+(TOTAL_RECHARGE*.001)) \n        --#If the Central Cluster hits 100% target, DDs achieving ?100% will get an extra 0.10% on total recharge. and If a DD achieves ?100%, they get 0.8%?+?0.10%. For ?110% achievers, it becomes 0.9%?+?0.10%.#\n        WHEN  ACH_PER >= 110 THEN ROUND(TOTAL_RECHARGE*.009)\n        WHEN  ACH_PER >= 100 AND CLUSTER_ACH_PER >= 100 THEN ROUND((TOTAL_RECHARGE*.008)+(TOTAL_RECHARGE*.001))\n        --#If the Central Cluster hits 100% target, DDs achieving ?100% will get an extra 0.10% on total recharge. and If a DD achieves ?100%, they get 0.8%?+?0.10%. For ?110% achievers, it becomes 0.9%?+?0.10%.#\n        WHEN  ACH_PER >= 100 THEN ROUND(TOTAL_RECHARGE*.008)\n        ELSE 0\n    END COMMISSION\n    FROM DD_WISE_PERCENTAGE DD\n    LEFT JOIN CENTRAL_WISE_PERCENTAGE CC ON CC.CLUSTER_TYPE = DD.CLUSTER_TYPE\n    \n)\nSELECT * FROM CALCULATE_COMMISSION;--53  Rows --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_HIT_DET_31_MAY25) --#\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;--353146           353146 TK\n\n-- STEP 7: CHECKING THE CRATED TABLE DATA\nSELECT * FROM TEMP_FOR_DD_DN_DET1_17FEB25;--52  Rows\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_DN_DET1_17FEB25;--721337 TK\n\n--------------------SETUP-----------------\n--STEP 8: PREPARE FOR REPORT PUBLISHING\n\n--REPORT_ID : 7554 (UPDATE WITH ACTUAL REPORT ID)\n-- 7554 9674 62175\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Deno Campaign_Central Cluster_10th to 17th Feb25';\n-- BASE_CYCLE_ID : 9674  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Feb_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Feb_25'; --base month\n-- REPORT_CYCLE_ID : 62175 (UPDATE WITH ACTUAL REPORT CYCLE ID) \nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7554 and  CYCLEID = 9674;--62175\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 62175;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 62175;\n--commit;\n\n--STEP 9: INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 62175 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_DD_DN_DET1_17FEB25\n);\nCOMMIT;\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 62175; -- 721337 TAKA\n\n--PUBLISH_CYCLE_ID : 9674  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month--#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Feb_25'; --Publish month 9674\n\n--STEP 10: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\nEXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Deno Campaign_Central Cluster_10th to 17th Feb25',9674,'TEMP_FOR_DD_DN_DET1_17FEB25','SUMMARY DETAILS');\n\n --STEP 11: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Distributor Deno Campaign_Central Cluster_10th to 17th Feb25', 62175,'Feb_25', 'Feb_25',290, 1);\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Md. Nazmul Islam\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 13-Nov-2024\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily\t           ( Weekly\t    ( Monthly     (( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid         ( Postpaid            ( ( Others: Deno HIT and C2S\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor       ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Deno Campaign_Central Cluster_13th Nov24\r\u0007\r\u0007Report Description: Distributor will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 13-Nov-2024        ( End Date: 13-Nov-2024\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDeno HIT and C2S\rDeno HIT\rDistributor will be given Deno Hit and C2S targets. (Target will be provided by B2C)\rSelected Deno will be consider for performance calculation. \rDeno: 497, 597, 648, 699, 798, 799, 998.\rUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 30 PER HIT incentives (Distributor‚Äôs wise HIT target will be share by B2C) \rIn Addition, if DD achieved C2S target, DD will get Incentives. (DD wise C2S target and Incentives will share by B2C)\rAgent list of 13th Nov‚Äô24 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\r\r\r\rDetails Format:\rDD Code\r\u0007HIT Target\r\u0007Deno HIT Ach Count\r\u0007Commission Amount\r\u0007C2S Target\r\u0007C2SAch             Incentve Amount\r\u0007\r\u0007\r\r\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   12th Nov‚Äô24\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Md. Nazmul Islam\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "-------------------------------HELPER QUERY------------------------------------\n-- STEP 1: VERIFY SUPPORTING DATA\n--drop table TEMP_FOR_DENO_CAMP_TAR_13NOV24 purge;\nSELECT * FROM TEMP_FOR_DENO_CAMP_TAR_13NOV24;--55  Rows --# THIS TABLE TARGET TABLE, NO NEED TO CREATE FURTHER --#\nupdate TEMP_FOR_DENO_CAMP_TAR_13NOV24 set DD_CODE = trim(DD_CODE);\ncommit;\n\n-- STEP 2: CREATING THE AGENT LIST \n--DROP TABLE TEMP_FOR_AG_LIST_MAP_13NOV24 PURGE;\nCREATE TABLE TEMP_FOR_AG_LIST_MAP_13NOV24 AS\nSELECT TAR.*,AG.RETAILER_CODE, AG.TOPUP_MSISDN RET_MSISDN \nFROM TEMP_FOR_DENO_CAMP_TAR_13NOV24 TAR \nINNER JOIN AGENT_LIST_DAILY AG ON AG.DIST_CODE=TAR.DD_CODE AND AG.DATA_DATE = '13-NOV-24';--118487  Rows--#HERE DATA DATE WILL BE THE LAST DATE OF THE CAMPAIGN PERIOD --#\n\nSELECT * FROM TEMP_FOR_AG_LIST_MAP_13NOV24;--118487  Rows -- # THIS TABLE CONTAINS AGENT LIST --#\n\n-- STEP 3: COMMISSION QUERY START \n--DROP TABLE TEMP_FOR_DD_DENO_DET1_10NOV24 PURGE;\n--CREATE TABLE TEMP_FOR_DD_DENO_DET1_10NOV24 AS --#THIS THE 1ST DETAIL FOR THIS COMMISSION WHERE COMMISSION AMOUNT IN CALCULATED\nWITH DD_WISE_ACHIEVEMENT AS ( --#achieving Deno HIT target #\n    SELECT AG.DD_CODE,AG.TARGET,COUNT(RECHARGE_AMOUNT) HIT,C2S_TARGET\n    FROM TEMP_FOR_AG_LIST_MAP_13NOV24 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '13-NOV-24' AND '13-NOV-24') \n    AND EV.RECHARGE_AMOUNT IN (497, 597, 648, 699, 798, 799, 998) --# THIS LOGIC IS FOR Deno: 497, 597, 648, 699, 798, 799, 998 GIVEN CONDITION AND TOP_UP_DATE WILL BE Effective Date--#\n    GROUP BY AG.DD_CODE,  AG.TARGET,C2S_TARGET\n)\n--SELECT * FROM DD_WISE_ACHIEVEMENT;--55  Rows\n-- STEP 4: CALCULATING C2S ACHIVEMENT(TOTAL RECHARGE ACHIVEMENT)\n,DD_WISE_C2S_ACHIEVEMENT AS ( \n    SELECT AG.DD_CODE,AG.TARGET,SUM(RECHARGE_AMOUNT) TOTAL_RECHARGE,C2S_TARGET\n    FROM TEMP_FOR_AG_LIST_MAP_13NOV24 AG \n    INNER JOIN TEMP_FOR_EV_RECHARGE_13NOV24 EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '13-NOV-24' AND '13-NOV-24') \n    GROUP BY AG.DD_CODE,  AG.TARGET,C2S_TARGET\n)\n--SELECT * FROM DD_WISE_C2S_ACHIEVEMENT;--55  Rows\n-- STEP 5: MARGE DENO HIT TARGET AND RECHARGE TARGET\n,DD_WISE_TOTAL_ACH AS (\nSELECT HIT.*,TOTAL_RECHARGE\nFROM DD_WISE_C2S_ACHIEVEMENT C2S \nLEFT JOIN DD_WISE_ACHIEVEMENT HIT ON HIT.DD_CODE = C2S.DD_CODE\n)\n--SELECT * FROM DD_WISE_TOTAL_ACH;--55  Rows\n-- STEP 6: CALCULATING DENO HIT AND RECHARGE TARGET ACHIVEMENT PARCENTAGE\n,DD_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,ROUND((HIT/TARGET)*100) ACH_PER,ROUND((TOTAL_RECHARGE/C2S_TARGET)*100) C2S_ACH_PER\nFROM DD_WISE_TOTAL_ACH ACHIEVEMENT\n)\n--SELECT * FROM DD_WISE_PERCENTAGE;--367  Rows\n-- STEP 7: CALCULATING COMMISSION AMOUNT\n,CALCULATE_COMMISSION AS (\n    SELECT DD_CODE,  TARGET, HIT,ACH_PER,\n    CASE\n        WHEN  ACH_PER >= 100 AND C2S_ACH_PER >= 100 THEN (HIT*30)\n        ELSE 0\n    END COMMISSION\n    FROM DD_WISE_PERCENTAGE \n)\nSELECT * FROM CALCULATE_COMMISSION;--367  Rows --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_DENO_DET1_10NOV24) --#\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;--499165 TAKA\n\n-- STEP 8: CHECKING THE CRATED TABLE DATA\nSELECT * FROM TEMP_FOR_DD_DENO_DET1_10NOV24;--367  Rows\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_DENO_DET1_10NOV24;--499165 TK\n\n------------------SETUP------------------\n--STEP 9: PREPARE FOR REPORT PUBLISHING\n\n--REPORT_ID : 7060 (UPDATE WITH ACTUAL REPORT ID)\n-- 7060 9434 59256\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Deno Campaign_10th Nov24';\n-- BASE_CYCLE_ID : 9434  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Nov_24) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Nov_24'; --base month\n-- REPORT_CYCLE_ID : 59256 (UPDATE WITH ACTUAL REPORT CYCLE ID) \nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7060 and  CYCLEID = 9434;--59256\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 59256;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 59256;\n--commit;\n\n--STEP 10:INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 59256 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_DD_DENO_DET1_10NOV24\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 59256; -- 499165 TAKA\n\n--PUBLISH_CYCLE_ID : 9434  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Nov_24'; --Publish month\n\n--STEP 11: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\nEXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Deno Campaign_10th Nov24',9434,'TEMP_FOR_DD_DENO_DET1_10NOV24','SUMMARY DETAILS');\n--STEP 12: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Distributor Deno Campaign_10th Nov24', 59256,'Nov_24', 'Nov_24',290, 1);\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Delower Hossen ROBIN\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 30-Jan-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno Recharge\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Deno Campaign_Central Cluster_1st to 9th Feb25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 1-Feb-2025        ( End Date: 9-Feb-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno Recharge\rDeno Recharge\rDistributor will be given Deno Recharge target. (Target will be provided by B2C)\rSelected Deno will be consider for performance calculation. \rDeno: ALL Deno (Deno List will share by B2C)\rUpon achieving Deno Recharge target (Cumulative of DENO), Distributor will be given incentives as per below Slab (Distributor wise Recharge Target will be share by B2C).\r\rIn Addition: Bonus incentive for DD: if Total Central Cluster achieved 100% Recharge target, then >=100% achiever DD‚Äôs will get additional 0.15% bonus incentive on total Recharge amount on top their incentive slab.\r\rExample for Additional Bonus incentive Calculation: if DD achieves >=100% target, then DD will get 0.8%+0.15% incentive. for >=110% achievers DD, incentive will be 1%+0.15%\rAgent list of 9th Feb‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rIncentive Slab\r\u0007Incentive of Total Recharge Amount\r\u0007Additional Incentives if Total Cluster achieve 100%\r\u0007\r\u0007\r\u0007\r\u0007100%-109%\r\u00070.8% of Total Recharge Amoun\r\u00070.8%+0.15%\r\u0007\r\u0007\r\u0007\r\u0007110% and Above\r\u00071% of Total Recharge Amoun\r\u00071%+0.15%\r\u0007\r\u0007\r\u0007\r\u0007\r\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007DD Code\r\u0007Target Recharge\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r15th Dec‚Äô24\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Delower Hossen ROBIN\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "-- STEP 1: CREATING COMMISSION TARGET TABLE\n--#HERE TARGET TABLE FOR THE COMMISSION WILL BE CREATED--#\nCREATE TABLE TEMP_FOR_DD_TAR_1_9FEB25 AS\nselect CHANNEL_CODE DD_CODE, TARGET from COM_KPI_CONDITION_TARGET \nWHERE REPORTCYCLE_ID = (SELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS \nwhere REPORTID = (SELECT REPORTID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Deno Campaign_Central Cluster_1st to 9th Feb25') --#HERE REPORT NAME WILL BE COMMISSOIN REPORT WISE --#\nand CYCLEID = (SELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Feb_25')); --#HERE CYCLEDESCRIPTION WILL BE THE BASE MONTH --#\n\n\n------------------AGENT LIST--------------------\n-- STEP 2: CREATING THE AGENT LIST \n--drop table TEMP_FOR_DDAGENT_1_9_FEB25 purge;\nCREATE TABLE TEMP_FOR_DDAGENT_1_9_FEB25 AS\nSELECT /*+ parallel(10) */ DISTINCT\n    TAR.DD_CODE,\n    MAPING.RET_CODE,\n    MAPING.RET_MOBILE,\n    TAR.TARGET\nFROM DD_RSO_RET_MAPPING_DAILY MAPING\nINNER JOIN TEMP_FOR_DD_TAR_1_9FEB25 TAR ON MAPING.DD_CODE=TAR.DD_CODE\nWHERE DATA_DATE='9-FEB-25'; --#HERE DATA DATE WILL BE THE LAST DATE OF THE CAMPAIGN PERIOD --#\nSELECT * FROM TEMP_FOR_DDAGENT_1_9_FEB25;-- 118197  Rows --#THIS IS THE CREATED AGENT LIST TABLE--#\n--1915273989  87                          \n-------------------------------HELPER QUERY------------------------------------\n-- STEP 3: COMMISSION QUERY START\n--drop table TEMP_FOR_DD_FCS_DET_1_9FEB25 purge;\nCREATE TABLE TEMP_FOR_DD_FCS_DET_1_9FEB25 AS --#THIS THE 1ST DETAIL FOR THIS COMMISSION WHERE COMMISSION AMOUNT IN CALCULATED #\nWITH DD_WISE_ACHIEVEMENT AS (\n    SELECT DD_CODE,SUM(RECHARGE.RECHARGE_AMOUNT) ACH,AG.TARGET\n    FROM EV_RECHARGE_COM_DAILY RECHARGE\n    INNER JOIN TEMP_FOR_DDAGENT_1_9_FEB25 AG \n        ON AG.RET_MOBILE = RECHARGE.RETAILER_MSISDN\n    WHERE RECHARGE.TOP_UP_DATE BETWEEN '1-FEB-25' AND '9-FEB-25'\n        AND RECHARGE.RECHARGE_AMOUNT IN \n        (\n        58,69,96,99,118,129,149,169,199,209,229,249,299,399,499,549,599,649,699,\n799,899,48,81,104,148,198,222,224,248,298,348,398,448,498,548,698,798,998,\n19,27,34,47,57,64,77,97,117,127,147,157,167,177,\n197,207,227,247,297,337,397,497,597,897,1397\n        ) --# THIS LOGIC IS FOR Deno GIVEN CONDITION AND TOP_UP_DATE WILL BE Effective Date--#\n    GROUP BY DD_CODE,AG.TARGET\n)\n--SELECT * FROM DD_WISE_ACHIEVEMENT; -- 52  Rows\n-- STEP 4: CALCULATING ACHIEVMENT PERCENTAGE\n,DD_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,ROUND((ACH/TARGET)*100) ACH_PER\nFROM DD_WISE_ACHIEVEMENT ACHIEVEMENT\n)\n--SELECT * FROM DD_WISE_PERCENTAGE;-- 52  Rows\n-- STEP 5: CALCULATING COMMISSION AMOUNT\n,CALCULATE_COMMISSION AS (\n    SELECT \n        DD_CODE,\n        TARGET,\n        ACH,\n        ACH_PER,\n        ROUND(\n            CASE\n                WHEN ACH_PER >= 110 THEN (0.01 * ACH) + (0.0015 * ACH) -- # SLAB WISE INCENTIVE AND Additional Incentives  ARE GIVEN HERE --#\n                WHEN ACH_PER >= 100 THEN (0.008 * ACH) + (0.0015 * ACH) -- # SLAB WISE INCENTIVE AND Additional Incentives ARE GIVEN HERE --#\n                ELSE 0\n            END \n        ) AS COMMISSION\n    FROM DD_WISE_PERCENTAGE\n)\nSELECT * FROM CALCULATE_COMMISSION;--  52  Rows --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_DN_DET_1_MAY25) --#\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;-- 1067453\n\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_FCS_DET_1_9FEB25;--1067453 TK\n\n-- STEP 6: CHECKING THE CRATED TABLE DATA\nSELECT * FROM TEMP_FOR_DD_FCS_DET_1_9FEB25; -- 52  Rows\n\n---------------------MSISDN DETAIL---------------------------\n--STEP 7: CREATING 2ND DETAIL TABLE\n--DROP TABLE TEMP_FOR_DD_FCS_DET2_1_9FEB25 PURGE;\nCREATE TABLE TEMP_FOR_DD_FCS_DET2_1_9FEB25 AS --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_FCS_DET2_1_9FEB25) --#\n SELECT DD_CODE,AG.RET_CODE, RET_MOBILE,RECHARGE.SUB_MSISDN CUSTOMER_MSISDN,RECHARGE.RECHARGE_AMOUNT\n    FROM TEMP_FOR_DD_EV_DET_1_9FEB25 RECHARGE\n    INNER JOIN TEMP_FOR_DDAGENT_1_9_FEB25 AG \n    ON AG.RET_MOBILE=RECHARGE.RETAILER_MSISDN\n    WHERE (RECHARGE.TOP_UP_DATE  BETWEEN '1-FEB-25' AND '9-FEB-25') \n    AND RECHARGE.RECHARGE_AMOUNT IN (58,69,96,99,118,129,149,169,199,209,229,249,299,399,499,549,599,649,699,\n799,899,48,81,104,148,198,222,224,248,298,348,398,448,498,548,698,798,998,\n19,27,34,47,57,64,77,97,117,127,147,157,167,177,\n197,207,227,247,297,337,397,497,597,897,1397);-- 562334  Rows --# THIS LOGIC IS FOR Deno GIVEN CONDITION AND TOP_UP_DATE WILL BE Effective Date--#\n    \nSELECT * FROM TEMP_FOR_DD_FCS_DET2_1_9FEB25;-- 562334  Rows\n    \n-----------------SETUP---------------\n--STEP 8: PREPARE FOR REPORT PUBLISHING\n--REPORT_ID : 7509 (UPDATE WITH ACTUAL REPORT ID) \n-- 7509 9674 61913\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Deno Campaign_Central Cluster_1st to 9th Feb25';\n-- BASE_CYCLE_ID : 9674  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Feb_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Feb_25'; --base month\n-- REPORT_CYCLE_ID : 61913 (UPDATE WITH ACTUAL REPORT CYCLE ID)\nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7509 and  CYCLEID = 9674;--61913\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 61913;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 61913;\n--commit;\n\n--STEP 9: INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 61913 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_DD_FCS_DET_1_9FEB25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 61913; -- 1067453 TAKA\n\n--PUBLISH_CYCLE_ID : 9674  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Feb_25 if today = 28-Feb-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Feb_25'; --Publish month --9674\n\n--STEP 10: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\n--EXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Deno Campaign_Central Cluster_1st to 9th Feb25',9674,'TEMP_FOR_DD_FCS_DET_1_9FEB25','SUMMERY_DETAIL','TEMP_FOR_DD_FCS_DET2_1_9FEB25','MSISDN_DETAIL');\n--STEP 11: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\n--EXEC FINALIZE_REPORT_ADHOC('Distributor Deno Campaign_Central Cluster_1st to 9th Feb25', 61913,'Feb_25', 'Feb_25',290, 1);\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Delower Hossen ROBIN\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 14-Jan-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno HIT\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Deno Campaign_East Cluster_SYL_15th to 21st Jan25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 15-Jan-2025        ( End Date: 21-Jan-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno HIT\rDeno HIT\rDistributor will be given Deno HIT target. (Target will be provided by B2C)\rSelected Deno will be consider for performance calculation. \rDeno: 398_399_448\rUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 60 incentives per HIT (Distributor wise HIT Target will be share by B2C).\rUpon achieving 90% to 99% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 50 incentives per HIT (Distributor wise HIT Target will be share by B2C).\rMore than 6 Hits by any retailers in a single day will be discarded from achievement.\rIncentives capped upto 150% achievement.\rAgent list of 21st Jan‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rExample:\r\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007DD Code\r\u0007Target HIT\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r15th Dec‚Äô24\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Delower Hossen ROBIN\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "-- STEP 1: VERIFY SUPPORTING DATA\n--# THIS TABLE IS ALREADY EXISTING, NO NEED TO CREATE FURTHER --#\n--drop table TEMP_FOR_DD_FCS_TAR_15_21JAN25 purge;\nSELECT * FROM TEMP_FOR_DD_FCS_TAR_15_21JAN25;-- 74  Rows\nSELECT DD_CODE, COUNT(DD_CODE) FROM TEMP_FOR_DD_FCS_TAR_15_21JAN25 GROUP BY DD_CODE HAVING COUNT(DD_CODE)>1;-- 68  Rows #VERIFY THE DUPLICATE DATA#\n--SELECT * FROM TEMP_FOR_DD_FCS_TAR_15_21JAN25 t where t.PARTICIPATION_TARGET <=0;--0 ROW\nupdate TEMP_FOR_DD_FCS_TAR_15_21JAN25 set DD_CODE = trim(DD_CODE);\ncommit;\n\n------------------AGENT LIST--------------------\n-- STEP 2: CREATING THE AGENT LIST \n-- drop table TEMP_FOR_DDAGENT_15_21JAN25 purge;\n--CREATE TABLE TEMP_FOR_DDAGENT_15_21JAN25 AS\nSELECT /*+ parallel(10) */ DISTINCT\n    TAR.DD_CODE,\n    MAPING.RET_CODE,\n    MAPING.RET_MOBILE,\n    TAR.TARGET\nFROM DD_RSO_RET_MAPPING_DAILY MAPING\nINNER JOIN TEMP_FOR_DD_FCS_TAR_15_21JAN25 TAR ON MAPING.DD_CODE=TAR.DD_CODE\nWHERE DATA_DATE='21-JAN-25'; -- 148491  Rows --#HERE DATA DATE WILL BE THE LAST DATE OF THE CAMPAIGN PERIOD --#\nSELECT * FROM TEMP_FOR_DDAGENT_15_21JAN25;-- 130150  Rows --#THIS IS THE CREATED AGENT LIST TABLE--#\n--1915273989  87                          \n-------------------------------HELPER QUERY------------------------------------\n-- STEP 3: COMMISSION QUERY START \n--drop table TEMP_FOR_DD_FCS_DET_15_21JAN25 purge;\nCREATE TABLE TEMP_FOR_DD_FCS_DET_15_21JAN25 AS\nWITH RSO_WISE_ACHIEVEMENT AS (\n    SELECT DD_CODE,RET_MOBILE,AG.TARGET,TOP_UP_DATE,\n    CASE WHEN COUNT(RECHARGE.RECHARGE_AMOUNT) >=6 THEN 6 ELSE COUNT(RECHARGE.RECHARGE_AMOUNT) END AS ACH --# HERE THE LOGIC FOR More than 6 Hits by any retailers in a single day will be discarded from achievement#\n    FROM EV_RECHARGE_COM_DAILY RECHARGE\n    INNER JOIN TEMP_FOR_DDAGENT_15_21JAN25 AG \n        ON AG.RET_MOBILE = RECHARGE.RETAILER_MSISDN\n    WHERE RECHARGE.TOP_UP_DATE BETWEEN '15-JAN-25' AND '21-JAN-25' \n        AND RECHARGE.RECHARGE_AMOUNT IN (398,399,448) --# THIS LOGIC IS FOR Deno: 398,399,448 GIVEN CONDITION AND TOP_UP_DATE WILL BE Effective Date--#\n    GROUP BY DD_CODE,AG.TARGET,RET_MOBILE,TOP_UP_DATE\n)\n--SELECT * FROM RSO_WISE_ACHIEVEMENT; -- 25173  Rows\n-- STEP 4: CALCULATING ACHIEVMENT\n,DD_WISE_ACH AS (\nSELECT DD_CODE, TARGET,SUM(ACH) ACH\nFROM RSO_WISE_ACHIEVEMENT\nGROUP BY DD_CODE, TARGET\n)\n--SELECT * FROM DD_WISE_ACH;\n-- STEP 5: CALCULATING ACHIEVMENT PERCENTAGE\n,RSO_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,ROUND((ACH/TARGET)*100) ACH_PER\nFROM DD_WISE_ACH ACHIEVEMENT\n)\n--SELECT * FROM RSO_WISE_PERCENTAGE;-- 68  Rows\n-- STEP 6: CALCULATING COMMISSION AMOUNT\n,CALCULATE_COMMISSION AS (\n    SELECT DD_CODE,TARGET,ACH,ACH_PER, \n    CASE\n        WHEN ACH_PER >= 150  THEN ((TARGET * 1.5) * 60) --#Incentives capped upto 150% achievement.#\n        WHEN ACH_PER >= 100 THEN (ACH * 60) --# Upon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 60 incentives per HIT#\n        WHEN ACH_PER >= 90 THEN ACH * 50--# Upon achieving 90% to 99% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 50 incentives per HIT#\n        ELSE 0\n    END COMMISSION\n    FROM RSO_WISE_PERCENTAGE\n)\nSELECT * FROM CALCULATE_COMMISSION;-- 111  Rows --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_FCS_DET_15_21JAN25) --#\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;-- 802080 TAKA\n\n-- STEP 6: CHECKING THE CRATED TABLE DATA\nSELECT * FROM TEMP_FOR_DD_FCS_DET_15_21JAN25; --73  Rows\n\n---------------------MSISDN DETAIL---------------------------\n--STEP 7: CREATING 2ND DETAIL TABLE\n--DROP TABLE TEMP_FOR_DD_FCS_DET2_15_21JAN25 PURGE;\nCREATE TABLE TEMP_FOR_DD_FCS_DET2_15_21JAN25 AS --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_FCS_DET2_15_21JAN25) --#\n SELECT DD_CODE,AG.RET_CODE, RET_MOBILE,RECHARGE.SUB_MSISDN CUSTOMER_MSISDN,RECHARGE.RECHARGE_AMOUNT\n    FROM TEMP_FOR_DD_EV_DET_15_21_JAN25 RECHARGE\n    INNER JOIN TEMP_FOR_DDAGENT_15_21JAN25 AG \n    ON AG.RET_MOBILE=RECHARGE.RETAILER_MSISDN\n    WHERE (RECHARGE.TOP_UP_DATE  BETWEEN '15-JAN-25' AND '21-JAN-25') AND RECHARGE.RECHARGE_AMOUNT IN (398,399,448);-- 30395  Rows --# THIS LOGIC IS FOR Deno: 398,399,448 GIVEN CONDITION AND TOP_UP_DATE WILL BE Effective Date--#\n    \nSELECT * FROM TEMP_FOR_DD_FCS_DET2_15_21JAN25;-- 30395  Rows\n    \n------------------SETUP----------------\n--STEP 8: PREPARE FOR REPORT PUBLISHING\n--REPORT_ID : 7407 (UPDATE WITH ACTUAL REPORT ID)\n-- 7407 9574 61435\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Deno Campaign_East Cluster_SYL_15th to 21st Jan25';\n-- BASE_CYCLE_ID : 9574  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Jan_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jan_25'; --base month\n-- REPORT_CYCLE_ID : 61435 (UPDATE WITH ACTUAL REPORT CYCLE ID) \nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7407 and  CYCLEID = 9574;--61435\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 61435;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 61435;\n--commit;\n\n--STEP 9: INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 61435 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_DD_FCS_DET_15_21JAN25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 61435; -- 0 TAKA\n \n --PUBLISH_CYCLE_ID : 9574  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jan_25 if today = 31-Jan-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jan_25'; --Publish month -- 9574\n\n--STEP 10: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\n--EXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Deno Campaign_East Cluster_SYL_15th to 21st Jan25',9574,'TEMP_FOR_DD_FCS_DET_15_21JAN25','SUMMERY DETAIL','TEMP_FOR_DD_FCS_DET2_15_21JAN25','MSISDN DETAIL'); \n--STEP 11: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\n--EXEC FINALIZE_REPORT_ADHOC('Distributor Deno Campaign_East Cluster_SYL_15th to 21st Jan25', 61435,'Jan_25', 'Jan_25',290, 1);\n\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Md. Nazmul Islam\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 1-Aug-2024\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily\t           ( Weekly\t ( Monthly (( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid         ( Postpaid            ( ( Others: Deno Recharge\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor       ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Deno Portfolio Campaign_1st to 8th Aug24\r\u0007\r\u0007Report Description: DD will be given incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 1-Aug-2024        ( End Date: 8-Aug-2024\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDeno Recharge\rDeno Recharge\rDD will be given Deno Recharge targets. (Target will be provided by B2C)\rSelected Deno will be consider for performance calculation. \rDeno: 199_229_249_299_399_499_599_699_799_899\rUpon achieving Deno Recharge target (Cumulative of DENO), Distributor will be given incentives (DD wise Deno Recharge Target and incentives amount will be share by B2C).\rCluster top DH will get incentive of tk 15000, instead of their eligible incentive slab\rAgent list of 8th Aug‚Äô24 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\r\u0001\r\rDetails Format:\rDD Code\r\u0007Region\r\u0007Cluster\r\u0007DD HIT Target\r\u0007DD HIT Achievement\r\u0007% DD HIT Achievement\r\u0007Ranking\r\u0007Highest eligible commission amount\r\u0007Commission Amount\r\u0007Cluster Top (Y/N)\r\u0007Cluster Top Commission Amount\r\u0007\r\u0007\r\u0007\rDeno Recharge Date\r\u0007Cluster\r\u0007Region\r\u0007DD Code\r\u0007RSO Code\r\u0007RSO MSISDN\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007Deno Recharge Amount\r\u0007\r\u0007\r\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r9th Aug‚Äô24\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Md. Nazmul Islam <mnazmulislam@banglalink.net>\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "-------------------------------HELPER QUERY------------------------------------\n-- STEP 1: VERIFY SUPPORTING DATA\n--# THIS TABLE IS ALREADY EXISTING, NO NEED TO CREATE FURTHER --#\nselect * from TEMP_FOR_DENO_POR_TAR_8AUG24;\nSELECT DISTINCT CATEGORY, INCENTIVE  FROM TEMP_FOR_DENO_POR_TAR_8AUG24;--375  Rows\nupdate TEMP_FOR_DENO_POR_TAR_8AUG24 set DD_CODE = trim(DD_CODE),RECHARGE_RECHARGE_TARGET = ROUND(RECHARGE_RECHARGE_TARGET);\ncommit;\n\n-- STEP 2: CREATING THE AGENT LIST \n--DROP TABLE TEMP_FOR_AG_LIST_MAP_1_8AUG24 PURGE;\n--CREATE TABLE TEMP_FOR_AG_LIST_MAP_1_8AUG24 AS\nSELECT TAR.*,AG.RETAILER_CODE, AG.TOPUP_MSISDN RET_MSISDN FROM \nTEMP_FOR_DENO_POR_TAR_8AUG24 TAR \nINNER JOIN AGENT_LIST_DAILY AG ON AG.DIST_CODE=TAR.DD_CODE AND AG.DATA_DATE = '8-AUG-24';--563192  Rows --#HERE DATA DATE WILL BE THE LAST DATE OF THE CAMPAIGN PERIOD --#\n\nSELECT * FROM TEMP_FOR_AG_LIST_MAP_1_8AUG24;-- 563192  Rows --#THIS IS THE CREATED AGENT LIST TABLE--#\n\n-- STEP 3: COMMISSION QUERY START\n--DROP TABLE TEMP_FOR_DD_DENO_DET1_1_8AUG24 PURGE;\n--CREATE TABLE TEMP_FOR_DD_DENO_DET1_1_8AUG24 AS --#THIS THE 1ST DETAIL FOR THIS COMMISSION WHERE COMMISSION AMOUNT IN CALCULATED\nWITH RSO_WISE_ACHIEVEMENT AS ( \n    SELECT CLUSTER_NAME,REGION,AG.DD_CODE,CATEGORY,AG.RECHARGE_TARGET,SUM(RECHARGE_AMOUNT) TOTAL_RECHARGE,INCENTIVE\n    FROM TEMP_FOR_AG_LIST_MAP_1_8AUG24 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '1-AUG-24' AND '8-AUG-24') \n    AND EV.RECHARGE_AMOUNT IN (199,229,249,299,399,499,599,699,799,899)--# THIS LOGIC IS FOR Deno: 199,229,249,299,399,499,599,699,799,899 GIVEN CONDITION AND TOP_UP_DATE WILL BE Effective Date--#\n    GROUP BY AG.DD_CODE,  AG.RECHARGE_TARGET,REGION,CLUSTER_NAME, CATEGORY, INCENTIVE\n)\n--SELECT * FROM RSO_WISE_ACHIEVEMENT;--374  Rows\n-- STEP 4: CALCULATING ACHIEVMENT PERCENTAGE\n,RET_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,ROUND((TOTAL_RECHARGE/RECHARGE_TARGET)*100) ACH_PER\nFROM RSO_WISE_ACHIEVEMENT ACHIEVEMENT\n)\n--SELECT * FROM RET_WISE_PERCENTAGE;--374  Rows\n-- STEP 5: CALCULATING CLUSTER WISE RANKING\n,CLUSTER_WISE_RNK AS (\nSELECT ACHIEVEMENT.*,RANK() OVER (PARTITION BY CLUSTER_NAME ORDER BY TOTAL_RECHARGE DESC) AS RANK\nFROM RET_WISE_PERCENTAGE ACHIEVEMENT\n)\n--SELECT * FROM CLUSTER_WISE_RNK; \n-- STEP 5: CALCULATING COMMISSION AMOUNT\n,CALCULATE_COMMISSION AS (\n    SELECT CLUSTER_NAME, REGION, DD_CODE, CATEGORY, RECHARGE_TARGET, TOTAL_RECHARGE, INCENTIVE, ACH_PER, RANK,\n    CASE\n        WHEN  ACH_PER >= 100 AND RANK = 1 THEN 15000--#Cluster top DH will get incentive of tk 15000#\n        WHEN  ACH_PER >= 100 AND CATEGORY = 'D' THEN 12000--# SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        WHEN  ACH_PER >= 100 AND CATEGORY = 'C' THEN 10000--# SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        WHEN  ACH_PER >= 100 AND CATEGORY = 'B' THEN 8000--# SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        WHEN  ACH_PER >= 100 AND CATEGORY = 'A' THEN 5000--# SLAB WISE INCENTIVE ARE GIVEN HERE --#\n        ELSE 0\n    END COMMISSION\n    FROM CLUSTER_WISE_RNK \n)\nSELECT * FROM CALCULATE_COMMISSION;--374  Rows--# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_DENO_DET1_1_8AUG24) --#\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;--806000 TAKA\n\n-- STEP 6: CHECKING THE CRATED TABLE DATA\nSELECT * FROM TEMP_FOR_DD_DENO_DET1_1_8AUG24;--372  Rows\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_DENO_DET1_1_8AUG24;--806000             1491950 TK\n\n-------------------SETUP--------------\n--STEP 7: PREPARE FOR REPORT PUBLISHING\n\n--REPORT_ID : 6696 (UPDATE WITH ACTUAL REPORT ID) \n-- 6696 9114 55633\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Deno Portfolio Campaign_1st to 8th Aug24';\n-- BASE_CYCLE_ID : 9114  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Aug_24) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Aug_24'; --base month\n-- REPORT_CYCLE_ID : 55633 (UPDATE WITH ACTUAL REPORT CYCLE ID) \nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 6696 and  CYCLEID = 9114;--55633\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 55633;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 55633;\n--commit;\n\n--STEP 8:INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 55633 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_DD_DENO_DET1_1_8AUG24\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 55633; -- 806000 TAKA\n\n--PUBLISH_CYCLE_ID : 9114  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Aug_24'; --base month 9114\n\n--STEP 9: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\nEXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Deno Portfolio Campaign_1st to 8th Aug24',9114,'TEMP_FOR_DD_DENO_DET1_1_8AUG24','SUMMARY DETAILS');\n\n --STEP 10: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Distributor Deno Portfolio Campaign_1st to 8th Aug24', 55633,'Aug_24', 'Aug_24',290, 1);\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Delower Hossen ROBIN\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 10-Feb-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno HIT\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Deno_East Cluster_BDT_397_399_448_548_549_10th to 15th Feb25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 10-Feb-2025        ( End Date: 15-Feb-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno HIT\rDeno HIT\rDistributor will be given Deno HIT target. (Target will be provided by B2C)\rSelected Deno will be consider for performance calculation. \rDeno: 397_399, 448, 548, 549\r397, 448, 548 & 549 Deno for Brahmanbaria Region\r397, 399, 448 & 548 Deno for Cumilla, Chittagong South & Chittagong North\r\rUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 50 incentives per HIT (Distributor wise HIT Target will be share by B2C).\r\rUpon achieving 90% to 99% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 40 incentives per HIT (Distributor wise HIT Target will be share by B2C).\r\rAgent list of 15th Feb‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rExample:\r\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007DD Code\r\u0007Target HIT\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r15th Dec‚Äô24\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Delower Hossen ROBIN\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "-- STEP 1: CREATING COMMISSION TARGET TABLE\n--#HERE TARGET TABLE FOR THE COMMISSION WILL BE CREATED--#\nCREATE TABLE EAST_10_TO_15TH_FEB25_62157 AS\nselect CHANNEL_CODE DD_CODE, TARGET from COM_KPI_CONDITION_TARGET \nWHERE REPORTCYCLE_ID = (SELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS \nwhere REPORTID = (SELECT REPORTID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Deno_East Cluster_BDT_397_399_448_548_549_10th to 15th Feb25') and--#HERE REPORT NAME WILL BE COMMISSOIN REPORT WISE --#  \nCYCLEID = (SELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Feb_25')); --#HERE CYCLEDESCRIPTION WILL BE THE BASE MONTH --#\n\nSELECT * FROM EAST_10_TO_15TH_FEB25_62157;-- 135  Rows --# THIS IS THE CREATED TARGET TABLE --#\nSELECT DD_CODE, COUNT(DD_CODE) FROM EAST_10_TO_15TH_FEB25_62157 GROUP BY DD_CODE HAVING COUNT(DD_CODE)>1;-- 0  Rows\n--SELECT * FROM EAST_10_TO_15TH_FEB25_62157 t where t.PARTICIPATION_TARGET <=0;--0 ROW\n--update EAST_10_TO_15TH_FEB25_62157 set DD_CODE = trim(DD_CODE),TARGET = round(TARGET);\n--commit;\n\n\nselect * from DD_RSO_RET_MAPPING_DAILY;\n------------------AGENT LIST--------------------\n-- STEP 2: CREATING THE AGENT LIST \n-- drop table TEMP_FOR_DDAGENT_NE_15_FEB25 purge;\nCREATE TABLE TEMP_FOR_DDAGENT_NE_15_FEB25 AS\nSELECT /*+ parallel(10) */ DISTINCT\n    TAR.REGION,TAR.DD_CODE,MAPING.RET_CODE,MAPING.RET_MOBILE,TAR.TARGET\nFROM DD_RSO_RET_MAPPING_DAILY MAPING\nINNER JOIN EAST_10_TO_15TH_FEB25_62157 TAR ON MAPING.DD_CODE=TAR.DD_CODE\nWHERE DATA_DATE='15-FEB-25'; --#HERE DATA DATE WILL BE THE LAST DATE OF THE CAMPAIGN PERIOD --#\nSELECT * FROM TEMP_FOR_DDAGENT_NE_15_FEB25;-- 107016  Rows --#THIS IS THE CREATED AGENT LIST TABLE--#\n--1915273989  87                          \n-------------------------------HELPER QUERY------------------------------------\n-- STEP 3: COMMISSION QUERY START\n--drop table TEMP_FOR_DD_FCS_DET_NE_10_15FEB25 purge;\nCREATE TABLE TEMP_FOR_DD_FCS_DET_NE_10_15FEB25 AS --#THIS THE 1ST DETAIL FOR THIS COMMISSION WHERE COMMISSION AMOUNT IN CALCULATED\nWITH DD_WISE_ACHIEVEMENT AS (\n    SELECT REGION,DD_CODE,RET_MOBILE,AG.TARGET,COUNT(RECHARGE.RECHARGE_AMOUNT) ACH\n    FROM EV_RECHARGE_COM_DAILY RECHARGE\n    INNER JOIN TEMP_FOR_DDAGENT_NE_15_FEB25 AG \n        ON AG.RET_MOBILE = RECHARGE.RETAILER_MSISDN\n    WHERE RECHARGE.TOP_UP_DATE BETWEEN '10-FEB-25' AND '15-FEB-25' --# TOP_UP_DATE WILL BE Effective Date--#\n        AND (RECHARGE.RECHARGE_AMOUNT IN ( 397,448,548,549 ) AND AG.REGION IN ('Brahmanbaria')) OR --#Deno: 397, 448, 548 & 549  for Brahmanbaria Region#\n(RECHARGE.RECHARGE_AMOUNT IN (397,399,448,548 ) AND AG.REGION IN ('Cumilla', 'Chittagong South' ,'Chittagong North'))--#Deno: 397, 399, 448 & 548 for Cumilla, Chittagong South & Chittagong North#\n    GROUP BY REGION,DD_CODE,AG.TARGET,RET_MOBILE\n)\n--SELECT * FROM DD_WISE_ACHIEVEMENT; -- 6350  Rows\n-- STEP 4: CALCULATING ACHIEVMENT\n,DD_WISE_ACH AS (\nSELECT DD_CODE, TARGET,SUM(ACH) ACH\nFROM DD_WISE_ACHIEVEMENT\nGROUP BY DD_CODE, TARGET\n)\n--SELECT * FROM DD_WISE_ACH; -- 57  Rows\n-- STEP 5: CALCULATING ACHIEVMENT PERCENTAGE\n,DD_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,ROUND((ACH/TARGET)*100) ACH_PER\nFROM DD_WISE_ACH ACHIEVEMENT\n)\n--SELECT * FROM DD_WISE_PERCENTAGE;-- 57  Rows\n,CALCULATE_COMMISSION AS (\n    SELECT DD_CODE,TARGET,ACH,ACH_PER, \n    CASE\n        WHEN ACH_PER >= 100 THEN ACH * 50--#Upon achieving Deno HIT target, Distributor will be given BDT 50 incentives per HIT #\n        WHEN ACH_PER >= 90 THEN ACH * 40--#Upon achieving 90% to 99% Deno HIT target, Distributor will be given BDT 40 incentives per HIT #\n        ELSE 0\n    END COMMISSION\n    FROM DD_WISE_PERCENTAGE\n)\nSELECT * FROM CALCULATE_COMMISSION;-- 57  Rows --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_FCS_DET_NE_10_15FEB25) --#\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;-- 738020 TAKA\n\n-- STEP 6: CHECKING THE CRATED TABLE DATA\nSELECT * FROM TEMP_FOR_DD_FCS_DET_NE_10_15FEB25; -- 57  Rows\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_FCS_DET_NE_10_15FEB25;-- 738020 TK\n\n---------------------MSISDN DETAIL---------------------------\n--STEP 7: CREATING 2ND DETAIL TABLE\n--DROP TABLE TEMP_FOR_DD_FCS_DET2_NE_10_15FEB25 PURGE;\nCREATE TABLE TEMP_FOR_DD_FCS_DET2_NE_10_15FEB25 AS\n SELECT DD_CODE,AG.RET_CODE, RET_MOBILE,RECHARGE.SUB_MSISDN CUSTOMER_MSISDN,RECHARGE.RECHARGE_AMOUNT\n    FROM TEMP_FOR_DD_EV_DET_NE_10_15FEB25 RECHARGE\n    INNER JOIN TEMP_FOR_DDAGENT_NE_15_FEB25 AG \n    ON AG.RET_MOBILE=RECHARGE.RETAILER_MSISDN\n    WHERE (RECHARGE.TOP_UP_DATE  BETWEEN '10-FEB-25' AND '15-FEB-25')\n    AND (RECHARGE.RECHARGE_AMOUNT IN ( 397,448,548,549 ) AND AG.REGION IN ('Brahmanbaria')) OR \n(RECHARGE.RECHARGE_AMOUNT IN (397,399,448,548 ) AND AG.REGION IN ('Cumilla', 'Chittagong South' ,'Chittagong North')) ;-- 32613  Rows\n    \nSELECT * FROM TEMP_FOR_DD_FCS_DET2_NE_10_15FEB25;-- 15105  Rows --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_HIT_DET2_31MAY25) --#\n    \n-----------------------SETUP---------------------\n--STEP 8: PREPARE FOR REPORT PUBLISHING\n\n--REPORT_ID : 7546 (UPDATE WITH ACTUAL REPORT ID)\n-- 7546 9674 62157\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Deno_East Cluster_BDT_397_399_448_548_549_10th to 15th Feb25';\n-- BASE_CYCLE_ID : 9674  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Feb_25'; --base month\n-- REPORT_CYCLE_ID : 62157 (UPDATE WITH ACTUAL REPORT CYCLE ID) \nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7546 and  CYCLEID = 9674;--62157\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 62157;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 62157;\n--commit;\n\n--STEP 9: INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 62157 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_DD_FCS_DET_NE_10_15FEB25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 62157; -- 738020 TAKA\n \n --PUBLISH_CYCLE_ID : 9674  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Feb_25'; --Publish month -- 9674\n\n--STEP 10: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\n--EXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Deno_East Cluster_BDT_397_399_448_548_549_10th to 15th Feb25',9674,'TEMP_FOR_DD_FCS_DET_NE_10_15FEB25','SUMMERY DETAIL','TEMP_FOR_DD_FCS_DET2_NE_10_15FEB25','MSISDN DETAIL');\n \n--STEP 11: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\n--EXEC FINALIZE_REPORT_ADHOC('Distributor Deno_East Cluster_BDT_397_399_448_548_549_10th to 15th Feb25', 62157,'Feb_25', 'Feb_25',290, 1);\n\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Delower Hossen ROBIN\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 30-Jan-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno HIT\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Deno_North East_East_Cluster_BDT_399_348_448_548_549_1st to 8th Feb25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 1-Feb-2025        ( End Date: 8-Feb-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno HIT\rDeno HIT\rDistributor will be given Deno HIT target. (Target will be provided by B2C)\rSelected Deno will be consider for performance calculation. \rDeno: 399, 348, 448, 548, 549\r399, 448 & 548 Deno for Sylhet Region\r498, 548 & 549 Deno for Gazipur, Tangail & Mymensingh Region\r397, 448, 548 & 549 Deno for Brahmanbaria Region\r397, 399, 448 & 548 Deno for Cumilla, Chittagong South & Chittagong North\r\rUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 60 incentives per HIT (Distributor wise HIT Target will be share by B2C).\r\rUpon achieving 90% to 99% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 50 incentives per HIT (Distributor wise HIT Target will be share by B2C).\r\rAgent list of 8th Feb‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rExample:\r\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007DD Code\r\u0007Target HIT\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r15th Dec‚Äô24\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Delower Hossen ROBIN\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "-- STEP 1: VERIFY SUPPORTING DATA\n--# THIS TABLE IS ALREADY EXISTING, NO NEED TO CREATE FURTHER --#\nSELECT * FROM TEMP_FOR_DD_FCS_TAR_1_8FEB25;-- 135  Rows\nSELECT DD_CODE, COUNT(DD_CODE) FROM TEMP_FOR_DD_FCS_TAR_1_8FEB25 GROUP BY DD_CODE HAVING COUNT(DD_CODE)>1;-- 0  Rows\n\nselect * from DD_RSO_RET_MAPPING_DAILY;\n------------------AGENT LIST--------------------\n-- STEP 2: CREATING THE AGENT LIST \n-- drop table TEMP_FOR_DDAGENT_NE_8_FEB25 purge;\n--CREATE TABLE TEMP_FOR_DDAGENT_NE_8_FEB25 AS\nSELECT /*+ parallel(10) */ DISTINCT\n    TAR.REGION,\n    TAR.DD_CODE,\n    MAPING.RET_CODE,\n    MAPING.RET_MOBILE,\n    TAR.TARGET\nFROM DD_RSO_RET_MAPPING_DAILY MAPING\nINNER JOIN TEMP_FOR_DD_FCS_TAR_1_8FEB25 TAR ON MAPING.DD_CODE=TAR.DD_CODE\nWHERE DATA_DATE='8-FEB-25';--#HERE DATA DATE WILL BE THE LAST DATE OF THE CAMPAIGN PERIOD --#\nSELECT * FROM TEMP_FOR_DDAGENT_NE_8_FEB25;-- 228868  Rows --#THIS IS THE CREATED AGENT LIST TABLE--#\n--1915273989  87                          \n-------------------------------HELPER QUERY------------------------------------\n-- STEP 3: COMMISSION QUERY START \n--drop table TEMP_FOR_DD_FCS_DET_NE_1_8FEB25 purge;\n--CREATE TABLE TEMP_FOR_DD_FCS_DET_NE_1_8FEB25 AS --#THIS THE 1ST DETAIL FOR THIS COMMISSION WHERE COMMISSION AMOUNT IN CALCULATED\nWITH DD_WISE_ACHIEVEMENT AS (\n    SELECT DD_CODE,RET_MOBILE,AG.TARGET,COUNT(RECHARGE.RECHARGE_AMOUNT) ACH\n    FROM EV_RECHARGE_COM_DAILY RECHARGE\n    INNER JOIN TEMP_FOR_DDAGENT_NE_8_FEB25 AG \n        ON AG.RET_MOBILE = RECHARGE.RETAILER_MSISDN\n    WHERE RECHARGE.TOP_UP_DATE BETWEEN '1-FEB-25' AND '8-FEB-25'--#TOP_UP_DATE WILL BE Effective Date#\n        AND (RECHARGE.RECHARGE_AMOUNT IN (399,448,548) AND AG.REGION IN ('Sylhet')) OR --#Deno:399, 448 & 548 for Sylhet Region#\n(RECHARGE.RECHARGE_AMOUNT IN (498,548,549) AND AG.REGION IN ('Gazipur', 'Tangail', 'Mymensingh')) OR--#Deno:498, 548 & 549 for Gazipur, Tangail & Mymensingh Region#\n(RECHARGE.RECHARGE_AMOUNT IN (397,448,548,549) AND AG.REGION IN ('Brahmanbaria')) OR--#Deno:397, 448, 548 & 549 for Brahmanbaria Region#\n(RECHARGE.RECHARGE_AMOUNT IN (397,399,448,548) AND AG.REGION IN ('Cumilla', 'Chittagong South', 'Chittagong North'))--#Deno:397, 399, 448 & 548 for Cumilla, Chittagong South & Chittagong North#\n    GROUP BY DD_CODE,AG.TARGET,RET_MOBILE\n)\n--SELECT * FROM DD_WISE_ACHIEVEMENT; -- 16254  Rows\n-- STEP 4: CALCULATING ACHIEVMENT\n,DD_WISE_ACH AS (\nSELECT DD_CODE, TARGET,SUM(ACH) ACH\nFROM DD_WISE_ACHIEVEMENT\nGROUP BY DD_CODE, TARGET\n)\n--SELECT * FROM DD_WISE_ACH; -- 130  Rows\n-- STEP 5: CALCULATING ACHIEVMENT PERCENTAGE\n,DD_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,ROUND((ACH/TARGET)*100) ACH_PER\nFROM DD_WISE_ACH ACHIEVEMENT\n)\n--SELECT * FROM DD_WISE_PERCENTAGE;-- 130  Rows\n-- STEP 6: CALCULATING COMMISSION AMOUNT\n,CALCULATE_COMMISSION AS (\n    SELECT DD_CODE,TARGET,ACH,ACH_PER, \n    CASE\n        WHEN ACH_PER >= 100 THEN ACH * 60--#Upon achieving Deno HIT target, Distributor will be given BDT 60 incentives per HIT #\n        WHEN ACH_PER >= 90 THEN ACH * 50--#Upon achieving 90% to 99% Deno HIT target, Distributor will be given BDT 50 incentives per HIT #\n        ELSE 0\n    END COMMISSION\n    FROM DD_WISE_PERCENTAGE\n)\nSELECT * FROM CALCULATE_COMMISSION;-- 130  Rows--# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_FCS_DET_NE_1_8FEB25) --#\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;-- 1423780 TAKA\n\n-- STEP 7: CHECKING THE CRATED TABLE DATA\nSELECT * FROM TEMP_FOR_DD_FCS_DET_NE_1_8FEB25; -- 130  Rows\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_FCS_DET_NE_1_8FEB25;-- 1423780 TK\n---------------------MSISDN DETAIL---------------------------\n--STEP 8: CREATING 2ND DETAIL TABLE\n--DROP TABLE TEMP_FOR_DD_FCS_DET2_NE_1_8FEB25 PURGE;\n--CREATE TABLE TEMP_FOR_DD_FCS_DET2_NE_1_8FEB25 AS\n SELECT DD_CODE,AG.RET_CODE, RET_MOBILE,RECHARGE.SUB_MSISDN CUSTOMER_MSISDN,RECHARGE.RECHARGE_AMOUNT\n    FROM TEMP_FOR_DD_EV_DET_NE_1_8FEB25 RECHARGE\n    INNER JOIN TEMP_FOR_DDAGENT_NE_8_FEB25 AG \n    ON AG.RET_MOBILE=RECHARGE.RETAILER_MSISDN\n    WHERE (RECHARGE.TOP_UP_DATE  BETWEEN '1-FEB-25' AND '8-FEB-25') AND (RECHARGE.RECHARGE_AMOUNT IN (399,448,548) AND AG.REGION IN ('Sylhet')) OR \n(RECHARGE.RECHARGE_AMOUNT IN (498,548,549) AND AG.REGION IN ('Gazipur', 'Tangail', 'Mymensingh')) OR\n(RECHARGE.RECHARGE_AMOUNT IN (397,448,548,549) AND AG.REGION IN ('Brahmanbaria')) OR\n(RECHARGE.RECHARGE_AMOUNT IN (397,399,448,548) AND AG.REGION IN ('Cumilla', 'Chittagong South', 'Chittagong North'));-- 32613  Rows\n    \nSELECT * FROM TEMP_FOR_DD_FCS_DET2_NE_1_8FEB25;-- 32613  Rows --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_FCS_DET2_NE_1_8FEB25) --#\n    \n----------------------SETUP-------------------\n--STEP 9: PREPARE FOR REPORT PUBLISHING\n\n--REPORT_ID : 7512 (UPDATE WITH ACTUAL REPORT ID) \n-- 7512 9674 61916\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Deno_North East_East_Cluster_BDT_399_348_448_548_549_1st to 8th Feb25';\n-- BASE_CYCLE_ID : 9674  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Feb_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Feb_25'; --base month\n-- REPORT_CYCLE_ID : 61916 (UPDATE WITH ACTUAL REPORT CYCLE ID)\nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7512 and  CYCLEID = 9674;--61916\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 61916;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 61916;\n--commit;\n\n--STEP 10:INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 61916 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_DD_FCS_DET_NE_1_8FEB25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 61916; -- 1423780 TAKA\n\n--PUBLISH_CYCLE_ID : 9674  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month--#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Feb_25'; --Publish month -- 9674\n\n--STEP 11: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\n--EXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Deno_North East_East_Cluster_BDT_399_348_448_548_549_1st to 8th Feb25',9674,'TEMP_FOR_DD_FCS_DET_NE_1_8FEB25','SUMMERY DETAIL','TEMP_FOR_DD_FCS_DET2_NE_1_8FEB25','MSISDN DETAIL');\n\n--STEP 12: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\n--EXEC FINALIZE_REPORT_ADHOC('Distributor Deno_North East_East_Cluster_BDT_399_348_448_548_549_1st to 8th Feb25', 61916,'Feb_25', 'Feb_25',290, 1);\n\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Md. Nazmul Islam\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 23-Jan-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno HIT\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Dhamaka Campaign_SYL_23rd to 31st Jan25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 23-Jan-2025        ( End Date: 31-Jan-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno HIT\rDeno HIT\rDistributor will be given Deno HIT target. (Target will be provided by B2C)\rSelected Deno will be consider for performance calculation. \rDeno: 169_348_399        \r\rUpon achieving 100% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 50 incentives per HIT for Deno 348_399 and BDT 20 incentives PER HIT for Deno 169 (Distributor wise HIT Target will be share by B2C).\r\rUpon achieving 90%-99% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 40 incentives per HIT for Deno 348_399 and BDT 15 incentives PER HIT for Deno 169 (Distributor wise HIT Target will be share by B2C).\r\rIncentives in capped upto 130%.\r\rAgent list of 31st Jan‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rExample:\r\r\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007DD Code\r\u0007Target HIT\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r15th Dec‚Äô24\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Md. Nazmul Islam\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "\n-- STEP 1: CREATING COMMISSION TARGET TABLE\n--#HERE TARGET TABLE FOR THE COMMISSION WILL BE CREATED--#\nCREATE TABLE TEMP_FOR_DENO_SYL_CAMP_TAR_23_31_JAN25 AS\nselect CHANNEL_CODE DD_CODE, TARGET from COM_KPI_CONDITION_TARGET \nWHERE REPORTCYCLE_ID = (SELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS \nwhere REPORTID = (SELECT REPORTID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Dhamaka Campaign_SYL_23rd to 31st Jan25') and   --#HERE REPORT NAME WILL BE COMMISSOIN REPORT WISE --#\nCYCLEID = (SELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jan_25'));--109  Rows  --#HERE CYCLEDESCRIPTION WILL BE THE BASE MONTH --#\n\nselect * from TEMP_FOR_DENO_SYL_CAMP_TAR_23_31_JAN25; --# THIS IS THE CREATED TARGET TABLE --#\n------------------AGENT LIST--------------------\n-- STEP 2: CREATING THE AGENT LIST \n-- drop table TEMP_FOR_AG_LIST_MAP_31_JAN25 purge;\nCREATE TABLE TEMP_FOR_AG_LIST_MAP_31_JAN25 AS\nSELECT /*+ parallel(10) */ DISTINCT\n    TAR.DD_CODE,\n    MAPING.RET_CODE,\n    MAPING.RET_MOBILE,\n    TAR.TARGET\nFROM DD_RSO_RET_MAPPING_DAILY MAPING\nINNER JOIN TEMP_FOR_DENO_SYL_CAMP_TAR_23_31_JAN25 TAR ON MAPING.DD_CODE=TAR.DD_CODE\nWHERE DATA_DATE='31-JAN-25'; --#HERE DATA DATE WILL BE THE LAST DATE OF THE CAMPAIGN PERIOD --#\nSELECT * FROM TEMP_FOR_AG_LIST_MAP_31_JAN25;-- 23240  Rows\n--1915273989  87                          \n-------------------------------HELPER QUERY------------------------------------\n\n-- STEP 3: COMMISSION QUERY START \n--drop table TEMP_FOR_DD_SYL_DET_23_31JAN25 purge;\n--CREATE TABLE TEMP_FOR_DD_SYL_DET_23_31JAN25 AS --#THIS THE 1ST DETAIL FOR THIS COMMISSION WHERE COMMISSION AMOUNT IN CALCULATED\nWITH DD_WISE_SUMMARY AS (\n    SELECT DD_CODE,AG.TARGET,COUNT(RECHARGE.RECHARGE_AMOUNT) ACH,\n    ROUND(TARGET * 1.3) AS MAX_CAP, --# Incentives in capped upto 130%.#\n    SUM(CASE WHEN RECHARGE.RECHARGE_AMOUNT IN (348,399) THEN 1 ELSE 0 END) AS Ach_348_399,\n        SUM(CASE WHEN RECHARGE.RECHARGE_AMOUNT = 169 THEN 1 ELSE 0 END) AS Ach_169\n    FROM EV_RECHARGE_COM_DAILY RECHARGE\n    INNER JOIN TEMP_FOR_AG_LIST_MAP_31_JAN25 AG \n        ON AG.RET_MOBILE = RECHARGE.RETAILER_MSISDN\n    WHERE RECHARGE.TOP_UP_DATE BETWEEN '23-JAN-25' AND '31-JAN-25'\n        AND RECHARGE.RECHARGE_AMOUNT IN (169,348,399) --# THIS LOGIC IS FOR Deno: 169,348,399 GIVEN CONDITION AND TOP_UP_DATE WILL BE Effective Date--#\n    GROUP BY DD_CODE,AG.TARGET\n)\n--SELECT * FROM DD_WISE_SUMMARY; -- 14  Rows\n-- STEP 4: CALCULATING ACHIEVMENT PERCENTAGE\n,DD_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,ROUND((ACH/TARGET)*100) ACH_PER,\nROUND((Ach_348_399/TARGET)*100) ACH_PER_348_399,\nROUND((Ach_169/TARGET)*100) ACH_PER_169\nFROM DD_WISE_SUMMARY ACHIEVEMENT\n)\n--SELECT * FROM DD_WISE_PERCENTAGE;-- 64  Rows\n-- STEP 5: CALCULATING COMMISSION AMOUNT\n,CALCULATE_COMMISSION AS (\n    SELECT DD_CODE,TARGET,ACH,ACH_PER,Ach_348_399, Ach_169,ACH_PER_348_399,ACH_PER_169,MAX_CAP,\n    CASE\n        WHEN ACH_PER >= 100 and MAX_CAP >= Ach_348_399+Ach_169 THEN (Ach_348_399*50)+(Ach_169*20) --#Upon achieving 100% Deno HIT target, Distributor will be given BDT 50 incentives per HIT for Deno 348_399 and BDT 20 incentives PER HIT for Deno 169 #\n        WHEN ACH_PER >= 100 and MAX_CAP <= Ach_348_399 THEN (MAX_CAP*50)--Upon achieving 100% Deno HIT target, Distributor will be given BDT 50 incentives per HIT for Deno 348_399#\n        WHEN ACH_PER >= 100 and MAX_CAP <= Ach_348_399+Ach_169 THEN (Ach_348_399*50)+((MAX_CAP-Ach_348_399)*20) --#Upon achieving 100% Deno HIT target, Distributor will be given BDT 50 incentives per HIT for Deno 348_399 and BDT 20 incentives PER HIT for Deno 169 #\n        WHEN ACH_PER >= 90 THEN (Ach_348_399*40)+(Ach_169*15)--# \tUpon achieving 90%-99% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 40 incentives per HIT for Deno 348_399 and BDT 15 incentives PER HIT for Deno 169 #\n        ELSE 0\n    END COMMISSION\n    FROM DD_WISE_PERCENTAGE\n)\nSELECT * FROM CALCULATE_COMMISSION;-- 14  Rows --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_SYL_DET_23_31JAN25) --#\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;-- 78000 TAKA\n\n-- STEP 6: CHECKING THE CRATED TABLE DATA\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_SYL_DET_23_31JAN25;--78000 TK\nSELECT * FROM TEMP_FOR_DD_SYL_DET_23_31JAN25; --14  Rows\n\n---------------------MSISDN DETAIL---------------------------\n--STEP 7: CREATING 2ND DETAIL TABLE\n--DROP TABLE TEMP_FOR_DD_SYL_DET2_23_31JAN25 PURGE;\nCREATE TABLE TEMP_FOR_DD_SYL_DET2_23_31JAN25 AS\n SELECT DD_CODE,AG.RET_CODE, RET_MOBILE,RECHARGE.SUB_MSISDN CUSTOMER_MSISDN,RECHARGE.RECHARGE_AMOUNT\n    FROM EV_RECHARGE_COM_DAILY RECHARGE\n    INNER JOIN TEMP_FOR_AG_LIST_MAP_31_JAN25 AG \n    ON AG.RET_MOBILE=RECHARGE.RETAILER_MSISDN\n    WHERE (RECHARGE.TOP_UP_DATE  BETWEEN '23-JAN-25' AND '31-JAN-25') \n    AND RECHARGE.RECHARGE_AMOUNT IN (169,348,399);--# THIS LOGIC IS FOR Deno: 169,348,399 GIVEN CONDITION AND TOP_UP_DATE WILL BE Effective Date--#\n    \nSELECT * FROM TEMP_FOR_DD_SYL_DET2_23_31JAN25;-- 3031  Rows --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_SYL_DET2_23_31JAN25) --#\n    \n-------------------SETUP--------------------\n--STEP 8: PREPARE FOR REPORT PUBLISHING\n\n--REPORT_ID : 7438 (UPDATE WITH ACTUAL REPORT ID)\n-- 7438 9574 61577\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Dhamaka Campaign_GAZ_TAN_MYM_23rd to 31st Jan25';\n-- BASE_CYCLE_ID : 9574  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Jan_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jan_25'; --base month\n-- REPORT_CYCLE_ID : 61577 (UPDATE WITH ACTUAL REPORT CYCLE ID) \nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7438 and  CYCLEID = 9574;--61577\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 61577;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 61577;\n--commit;\n\n--STEP 9:INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 61577 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_DD_FCS_DET_23_31JAN25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 61577; -- 315450 TAKA\n\n--PUBLISH_CYCLE_ID : 9674  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Feb_25'; --Publish month --9674\n\n--STEP 10: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\n--EXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Dhamaka Campaign_GAZ_TAN_MYM_23rd to 31st Jan25',9674,'TEMP_FOR_DD_FCS_DET_23_31JAN25','SUMMERY_DETAIL','TEMP_FOR_DD_FCS_DET2_23_31JAN25','MSISDN_DETAIL');\n\n--STEP 11: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\n--EXEC FINALIZE_REPORT_ADHOC('Distributor Dhamaka Campaign_GAZ_TAN_MYM_23rd to 31st Jan25', 61577,'Jan_25', 'Feb_25',290, 1);\n\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Delower Hossen ROBIN\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 9-Jun-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno HIT\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Sniper Strike_BDT 397_548_549_10th to 15th Jun25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 10-Jun-2025        ( End Date: 15-Jun-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno HIT\rDeno HIT\rDistributor will be given Deno HIT target. (Target will be provided by B2C)\rDeno: 397_548_549\r\r                 \r\r                 For North Cluster, East Cluster, Central Cluster, North East Cluster : \r\rUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 30 incentives per HIT for Deno 548 and 549, and BDT 15 per hit for Deno 397 (Distributor wise HIT Target will be share by B2C).\r\rUpon achieving 90% to 99% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 20 incentives per HIT for Deno 548 and 549, and BDT 10 per hit for Deno 397 (Distributor wise HIT Target will be share by B2C).\r                           Incentive is capping to 200% achievement.\r\rAgent list of 15th Jun‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rExample:\r\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007DD Code\r\u0007Target HIT\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r7th Jun‚Äô25\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Delower Hossen ROBIN\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "--------------------------------- REPORT HELPER QUERY -----------------------------------------\n-- 7451 9574 61612\n\n-- STEP 1: VERIFY SUPPORTING DATA\n--# THIS TARGET TABLE WILL BE CREATED BASED ON COMMISSION NAME AND BASE MONTH --#\n--CREATE TABLE TEMP_FOR_DENO_CAM_TAR_15JUN25 AS\n--select CHANNEL_CODE DD_CODE, TARGET from COM_KPI_CONDITION_TARGET \n--WHERE REPORTCYCLE_ID = (SELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS \n--where REPORTID = (SELECT REPORTID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Sniper Strike_BDT 397_548_549_1st to 6th Jun25') and  \n--CYCLEID = (SELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jun_25'));--341  Rows\n\nSELECT distinct CLUSTER_NAME FROM TEMP_FOR_DENO_CAM_TAR_15JUN25;--227  Rows\nSELECT * FROM TEMP_FOR_DENO_CAM_TAR_15JUN25;--227  Rows    --# THIS IS TARGET TABLE AFTER CREATING --#\nUPDATE TEMP_FOR_DENO_CAM_TAR_15JUN25 SET TARGET = ROUND(TARGET),DD_CODE = TRIM(DD_CODE);\n\n-- STEP 2: AGENT LIST CREATE --\n--DROP TABLE TEMP_FOR_AG_LST_MAP_6_MAY25 PURGE;\n--DROP TABLE TEMP_FOR_AG_LST_MAP_15MAY25 PURGE;\nCREATE TABLE TEMP_FOR_AG_LST_MAP_15MAY25 AS\nSELECT TAR.*,AG.RET_CODE RETAILER_CODE, AG.RET_MOBILE RET_MSISDN \nFROM TEMP_FOR_DENO_CAM_TAR_15JUN25 TAR \nINNER JOIN DD_RSO_RET_MAPPING_DAILY AG ON AG.DD_CODE=TAR.DD_CODE AND AG.DATA_DATE = '15-JUN-25';--561446 \n\nSELECT * FROM TEMP_FOR_AG_LST_MAP_15MAY25;--557087  Rows       554713  Rows               552507  Rows\nSELECT * FROM EV_RECHARGE_COM_DAILY;\n\n-- STEP 3: COMMISSION CALCULATION QUERY START --\n--DROP TABLE TEMP_FOR_DD_SS_DET_6_JUN25 PURGE;\n--DROP TABLE TEMP_FOR_DD_SS_DET_15_JUN25 PURGE;\nCREATE TABLE TEMP_FOR_DD_DN_DET2_15JUN25 AS  --#THIS THE 1ST DETAIL FOR THIS COMMISSION WHERE COMMISSION AMOUNT IS CALCULATED\n--CREATE TABLE TEMP_FOR_DD_SS_DET_15_JUN25 AS\nWITH RSO_WISE_ACHIEVEMENT AS ( \n    SELECT /*+ parallel(10) */ CLUSTER_NAME,AG.DD_CODE,AG.TARGET, RECHARGE_AMOUNT,SUB_MSISDN CUSTOMER_MSISDN,\n    CASE WHEN RECHARGE_AMOUNT IN (548,549) THEN 1 ELSE 0 END AS DENO_548_549,  --# DENO IS TRACKED FOR CLUSTER WISE CALCULATION --#\n    CASE WHEN RECHARGE_AMOUNT IN (397) THEN 1 ELSE 0 END AS DENO_397  --# DENO IS TRACKED FOR CLUSTER WISE CALCULATION --#\n    FROM TEMP_FOR_AG_LST_MAP_15MAY25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '10-JUN-25' AND '15-JUN-25') AND EV.RECHARGE_AMOUNT IN (397,548,549)  --# Effective Date: 1-Jun-2025   End Date: 6-Jun-2025 and  Deno: 397_548_549 --#\n    \n)\n--SELECT * FROM RSO_WISE_ACHIEVEMENT;-- msisdn details\n,DENO_WISE_COUNT AS (\nSELECT  CLUSTER_NAME,DD_CODE, TARGET, COUNT(*) HIT,ROUND(COUNT(*)*100/TARGET) ACH_PER,SUM(DENO_548_549) DENO_548_549_HIT, SUM(DENO_397) DENO_397_HIT\nFROM RSO_WISE_ACHIEVEMENT ACH\nGROUP BY CLUSTER_NAME,DD_CODE, TARGET\n)\n--SELECT * from DENO_WISE_COUNT;--335  Rows\n,RET_WISE_PERCENTAGE AS (\nSELECT CC.*,\nCASE WHEN  ACH_PER >= 200 THEN \n            CASE WHEN TARGET*2 <= DENO_548_549_HIT THEN TARGET*2 *30  --# Incentive is capping to 200% achievement --#\n                 WHEN TARGET*2 >= DENO_548_549_HIT THEN (DENO_548_549_HIT *30)+(((TARGET*2 )-DENO_548_549_HIT)*15)\n                 ELSE 0 END\n     WHEN  ACH_PER >= 100 THEN (DENO_548_549_HIT*30)+(DENO_397_HIT*15) --# Upon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 30 incentives per HIT for Deno 548 and 549, and BDT 15 per hit for Deno 397 --#\n     WHEN  ACH_PER >= 90 THEN (DENO_548_549_HIT*20)+(DENO_397_HIT*10)  --# Upon achieving 90% to 99% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 20 incentives per HIT for Deno 548 and 549, and BDT 10 per hit for Deno 397 --#\n     ELSE 0 END AS COMMISSION_AMOUNT\nFROM DENO_WISE_COUNT CC\n)\nSELECT * FROM RET_WISE_PERCENTAGE;--335  Rows  --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_SS_DET_6_JUN25) --#\nSELECT SUM(COMMISSION_AMOUNT) TOTAL_COMMISSION FROM RET_WISE_PERCENTAGE;--3433140          5231890 TAKA  RAJBOG23\n\n-- STEP 4: OVERLOOKING CREATED TABLE DATA\nSELECT * FROM TEMP_FOR_DD_SS_DET_15_JUN25;--227  Rows\nSELECT SUM(COMMISSION_AMOUNT) FROM TEMP_FOR_DD_SS_DET_15_JUN25;--795790           2202020     TK\n\n--# OVERLOOKING THE 2ND DETAILS TABLE DATA --#\nSELECT * FROM TEMP_FOR_DD_DN_DET2_15JUN25;--40847  Rows     Rows MSISDN DETAILS\n\n\n--------------------SETUP-------------\n--STEP 5: PREPARE FOR REPORT PUBLISHING\n --REPORT_ID : 7985 (UPDATE WITH ACTUAL REPORT ID)\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Sniper Strike_BDT 397_548_549_10th to 15th Jun25';\n-- BASE_CYCLE_ID : 0022  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jun_25'; --base month\n-- REPORT_CYCLE_ID : 0033 (UPDATE WITH ACTUAL REPORT CYCLE ID) \nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 8002 and  CYCLEID = 10074;--64734\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 64734;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 64734;\n--commit;\n\n-- INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 64734 REPORT_CYCLE_ID, DD_CODE, COMMISSION_AMOUNT\nFROM (\nSELECT * FROM TEMP_FOR_DD_SS_DET_15_JUN25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 64734; --795790        2202020        3433140            5231890   TAKA\n\n--PUBLISH_CYCLE_ID : 0044  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jun_25 if today = 30-Jun-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jun_25'; --Publish month --10074\n \n  --STEP 6: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\nEXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Sniper Strike_BDT 397_548_549_10th to 15th Jun25',10074,'TEMP_FOR_DD_SS_DET_15_JUN25','SUMMERY_DETAIL','TEMP_FOR_DD_DN_DET2_15JUN25','MSISDN_DETAIL');\n \n --STEP 7: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Distributor Sniper Strike_BDT 397_548_549_10th to 15th Jun25', 64734,'Jun_25', 'Jun_25',290, 1);\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Delower Hossen ROBIN\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 8-May-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno HIT\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Sniper Strike_BDT 397_548_549_10th to 15th May25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 10-May-2025        ( End Date: 15-May-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno HIT\rDeno HIT\rDistributor will be given Deno HIT target. (Target will be provided by B2C)\rDeno: 397_548_549\r\r                 For West Cluster:\rUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 60 incentives per HIT (Distributor wise HIT Target will be share by B2C).\r\rUpon achieving 90% to 99% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 50 incentives per HIT (Distributor wise HIT Target will be share by B2C).\r\r                 For North Cluster, East Cluster, Central Cluster, North East Cluster :\r\rUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 60 incentives per HIT for Deno 548 and 549, and BDT 40 per hit for Deno 397 (Distributor wise HIT Target will be share by B2C).\r\rUpon achieving 90% to 99% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 50 incentives per HIT for Deno 548 and 549, and BDT 30 per hit for Deno 397 (Distributor wise HIT Target will be share by B2C).\r                           Incentive is capping to 200% achievement.\r\rAgent list of 15th May‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rExample:\r\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007DD Code\r\u0007Target HIT\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r13th Apr‚Äô25\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Delower Hossen ROBIN\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "--------------------------------- REPORT HELPER QUERY -----------------------------------------\n-- 7451 9574 61612\n\n-- STEP 1: VERIFY SUPPORTING DATA\n--# THIS TARGET TABLE WILL BE CREATED BASED ON COMMISSION NAME AND BASE MONTH --#\n--CREATE TABLE TEMP_FOR_DENO_CAMP_TAR_10_15_MAY25 AS\n--select CHANNEL_CODE DD_CODE, TARGET from COM_KPI_CONDITION_TARGET \n--WHERE REPORTCYCLE_ID = (SELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS \n--where REPORTID = (SELECT REPORTID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Sniper Strike_BDT 397_548_549_1st to 8th May25') and  \n--CYCLEID = (SELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'May_25'));--341  Rows\n\nSELECT * FROM TEMP_FOR_DENO_CAMP_TAR_10_15_MAY25;-- 337  Rows\n\n-- STEP 2: AGENT LIST CREATE --\n--DROP TABLE TEMP_FOR_AG_LIST_MAP_DET_22_MAY25 PURGE;\n--CREATE TABLE TEMP_FOR_AG_LIST_MAP_DET_22_MAY25 AS\nSELECT TAR.*,AG.RET_CODE RETAILER_CODE, AG.RET_MOBILE RET_MSISDN \nFROM TEMP_FOR_DENO_CAMP_TAR_10_15_MAY25 TAR \nINNER JOIN DD_RSO_RET_MAPPING_DAILY AG ON AG.DD_CODE=TAR.DD_CODE AND AG.DATA_DATE = '15-MAY-25';-- 555867  Rows\n\nSELECT * FROM TEMP_FOR_AG_LIST_MAP_DET_22_MAY25;--  555867  Rows    554713  Rows               552507  Rows\nSELECT * FROM EV_RECHARGE_COM_DAILY;\n\n-- STEP 3: COMMISSION CALCULATION QUERY START --\n--DROP TABLE TEMP_FOR_DD_DN_DET2_10_15MAY25 PURGE;\n--CREATE TABLE TEMP_FOR_DD_DN_DET2_10_15MAY25 AS\n--DROP TABLE TEMP_FOR_DD_SS_DET_10_15MAY25 PURGE;\n--CREATE TABLE TEMP_FOR_DD_SS_DET_10_15MAY25 AS  --#THIS THE 1ST DETAIL FOR THIS COMMISSION WHERE COMMISSION AMOUNT IS CALCULATED\nWITH RSO_WISE_ACHIEVEMENT AS ( \n    SELECT /*+ parallel(10) */ CLUSTER_NAME,AG.D_CODE DD_CODE,AG.HIT_TARGET TARGET, RECHARGE_AMOUNT,SUB_MSISDN CUSTOMER_MSISDN,\n    CASE WHEN RECHARGE_AMOUNT IN (548,549) THEN 1 ELSE 0 END AS DENO_548_549, --# DENO IS TRACKED FOR CLUSTER WISE CALCULATION --#\n    CASE WHEN RECHARGE_AMOUNT IN (397) THEN 1 ELSE 0 END AS DENO_397 --# DENO IS TRACKED FOR CLUSTER WISE CALCULATION --#\n    FROM TEMP_FOR_AG_LIST_MAP_DET_22_MAY25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '17-MAY-25' AND '22-MAY-25') AND EV.RECHARGE_AMOUNT IN (397,548,549) --# Effective Date: 10-May-2025  End Date: 15-May-2025 and  Deno: 397_548_549 --#\n--    AND SERVICE_CLASS_ID NOT IN (141) \n--    AND NOT EXISTS(SELECT MOBILENO FROM VW_EMPLOYEESALESCOM_MONTHLY VE WHERE VE.DATE_DATE='1-JAN-24' AND VE.MOBILENO=EV.SUB_MSISDN)\n--    GROUP BY AG.DD_CODE,  AG.TARGET\n)\n--SELECT * FROM RSO_WISE_ACHIEVEMENT;-- 72809  Rows\n,DENO_WISE_COUNT AS (\nSELECT  CLUSTER_NAME,DD_CODE, TARGET, COUNT(*) HIT,ROUND(COUNT(*)*100/TARGET) ACH_PER,SUM(DENO_548_549) DENO_548_549_HIT, SUM(DENO_397) DENO_397_HIT\nFROM RSO_WISE_ACHIEVEMENT ACH\nGROUP BY CLUSTER_NAME,DD_CODE, TARGET\n)\n--SELECT * from DENO_WISE_COUNT;  -- 328  Rows\n,RET_WISE_PERCENTAGE AS (\nSELECT CC.*,\nCASE WHEN CLUSTER_NAME ='West Cluster' AND ACH_PER >= 200 THEN (TARGET*2)* 60 --# Incentive is capping to 200% achievement For West Cluster --#\n     WHEN CLUSTER_NAME ='West Cluster' AND ACH_PER >= 100 THEN HIT* 60 --#  Upon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 60 incentives per HIT   ( FOR WEST CLUSTER )--#\n     WHEN CLUSTER_NAME ='West Cluster' AND ACH_PER >= 90 THEN HIT* 50 --#  \tUpon achieving 90% to 99% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 40 incentives per HIT ( FOR WEST CLUSTER )--#\n      WHEN CLUSTER_NAME !='West Cluster' AND ACH_PER >= 200 THEN --# Incentive is capping to 200% achievement Except West Cluster --#\n            CASE WHEN TARGET*2 <= DENO_548_549_HIT THEN TARGET*2 *50 --# WHEN TARGET*2 <= DENO_548_549_HIT THEN THIS LOGIC   --#\n                 WHEN TARGET*2 >= DENO_548_549_HIT THEN DENO_548_549_HIT*50+((TARGET*2 )-DENO_548_549_HIT)*30  --# WHEN TARGET*2 >= DENO_548_549_HIT THEN THIS LOGIC   --#\n                 ELSE 0 END\n     WHEN CLUSTER_NAME !='West Cluster' AND ACH_PER >= 100 THEN (DENO_548_549_HIT*60)+(DENO_397_HIT*40) --# Upon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 60 incentives per HIT for Deno 548 and 549, and BDT 40 per hit for Deno 397  ( EXCEPT WEST CLUSTER )--#\n     WHEN CLUSTER_NAME !='West Cluster' AND ACH_PER >= 90 THEN (DENO_548_549_HIT*50)+(DENO_397_HIT*30) --# Upon achieving 90% to 99% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 50 incentives per HIT for Deno 548 and 549, and BDT 30 per hit for Deno 397  ( EXCEPT WEST CLUSTER )--#\n     ELSE 0 END AS COMMISSION_AMOUNT\nFROM DENO_WISE_COUNT CC\n)\n--SELECT * FROM RET_WISE_PERCENTAGE;-- 328  Rows\nSELECT SUM(COMMISSION_AMOUNT) TOTAL_COMMISSION FROM RET_WISE_PERCENTAGE;-- 3804790 TAKA\n\n-- STEP 4: OVERLOOKING CREATED TABLE DATA\nSELECT * FROM TEMP_FOR_DD_SS_DET_10_15MAY25;-- 328  Rows\nSELECT SUM(COMMISSION_AMOUNT) FROM TEMP_FOR_DD_SS_DET_10_15MAY25;--   3804790  5958820        5231890           404490   TK\n\n--# OVERLOOKING THE 2ND DETAILS TABLE DATA --#\nSELECT * FROM TEMP_FOR_DD_DN_DET2_10_15MAY25;--  72809  Rows  98700  Rows MSISDN DETAILS\n\n\n-------------------------SETUP---------------\n\n--STEP 5: PREPARE FOR REPORT PUBLISHING\n --REPORT_ID : 7985 (UPDATE WITH ACTUAL REPORT ID) \nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Sniper Strike_BDT 397_548_549_10th to 15th May25';\n-- BASE_CYCLE_ID : 0022  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'May_25'; --base month\n-- REPORT_CYCLE_ID : 0033 (UPDATE WITH ACTUAL REPORT CYCLE ID) \nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7873 and  CYCLEID = 9954;--64074\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 64074;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 64074;\n--commit;\n\n-- INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 64074 REPORT_CYCLE_ID, DD_CODE, COMMISSION_AMOUNT\nFROM (\nSELECT * FROM TEMP_FOR_DD_SS_DET_10_15MAY25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 64074; -- 3804790   TAKA\n\n--PUBLISH_CYCLE_ID : 0044  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jun_25 if today = 30-Jun-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'May_25'; --Publish month --9954\n \n  --STEP 6: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\n--EXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Sniper Strike_BDT 397_548_549_10th to 15th May25',9954,'TEMP_FOR_DD_SS_DET_10_15MAY25','SUMMERY_DETAIL','TEMP_FOR_DD_DN_DET2_10_15MAY25','MSISDN_DETAIL');\n \n --STEP 7: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\n--EXEC FINALIZE_REPORT_ADHOC('Distributor Sniper Strike_BDT 397_548_549_10th to 15th May25', 64074,'May_25', 'May_25',290, 1);\n\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Delower Hossen ROBIN\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 3-Jun-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno HIT\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Sniper Strike_BDT 397_548_549_1st to 6th Jun25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 1-Jun-2025        ( End Date: 6-Jun-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno HIT\rDeno HIT\rDistributor will be given Deno HIT target. (Target will be provided by B2C)\rDeno: 397_548_549\r\r                 For West Cluster: (Campaign Date: 1st to 6th Jun‚Äô25)\rUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 50 incentives per HIT (Distributor wise HIT Target will be share by B2C).\r\rUpon achieving 90% to 99% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 40 incentives per HIT (Distributor wise HIT Target will be share by B2C).\r\r                 For North Cluster, East Cluster, Central Cluster, North East Cluster : (Campaign Date: 1st to 5th Jun‚Äô25)\r\rUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 50 incentives per HIT for Deno 548 and 549, and BDT 30 per hit for Deno 397 (Distributor wise HIT Target will be share by B2C).\r\rUpon achieving 90% to 99% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 40 incentives per HIT for Deno 548 and 549, and BDT 20 per hit for Deno 397 (Distributor wise HIT Target will be share by B2C).\r                           Incentive is capping to 200% achievement.\r\rAgent list of 5th Jun‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rExample:\r\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007DD Code\r\u0007Target HIT\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r7th Jun‚Äô25\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Delower Hossen ROBIN\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "--------------------------------- REPORT HELPER QUERY -----------------------------------------\n-- 7451 9574 61612\n\n-- STEP 1: VERIFY SUPPORTING DATA\n--# THIS TARGET TABLE WILL BE CREATED BASED ON COMMISSION NAME AND BASE MONTH --#\n--CREATE TABLE TEMP_FOR_DENO_CAM_TAR_6JUN25 AS\n--select CHANNEL_CODE DD_CODE, TARGET from COM_KPI_CONDITION_TARGET \n--WHERE REPORTCYCLE_ID = (SELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS \n--where REPORTID = (SELECT REPORTID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Sniper Strike_BDT 397_548_549_1st to 6th Jun25') and     --# HERE PROVIDE COMMISSION NAME--#\n--CYCLEID = (SELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jun_25'));--341  Rows  --# HERE PROVIDE BASE MONTH--#\n\nSELECT * FROM TEMP_FOR_DENO_CAM_TAR_6JUN25;--338  Rows    --# THIS IS TARGET TABLE AFTER CREATING --#\n\n-- STEP 2: AGENT LIST CREATE --\n--DROP TABLE TEMP_FOR_AG_LST_MAP_6_MAY25 PURGE;\nCREATE TABLE TEMP_FOR_AG_LST_MAP_6_MAY25 AS\nSELECT TAR.*,AG.RET_CODE RETAILER_CODE, AG.RET_MOBILE RET_MSISDN \nFROM TEMP_FOR_DENO_CAM_TAR_6JUN25 TAR \nINNER JOIN DD_RSO_RET_MAPPING_DAILY AG ON AG.DD_CODE=TAR.DD_CODE AND AG.DATA_DATE = '5-JUN-25';--561446  Rows  --# Agent list of 5th Jun‚Äô25 will be considered --#  \t\n\nSELECT * FROM TEMP_FOR_AG_LST_MAP_6_MAY25;--557087  Rows  554713  Rows  552507  Rows\n\n-- STEP 3: COMMISSION CALCULATION QUERY START --\n--DROP TABLE TEMP_FOR_DD_SS_DET_6_JUN25 PURGE;\nCREATE TABLE TEMP_FOR_DD_DN_DET2_6_JUN25 AS   --#THIS THE 1ST DETAIL FOR THIS COMMISSION WHERE COMMISSION AMOUNT IS CALCULATED\n--CREATE TABLE TEMP_FOR_DD_SS_DET_6_JUN25 AS \nWITH RSO_WISE_ACHIEVEMENT AS ( \n    SELECT /*+ parallel(10) */ CLUSTER_NAME,AG.DD_CODE,AG.TARGET, RECHARGE_AMOUNT,SUB_MSISDN CUSTOMER_MSISDN,\n    CASE WHEN RECHARGE_AMOUNT IN (548,549) THEN 1 ELSE 0 END AS DENO_548_549, --# DENO IS TRACKED FOR CLUSTER WISE CALCULATION --#\n    CASE WHEN RECHARGE_AMOUNT IN (397) THEN 1 ELSE 0 END AS DENO_397 --# DENO IS TRACKED FOR CLUSTER WISE CALCULATION --#\n    FROM TEMP_FOR_AG_LST_MAP_6_MAY25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '1-JUN-25' AND '5-JUN-25') AND EV.RECHARGE_AMOUNT IN (397,548,549) --# Effective Date: 1-Jun-2025   End Date: 6-Jun-2025 and  Deno: 397_548_549 --#\n    AND CLUSTER_NAME NOT IN ('West Cluster') --# FOR WEST CLUSTER --#\n    \n    UNION ALL\n    \n    SELECT /*+ parallel(10) */ CLUSTER_NAME,AG.DD_CODE,AG.TARGET, RECHARGE_AMOUNT,SUB_MSISDN CUSTOMER_MSISDN,\n    CASE WHEN RECHARGE_AMOUNT IN (548,549) THEN 1 ELSE 0 END AS DENO_548_549, --# DENO IS TRACKED FOR CLUSTER WISE CALCULATION --#\n    CASE WHEN RECHARGE_AMOUNT IN (397) THEN 1 ELSE 0 END AS DENO_397  --# DENO IS TRACKED FOR CLUSTER WISE CALCULATION --#\n    FROM TEMP_FOR_AG_LST_MAP_6_MAY25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '1-JUN-25' AND '6-JUN-25') AND EV.RECHARGE_AMOUNT IN (397,548,549) --# Effective Date: 1-Jun-2025   End Date: 6-Jun-2025 and  Deno: 397_548_549 --#\n    AND CLUSTER_NAME IN ('West Cluster')  --# EXCEPT WEST CLUSTER --#\n)\nSELECT * FROM RSO_WISE_ACHIEVEMENT;-- msisdn details --# CREATE THE 2ND DETAILS TABLE FROM HERE (TEMP_FOR_DD_DN_DET2_6_JUN25) --#\n,DENO_WISE_COUNT AS (\nSELECT  CLUSTER_NAME,DD_CODE, TARGET, COUNT(*) HIT,ROUND(COUNT(*)*100/TARGET) ACH_PER,SUM(DENO_548_549) DENO_548_549_HIT, SUM(DENO_397) DENO_397_HIT\nFROM RSO_WISE_ACHIEVEMENT ACH\nGROUP BY CLUSTER_NAME,DD_CODE, TARGET\n)\n--SELECT * from DENO_WISE_COUNT;--335  Rows\n,RET_WISE_PERCENTAGE AS (\nSELECT CC.*,\nCASE WHEN CLUSTER_NAME ='West Cluster' AND ACH_PER >= 200 THEN (TARGET*2)* 50  --# Incentive is capping to 200% achievement ( FOR WEST CLUSTER )--#\n     WHEN CLUSTER_NAME ='West Cluster' AND ACH_PER >= 100 THEN HIT* 50 --# Upon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 50 incentives per HIT  ( FOR WEST CLUSTER )--#\n     WHEN CLUSTER_NAME ='West Cluster' AND ACH_PER >= 90 THEN HIT* 40  --#  \tUpon achieving 90% to 99% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 40 incentives per HIT ( FOR WEST CLUSTER )--#\n      WHEN CLUSTER_NAME !='West Cluster' AND ACH_PER >= 200 THEN  --# Incentive is capping to 200% achievement ( EXCEPT WEST CLUSTER )--#\n            CASE WHEN TARGET*2 <= DENO_548_549_HIT THEN TARGET*2 *50 --# WHEN TARGET*2 <= DENO_548_549_HIT THEN THIS LOGIC ( EXCEPT WEST CLUSTER )  --#\n                 WHEN TARGET*2 >= DENO_548_549_HIT THEN (DENO_548_549_HIT *50)+(((TARGET*2 )-DENO_548_549_HIT)*30)  --# WHEN TARGET*2 >= DENO_548_549_HIT THEN THIS LOGIC ( EXCEPT WEST CLUSTER )  --#\n                 ELSE 0 END\n     WHEN CLUSTER_NAME !='West Cluster' AND ACH_PER >= 100 THEN (DENO_548_549_HIT*50)+(DENO_397_HIT*30)  --#  \tUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 50 incentives per HIT for Deno 548 and 549, and BDT 30 per hit for Deno 397 ( EXCEPT WEST CLUSTER )--#\n     WHEN CLUSTER_NAME !='West Cluster' AND ACH_PER >= 90 THEN (DENO_548_549_HIT*40)+(DENO_397_HIT*20)  --# Upon achieving 90% to 99% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 40 incentives per HIT for Deno 548 and 549, and BDT 20 per hit for Deno 397  ( EXCEPT WEST CLUSTER )--#\n     ELSE 0 END AS COMMISSION_AMOUNT\nFROM DENO_WISE_COUNT CC\n)\nSELECT * FROM RET_WISE_PERCENTAGE;--335  Rows  --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_SS_DET_6_JUN25) --#\nSELECT SUM(COMMISSION_AMOUNT) TOTAL_COMMISSION FROM RET_WISE_PERCENTAGE;--3433140          5231890 TAKA  RAJBOG23\n\n-- STEP 4: OVERLOOKING CREATED TABLE DATA\nSELECT * FROM TEMP_FOR_DD_SS_DET_6_JUN25;--335  Rows\nSELECT SUM(COMMISSION_AMOUNT) FROM TEMP_FOR_DD_SS_DET_6_JUN25;--2202020            3433140       5231890           404490   TK\n\n--# OVERLOOKING THE 2ND DETAILS TABLE DATA --#\nSELECT * FROM TEMP_FOR_DD_DN_DET2_6_JUN25;--335  Rows  62463  Rows    Rows MSISDN DETAILS\n\n-----------------------SETUP-------------------\n--STEP 5: PREPARE FOR REPORT PUBLISHING\n --REPORT_ID : 7985 (UPDATE WITH ACTUAL REPORT ID) \nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Sniper Strike_BDT 397_548_549_1st to 6th Jun25';\n-- BASE_CYCLE_ID : 0022  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jun_25'; --base month\n-- REPORT_CYCLE_ID : 0033 (UPDATE WITH ACTUAL REPORT CYCLE ID) \nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7985 and  CYCLEID = 10074;--64616\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 64616;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 64616;\n--commit;\n\n-- INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 64616 REPORT_CYCLE_ID, DD_CODE, COMMISSION_AMOUNT\nFROM (\nSELECT * FROM TEMP_FOR_DD_SS_DET_6_JUN25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 64616; --2202020        3433140            5231890   TAKA\n\n--PUBLISH_CYCLE_ID : 0044  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jun_25 if today = 30-Jun-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jun_25'; --Publish month --10074\n \n --STEP 6: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\nEXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Sniper Strike_BDT 397_548_549_1st to 6th Jun25',10074,'TEMP_FOR_DD_SS_DET_6_JUN25','SUMMERY_DETAIL','TEMP_FOR_DD_DN_DET2_6_JUN25','MSISDN_DETAIL');\n \n--STEP 7: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Distributor Sniper Strike_BDT 397_548_549_1st to 6th Jun25', 64616,'Jun_25', 'Jun_25',290, 1);\n\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Delower Hossen ROBIN\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 21-May-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno HIT\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Sniper Strike_BDT 397_548_549_1st to 8th May25_Revision\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 1-May-2025        ( End Date: 8-May-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno HIT\rDeno HIT\rDistributor will be given Deno HIT target. (Target will be provided by B2C)\rDeno: 397_548_549\r\r                 For West Cluster:\rUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 60 incentives per HIT (Distributor wise HIT Target will be share by B2C).\r\rUpon achieving 90% to 99% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 50 incentives per HIT (Distributor wise HIT Target will be share by B2C).\r\r                 For North Cluster, East Cluster, Central Cluster, North East Cluster :\r\rUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 60 incentives per HIT for Deno 548 and 549, and BDT 40 per hit for Deno 397 (Distributor wise HIT Target will be share by B2C).\r\rUpon achieving 90% to 99% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 50 incentives per HIT for Deno 548 and 549, and BDT 30 per hit for Deno 397 (Distributor wise HIT Target will be share by B2C).\r                           Incentive is capping to 200% achievement.\r\rAgent list of 8th May‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rExample:\r\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007DD Code\r\u0007Target HIT\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r13th Apr‚Äô25\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Delower Hossen ROBIN\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "--------------------------------- REPORT HELPER QUERY -----------------------------------------\n-- 7451 9574 61612\n\n-- STEP 1: VERIFY SUPPORTING DATA\n--# THIS TABLE IS ALREADY EXISTING, NO NEED TO CREATE FURTHER --#\n--CREATE TABLE TEMP_FOR_DENO_CAM_TAR_8MAY25 AS\n--select CHANNEL_CODE DD_CODE, TARGET from COM_KPI_CONDITION_TARGET \n--WHERE REPORTCYCLE_ID = (SELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS \n--where REPORTID = (SELECT REPORTID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Sniper Strike_BDT 397_548_549_1st to 8th May25') and  \n--CYCLEID = (SELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'May_25'));--341  Rows\n\nSELECT * FROM TEMP_FOR_DENO_CAM_TAR_8MAY25;-- 337  Rows\n\n-- STEP 2: AGENT LIST CREATE --\n--DROP TABLE TEMP_FOR_AG_LST_MAP_8_MAY25 PURGE;\n--CREATE TABLE TEMP_FOR_AG_LST_MAP_8_MAY25 AS\nSELECT TAR.*,AG.RET_CODE RETAILER_CODE, AG.RET_MOBILE RET_MSISDN \nFROM TEMP_FOR_DENO_CAM_TAR_8MAY25 TAR \nINNER JOIN DD_RSO_RET_MAPPING_DAILY AG ON AG.DD_CODE=TAR.DD_CODE AND AG.DATA_DATE = '8-MAY-25';--561446  Rows\n\nSELECT DISTINCT CLUSTER_NAME FROM TEMP_FOR_AG_LST_MAP_8_MAY25;-- 5  Rows\nSELECT * FROM TEMP_FOR_AG_LST_MAP_8_MAY25; -- 554713  Rows\nSELECT * FROM EV_RECHARGE_COM_DAILY;\n\n-- STEP 3: COMMISSION CALCULATION QUERY START --\n--DROP TABLE TEMP_FOR_DD_DN_DET2_8_MAY25 PURGE;\n--CREATE TABLE TEMP_FOR_DD_DN_DET2_8_MAY25 AS\n--DROP TABLE TEMP_FOR_DD_SS_DET_8_MAY25 PURGE;\n--CREATE TABLE TEMP_FOR_DD_SS_DET_8_MAY25 AS  --#THIS THE 1ST DETAIL FOR THIS COMMISSION WHERE COMMISSION AMOUNT IS CALCULATED\nWITH RSO_WISE_ACHIEVEMENT AS ( \n    SELECT /*+ parallel(10) */ CLUSTER_NAME,AG.DD_CODE,AG.TARGET, RECHARGE_AMOUNT,SUB_MSISDN CUSTOMER_MSISDN,\n    CASE WHEN RECHARGE_AMOUNT IN (548,549) THEN 1 ELSE 0 END AS DENO_548_549, --# DENO IS TRACKED FOR CLUSTER WISE CALCULATION --#\n    CASE WHEN RECHARGE_AMOUNT IN (397) THEN 1 ELSE 0 END AS DENO_397 --# DENO IS TRACKED FOR CLUSTER WISE CALCULATION --#\n    FROM TEMP_FOR_AG_LST_MAP_8_MAY25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '1-MAY-25' AND '8-MAY-25') AND EV.RECHARGE_AMOUNT IN (397,548,549) --# Effective Date: 1-May-2025   End Date: 8-May-2025 and  Deno: 397_548_549 --#\n--    AND SERVICE_CLASS_ID NOT IN (141) \n--    AND NOT EXISTS(SELECT MOBILENO FROM VW_EMPLOYEESALESCOM_MONTHLY VE WHERE VE.DATE_DATE='1-JAN-24' AND VE.MOBILENO=EV.SUB_MSISDN)\n--    GROUP BY AG.DD_CODE,  AG.TARGET\n)\n--SELECT * FROM RSO_WISE_ACHIEVEMENT;-- 98713  Rows\n,DENO_WISE_COUNT AS (\nSELECT  CLUSTER_NAME,DD_CODE, TARGET, COUNT(*) HIT,ROUND(COUNT(*)*100/TARGET) ACH_PER,SUM(DENO_548_549) DENO_548_549_HIT, SUM(DENO_397) DENO_397_HIT\nFROM RSO_WISE_ACHIEVEMENT ACH\nGROUP BY CLUSTER_NAME,DD_CODE, TARGET\n)\n--SELECT * from DENO_WISE_COUNT; --329  Rows\n,RET_WISE_PERCENTAGE AS (\nSELECT CC.*,\nCASE WHEN CLUSTER_NAME ='West Cluster' AND ACH_PER >= 200 THEN (TARGET*2)* 60  --# Incentive is capping to 200% achievement ( FOR WEST CLUSTER )--#\n     WHEN CLUSTER_NAME ='West Cluster' AND ACH_PER >= 100 THEN HIT* 60   --#  \tUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 60 incentives per HIT  ( FOR WEST CLUSTER )--#\n     WHEN CLUSTER_NAME ='West Cluster' AND ACH_PER >= 90 THEN HIT* 50  --#  \t \tUpon achieving 90% to 99% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 50 incentives per HIT  ( FOR WEST CLUSTER )--#\n      WHEN CLUSTER_NAME !='West Cluster' AND ACH_PER >= 200 THEN   --# Incentive is capping to 200% achievement ( EXCEPT WEST CLUSTER )--#\n            CASE WHEN TARGET*2 <= DENO_548_549_HIT THEN TARGET*2 *60   --# WHEN TARGET*2 <= DENO_548_549_HIT THEN THIS LOGIC   --#\n                 ELSE 0 END\n                 WHEN TARGET*2 >= DENO_548_549_HIT THEN DENO_548_549_HIT*60+((TARGET*2 )-DENO_548_549_HIT)*40  --# WHEN TARGET*2 >= DENO_548_549_HIT THEN THIS LOGIC ( EXCEPT WEST CLUSTER )  --#\n                 ELSE 0 END\n     WHEN CLUSTER_NAME !='West Cluster' AND ACH_PER >= 100 THEN (DENO_548_549_HIT*60)+(DENO_397_HIT*40)   --# Upon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 60 incentives per HIT for Deno 548 and 549, and BDT 40 per hit for Deno 397  ( EXCEPT WEST CLUSTER )--#\n     WHEN CLUSTER_NAME !='West Cluster' AND ACH_PER >= 90 THEN (DENO_548_549_HIT*50)+(DENO_397_HIT*30) --# Upon achieving 90% to 99% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 50 incentives per HIT for Deno 548 and 549, and BDT 30 per hit for Deno 397   ( EXCEPT WEST CLUSTER )--#\n     ELSE 0 END AS COMMISSION_AMOUNT\nFROM DENO_WISE_COUNT CC\n)\n--SELECT * FROM RET_WISE_PERCENTAGE;--329  Rows\nSELECT SUM(COMMISSION_AMOUNT) TOTAL_COMMISSION FROM RET_WISE_PERCENTAGE;-- 5327040 TAKA\n\n-- STEP 4: OVERLOOKING CREATED TABLE DATA\nSELECT * FROM TEMP_FOR_DD_SS_DET_8_MAY25;--329  Rows\nSELECT SUM(COMMISSION_AMOUNT) FROM TEMP_FOR_DD_SS_DET_8_MAY25;-- 5327040   TK\n\n--# OVERLOOKING THE 2ND DETAILS TABLE DATA --#\nSELECT * FROM TEMP_FOR_DD_DN_DET2_8_MAY25;-- 98713  Rows  Rows MSISDN DETAILS\n\n--------------------------SETUP-----------------\n\n--STEP 5: PREPARE FOR REPORT PUBLISHING\n --REPORT_ID : 7985 (UPDATE WITH ACTUAL REPORT ID) \nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Sniper Strike_BDT 397_548_549_1st to 8th May25_Revision';\n-- BASE_CYCLE_ID : 0022  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'May_25'; --base month\n-- REPORT_CYCLE_ID : 0033 (UPDATE WITH ACTUAL REPORT CYCLE ID)\nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7904 and  CYCLEID = 9954;--64242\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 64242;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 64242;\n--commit;\n\n-- INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 64242 REPORT_CYCLE_ID, DD_CODE, COMMISSION_AMOUNT\nFROM (\nSELECT * FROM TEMP_FOR_DD_SS_DET_8_MAY25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 64242; -- 5327040   TAKA\n\n--PUBLISH_CYCLE_ID : 0044  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jun_25 if today = 30-Jun-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'May_25'; --Publish month --9954\n\n --STEP 6: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\n\n--EXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Sniper Strike_BDT 397_548_549_1st to 8th May25_Revision',9954,'TEMP_FOR_DD_SS_DET_8_MAY25','SUMMERY_DETAIL','TEMP_FOR_DD_DN_DET2_8_MAY25','MSISDN_DETAIL');\n\n--STEP 7: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\n--EXEC FINALIZE_REPORT_ADHOC('Distributor Sniper Strike_BDT 397_548_549_1st to 8th May25_Revision', 64242,'May_25', 'May_25',290, 1);\n\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Delower Hossen ROBIN\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 30-Jun-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno HIT\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Sniper Strike_BDT 397_548_549_23rd to 30th Jun25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 23-Jun-2025        ( End Date: 30-Jun-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno HIT\rDeno HIT\rDistributor will be given Deno HIT target. (Target will be provided by B2C)\rDeno: 397_548_549\rCampaign Date: 23rd-30th Jun‚Äô25 (East Cluster, North Cluster, North East Cluster)\r                        24th-30th Jun‚Äô25 (Central Cluster, West Cluster)\r\rFor West Cluster :\rUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 50 incentives per HIT for Deno 397, 548 and 549 (Distributor wise HIT Target will be share by B2C).\r\rUpon achieving 90% to 99% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 40 incentives per HIT for Deno 397, 548 and 549 (Distributor wise HIT Target will be share by B2C).\r\r                  For North Cluster, East Cluster, North East Cluster, Central Cluster : \r\rUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 50 incentives per HIT for Deno 548 and 549, and BDT 30 per hit for Deno 397 (Distributor wise HIT Target will be share by B2C).\r\rUpon achieving 90% to 99% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 40 incentives per HIT for Deno 548 and 549, and BDT 20 per hit for Deno 397 (Distributor wise HIT Target will be share by B2C).\r                           Incentive is capping to 200% achievement \r\rAgent list of 30th Jun‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rExample:\r\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007DD Code\r\u0007Target HIT\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r1st July‚Äô25\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Delower Hossen ROBIN\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "--------------------------------- REPORT HELPER QUERY -----------------------------------------\n\n-- STEP 1: VERIFY SUPPORTING DATA\n--# THIS TARGET TABLE WILL BE CREATED GIVEN FROM PORTAL --#\n--CREATE TABLE SNIPPER_23_30_JUN25_64962 AS\n--select CHANNEL_CODE DD_CODE, TARGET from COM_KPI_CONDITION_TARGET \n--WHERE REPORTCYCLE_ID = (SELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS \n--where REPORTID = (SELECT REPORTID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Sniper Strike_BDT 397_548_549_1st to 8th May25') and  \n--CYCLEID = (SELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'May_25'));--341  Rows\n\n--# THIS TARGET TABLE WILL BE  GIVEN FROM PORTAL --#\nSELECT * FROM SNIPPER_23_30_JUN25_64962;-- 337  Rows\n\n-- STEP 2: AGENT LIST CREATE --\n--DROP TABLE TEMP_FOR_AG_LIST_DET_30JUN25 PURGE;\n--CREATE TABLE TEMP_FOR_AG_LIST_DET_30JUN25 AS\nSELECT TAR.*,AG.RET_CODE RETAILER_CODE, AG.RET_MOBILE RET_MSISDN \nFROM SNIPPER_23_30_JUN25_64962 TAR \nINNER JOIN DD_RSO_RET_MAPPING_DAILY AG ON AG.DD_CODE=TAR.DD_CODE AND AG.DATA_DATE = '30-JUN-25';\n\n\n-- STEP 3: COMMISSION CALCULATION QUERY START --\n--DROP TABLE TEMP_FOR_DD_DN_DET2_23_30JUN25 PURGE;\n--CREATE TABLE TEMP_FOR_DD_DN_DET2_23_30JUN25 AS\n--DROP TABLE TEMP_FOR_DD_SS_DET_23_30JUN25 PURGE;\n--CREATE TABLE TEMP_FOR_DD_SS_DET_23_30JUN25 AS  --#THIS THE 1ST DETAIL FOR THIS COMMISSION WHERE COMMISSION AMOUNT IS CALCULATED\nWITH RSO_WISE_ACHIEVEMENT AS ( \n    SELECT /*+ parallel(10) */ CLUSTER_NAME,AG.DD_CODE,AG.HIT_TGT TARGET, RECHARGE_AMOUNT,SUB_MSISDN CUSTOMER_MSISDN,TOP_UP_DATE,\n    CASE WHEN RECHARGE_AMOUNT IN (548,549) THEN 1 ELSE 0 END AS DENO_548_549, --# DENO IS TRACKED FOR CLUSTER WISE CALCULATION --#\n    CASE WHEN RECHARGE_AMOUNT IN (397) THEN 1 ELSE 0 END AS DENO_397  --# DENO IS TRACKED FOR CLUSTER WISE CALCULATION --#\n    FROM TEMP_FOR_AG_LIST_DET_30JUN25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '24-JUN-25' AND '30-JUN-25') AND EV.RECHARGE_AMOUNT IN (397,548,549) --# AS PER SRF DATE: 24th-30th Jun‚Äô25  and  Deno: 397_548_549 --#\n    AND CLUSTER_NAME IN('Central Cluster','West Cluster')\n    \n    UNION ALL\n    SELECT /*+ parallel(10) */ CLUSTER_NAME,AG.DD_CODE,AG.HIT_TGT TARGET, RECHARGE_AMOUNT,SUB_MSISDN CUSTOMER_MSISDN,TOP_UP_DATE,\n    CASE WHEN RECHARGE_AMOUNT IN (548,549) THEN 1 ELSE 0 END AS DENO_548_549,\n    CASE WHEN RECHARGE_AMOUNT IN (397) THEN 1 ELSE 0 END AS DENO_397\n    FROM TEMP_FOR_AG_LIST_DET_30JUN25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '23-JUN-25' AND '30-JUN-25') \n    AND EV.RECHARGE_AMOUNT IN (397,548,549) --# AS PER SRF  DATE: 23rd-30th Jun‚Äô25  and  Deno: 397_548_549 --#\n    AND CLUSTER_NAME IN('East Cluster', 'North Cluster','North East Cluster')\n)\n--SELECT * FROM RSO_WISE_ACHIEVEMENT;-- 97118  Rows 72809  Rows TEMP_FOR_DD_DN_DET2_23_30JUN25\n,DENO_WISE_COUNT AS (\nSELECT  CLUSTER_NAME,DD_CODE, TARGET, COUNT(*) HIT,ROUND(COUNT(*)*100/TARGET) ACH_PER,SUM(DENO_548_549) DENO_548_549_HIT, SUM(DENO_397) DENO_397_HIT\nFROM RSO_WISE_ACHIEVEMENT ACH\nGROUP BY CLUSTER_NAME,DD_CODE, TARGET\n)\n--SELECT * from DENO_WISE_COUNT;  -- 335  Rows 328  Rows\n,RET_WISE_PERCENTAGE AS (\nSELECT CC.*,\nCASE WHEN CLUSTER_NAME ='West Cluster' AND ACH_PER >= 200 THEN (TARGET*2)* 50 --# Incentive is capping to 200% achievement ( FOR WEST CLUSTER )--#\n     WHEN CLUSTER_NAME ='West Cluster' AND ACH_PER >= 100 THEN HIT* 50 --# Upon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 50 incentives per HIT for Deno 397, 548 and 549\n     WHEN CLUSTER_NAME ='West Cluster' AND ACH_PER >= 90 THEN HIT* 40 --# Upon achieving 90% to 99% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 40 incentives per HIT for Deno 397, 548 and 549\n      WHEN CLUSTER_NAME !='West Cluster' AND ACH_PER >= 200 THEN  --# Incentive is capping to 200% achievement ( EXCEPT WEST CLUSTER )--#\n            CASE WHEN TARGET*2 <= DENO_548_549_HIT THEN TARGET*2 *50 --# WHEN TARGET*2 <= DENO_548_549_HIT THEN THIS LOGIC ( EXCEPT WEST CLUSTER )  --#\n                 WHEN TARGET*2 >= DENO_548_549_HIT THEN DENO_548_549_HIT*50+((TARGET*2 )-DENO_548_549_HIT)*30 --# WHEN TARGET*2 >= DENO_548_549_HIT THEN THIS LOGIC ( EXCEPT WEST CLUSTER )  --#\n                 ELSE 0 END\n     WHEN CLUSTER_NAME !='West Cluster' AND ACH_PER >= 100 THEN (DENO_548_549_HIT*50)+(DENO_397_HIT*30)   --# \t \tUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 50 incentives per HIT for Deno 548 and 549, and BDT 30 per hit for Deno 397  ( EXCEPT WEST CLUSTER )--#\n     WHEN CLUSTER_NAME !='West Cluster' AND ACH_PER >= 90 THEN (DENO_548_549_HIT*40)+(DENO_397_HIT*20)  --# Upon achieving 90% to 99% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 40 incentives per HIT for Deno 548 and 549, and BDT 20 per hit for Deno 397  ( EXCEPT WEST CLUSTER )--#\n     ELSE 0 END AS COMMISSION_AMOUNT\nFROM DENO_WISE_COUNT CC\n)\nSELECT * FROM RET_WISE_PERCENTAGE;-- 335  Rows 328  Rows --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_SS_DET_23_30JUN25) --#\nSELECT SUM(COMMISSION_AMOUNT) TOTAL_COMMISSION FROM RET_WISE_PERCENTAGE;-- 40,06,870 TAKA\n\n-- STEP 4: OVERLOOKING CREATED TABLE DATA\nSELECT * FROM TEMP_FOR_DD_SS_DET_23_30JUN25;-- 335  Rows\nSELECT SUM(COMMISSION_AMOUNT) FROM TEMP_FOR_DD_SS_DET_23_30JUN25;--   4006870 TK 3804790 TK\n\n--# OVERLOOKING THE 2ND DETAILS TABLE DATA --#\nSELECT * FROM TEMP_FOR_DD_DN_DET2_23_30JUN25;--  97118  Rows 72809  Rows MSISDN DETAILS\n\n---------------------SETUP--------------\n--STEP 5: PREPARE FOR REPORT PUBLISHING\n --REPORT_ID : 7985 (UPDATE WITH ACTUAL REPORT ID)\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Sniper Strike_BDT 397_548_549_23rd to 30th Jun25';\n-- BASE_CYCLE_ID : 0022  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jun_25'; --base month\n-- REPORT_CYCLE_ID : 0033 (UPDATE WITH ACTUAL REPORT CYCLE ID) \nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 8065 and  CYCLEID = 10074;--64962\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 64962;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 64962;\n--commit;\n\n-- INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 64962 REPORT_CYCLE_ID, DD_CODE, COMMISSION_AMOUNT\nFROM (\nSELECT * FROM TEMP_FOR_DD_SS_DET_23_30JUN25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 64962; -- 4006870   TAKA\n\n--PUBLISH_CYCLE_ID : 0044  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jun_25 if today = 30-Jun-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jul_25'; --Publish month --10174\n \n  --STEP 6: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\n--EXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Sniper Strike_BDT 397_548_549_23rd to 30th Jun25',10174,'TEMP_FOR_DD_SS_DET_23_30JUN25','SUMMERY_DETAIL','TEMP_FOR_DD_DN_DET2_23_30JUN25','MSISDN_DETAIL');\n \n --STEP 7: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\n--EXEC FINALIZE_REPORT_ADHOC('Distributor Sniper Strike_BDT 397_548_549_23rd to 30th Jun25', 64962,'Jun_25', 'Jul_25',290, 1);\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Delower Hossen ROBIN\r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 6-Apr-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly(( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno HIT\r\u0007\r\u0007Recipient Type         :\r\u0007( Retailer      (( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007( Yes\r\u0007\r\u0007SMS Content\r\u0007\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Distributor Sniper Strike_BDT 548_549_7th to 12th Apr25\r\u0007\r\u0007Report Description: DD will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 7-Apr-2025        ( End Date: 12-Apr-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rDistributor Deno HIT\rDeno HIT\rDistributor will be given Deno HIT target. (Target will be provided by B2C)\rDeno: 548_549\r\rUpon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 50 incentives per HIT (Distributor wise HIT Target will be share by B2C).\r\rUpon achieving 90% to 99% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 40 incentives per HIT (Distributor wise HIT Target will be share by B2C).\r\r                           Incentive is capping to 200% achievement.\r\rAgent list of 12th Apr‚Äô25 will be considered.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\rExample:\rAchievement Level\r\u0007Target\r\u0007Achievement %\r\u0007Incentive per Hit\r\u0007Total Incentive üí∞\r\u0007\r\u0007‚úÖ Full Achievement (100%)\r\u0007100 hits\r\u0007100%\r\u0007BDT 50 per hit\r\u0007100 √ó 50 = BDT 5,000\r\u0007\r\u0007üèÜ Near Achievement (90-99%)\r\u0007100 hits\r\u000795%\r\u0007BDT 40 per hit\r\u0007Example: 95 √ó 40 = BDT 3,800\r\u0007\r\u0007‚ùå Below 90% Achievement\r\u0007100 hits\r\u0007<90%\r\u0007No Incentive ‚ùå\r\u0007No payment\r\u0007\r\u0007\rDetails Format:\r\r\rDD Code\r\u0007\r\u0007DD Code\r\u0007Target HIT\r\u0007Target ach\r\u0007% Ach\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007\r\u0007\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r13th Apr‚Äô25\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Delower Hossen ROBIN\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "--------------------------------- REPORT HELPER QUERY -----------------------------------------\n\n-- STEP 1: VERIFY SUPPORTING DATA\n--# THIS TARGET TABLE WILL BE CREATED BASED ON COMMISSION NAME AND BASE MONTH --#\nCREATE TABLE TEMP_FOR_DENO_CAMP_TAR_7_12_APR25 AS\nselect CHANNEL_CODE DD_CODE, TARGET from COM_KPI_CONDITION_TARGET \nWHERE REPORTCYCLE_ID = (SELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS \nwhere REPORTID = (SELECT REPORTID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Sniper Strike_BDT 548_549_7th to 12th Apr25') and  \nCYCLEID = (SELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Apr_25'));\n\n--drop table TEMP_FOR_DENO_CAMP_TAR_7_12_APR25 purge;\nSELECT * FROM TEMP_FOR_DENO_CAMP_TAR_7_12_APR25;--337  Rows  --# THIS IS TARGET TABLE AFTER CREATING --#\nupdate TEMP_FOR_DENO_CAMP_TAR_7_12_APR25 set DD_CODE = trim(DD_CODE);\ncommit;\nSELECT * FROM DD_RSO_RET_MAPPING_DAILY;\nSELECT * FROM EV_RECHARGE_COM_DAILY;\n\n-- STEP 2: AGENT LIST CREATE --\n--DROP TABLE TEMP_FOR_AG_LIST_MAP_12APR25 PURGE;\nCREATE TABLE TEMP_FOR_AG_LIST_MAP_12APR25 AS\nSELECT TAR.*,AG.RET_CODE RETAILER_CODE, AG.RET_MOBILE RET_MSISDN FROM \nTEMP_FOR_DENO_CAMP_TAR_7_12_APR25 TAR \nINNER JOIN DD_RSO_RET_MAPPING_DAILY AG ON AG.DD_CODE=TAR.DD_CODE AND AG.DATA_DATE = '12-APR-25';--236872  Rows  --# Agent list of 12th Apr‚Äô25 will be considered --#\n\nSELECT * FROM TEMP_FOR_AG_LIST_MAP_12APR25;-- 556039  Rows\nselect max(TOP_UP_DATE) from EV_RECHARGE_COM_DAILY;\n\n-- STEP 3: COMMISSION CALCULATION QUERY START --\n--DROP TABLE TEMP_FOR_DD_DENO_DAT_7_12APR25 PURGE;\nCREATE TABLE TEMP_FOR_DD_DENO_DAT_7_12APR25 AS   --#THIS THE 1ST DETAIL FOR THIS COMMISSION WHERE COMMISSION AMOUNT IS CALCULATED\nWITH DD_WISE_ACHIEVEMENT AS ( \n    SELECT AG.DD_CODE,AG.TARGET,COUNT(RECHARGE_AMOUNT) HIT\n    FROM TEMP_FOR_AG_LIST_MAP_12APR25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '7-APR-25' AND '12-APR-25') AND EV.RECHARGE_AMOUNT IN (548,549) -- # Effective Date: 7-Apr-2025  End Date: 12-Apr-2025 Deno: 548_549 # --\n--    AND SERVICE_CLASS_ID NOT IN (141) \n--    AND NOT EXISTS(SELECT MOBILENO FROM VW_EMPLOYEESALESCOM_MONTHLY VE WHERE VE.DATE_DATE='1-JAN-24' AND VE.MOBILENO=EV.SUB_MSISDN)\n    GROUP BY AG.DD_CODE,  AG.TARGET\n)\n--SELECT * FROM DD_WISE_ACHIEVEMENT; --43  Rows\n,DD_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,ROUND((HIT/TARGET)*100) ACH_PER\nFROM DD_WISE_ACHIEVEMENT ACHIEVEMENT\n)\n--SELECT * FROM DD_WISE_PERCENTAGE;--43  Rows\n,CALCULATE_COMMISSION AS (\n    SELECT DD_CODE,  TARGET, HIT,ACH_PER,\n    CASE \n    WHEN  ACH_PER >= 200 THEN (TARGET*2)*50  --# Incentive is capping to 200% achievement--#\n    WHEN  ACH_PER >= 100 THEN HIT*50  --#  Upon achieving Deno HIT target (Cumulative of DENO), Distributor will be given BDT 50 incentives per HIT \n    WHEN  ACH_PER >= 90 THEN HIT*40 --#  Upon achieving 90% to 99% Deno HIT target (Cumulative of DENO), Distributor will be given BDT 40 incentives per HIT \n    ELSE 0 \n    END COMMISSION\n    FROM DD_WISE_PERCENTAGE \n)\nSELECT * FROM CALCULATE_COMMISSION;--335  Rows --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DD_DENO_DAT_7_12APR25) --#\nSELECT SUM(COMMISSION) FROM CALCULATE_COMMISSION;--16,66,560\n\n-- STEP 4: OVERLOOKING CREATED TABLE DATA\nSELECT * FROM TEMP_FOR_DD_DENO_DAT_7_12APR25;--335  Rows\nSELECT SUM(COMMISSION) FROM TEMP_FOR_DD_DENO_DAT_7_12APR25;--16,66,560 TK 16,71,790\n\n--# CREATING THE 2ND DETAILS TABLE DATA --#\n--drop table TEMP_FOR_DD_DENO_DAT2_7_12_APR25 purge;\nCREATE TABLE TEMP_FOR_DD_DENO_DAT2_7_12_APR25 AS\nWITH DD_WISE_ACHIEVEMENT AS ( \n    SELECT AG.DD_CODE,RETAILER_CODE,RET_MSISDN,SUB_MSISDN CUSTOMER_MSISDN,RECHARGE_AMOUNT\n    FROM TEMP_FOR_AG_LIST_MAP_12APR25 AG \n    INNER JOIN EV_RECHARGE_COM_DAILY EV ON EV.RETAILER_MSISDN = AG.RET_MSISDN   \n    WHERE (EV.TOP_UP_DATE  BETWEEN '7-APR-25' AND '12-APR-25') AND EV.RECHARGE_AMOUNT IN (548,549) -- # Effective Date: 7-Apr-2025  End Date: 12-Apr-2025 Deno: 548_549 # --\n--    AND SERVICE_CLASS_ID NOT IN (141) \n--    AND NOT EXISTS(SELECT MOBILENO FROM VW_EMPLOYEESALESCOM_MONTHLY VE WHERE VE.DATE_DATE='1-JAN-24' AND VE.MOBILENO=EV.SUB_MSISDN)\n--    GROUP BY AG.DD_CODE,  AG.TARGET\n)\nSELECT * FROM DD_WISE_ACHIEVEMENT;--12815  Rows\n--# OVERLOOKING THE 2ND DETAILS TABLE DATA --#\nSELECT * FROM TEMP_FOR_DD_DENO_DAT2_7_12_APR25; --46856  Rows\n\n------------------------SETUP----------------------\n--STEP 5: PREPARE FOR REPORT PUBLISHING\n --REPORT_ID : 7985 (UPDATE WITH ACTUAL REPORT ID) \nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Distributor Sniper Strike_BDT 548_549_7th to 12th Apr25';\n-- BASE_CYCLE_ID : 0022  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Apr_25'; --base month\n-- REPORT_CYCLE_ID : 0033 (UPDATE WITH ACTUAL REPORT CYCLE ID) \nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7745 and  CYCLEID = 9854;--63314\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 63314;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 63314;\n--commit;\n\n-- INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 63314 REPORT_CYCLE_ID, DD_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_DD_DENO_DAT_7_12APR25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 63314; -- 1671790 TAKA\n\n--PUBLISH_CYCLE_ID : 0044  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jun_25 if today = 30-Jun-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Apr_25'; --Publish month --9854\n\n --STEP 6: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\n--EXEC PROC_COMMISSION_DETAIL_SETUP('Distributor Sniper Strike_BDT 548_549_7th to 12th Apr25',9854,'TEMP_FOR_DD_DENO_DAT_7_12APR25','SUMMERY_DETAIL','TEMP_FOR_DD_DENO_DAT2_7_12_APR25','MSISDN_DETAIL');\n \n --STEP 7: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\n--EXEC FINALIZE_REPORT_ADHOC('Distributor Sniper Strike_BDT 548_549_7th to 12th Apr25', 63314,'Apr_25', 'Apr_25',290, 1);\n\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Md. Saiful Islam Tareq \r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 20-Jan-2024\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007(( Daily( Weekly( Monthly( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno Recharge\r\u0007\r\u0007Recipient Type         :\r\u0007(( Retailer      ( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007(( Yes\r\u0007\r\u0007SMS Content\r\u0007‚ÄúPriyo Bikreta, Apni 17th to 18th Jan25 Deno Drive er commission hishabe BDT #### (AIT katar por) peyechen. Dhonnobad‚Äù.\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Retailer Deno Campaign BDT 199_227_348_17th to 18th Jan25\r\u0007\r\u0007Report Description: Retailer will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 17-Jan-2025        ( End Date: 18-Jan-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rRetailer Deno Recharge\rDeno Recharge\rRetailer will be given incentives. (Selected retailer list will be provided by B2C)\rDeno: 348 (West Cluster), \r           227 (Central Cluster, North Cluster & North East Cluster), \r          199 (East Cluster)\rUpon achieving Recharge target cumulative of selected deno, Retailer will be given incentive according to the shared amount (Retailer wise target and Incentive Amount will be share by B2C).\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\r\r\rDetails Format:\rDD Code\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Recharge Target\r\u0007Recharge Amount\r\u0007\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007Transaction Date\r\u0007\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r1st Dec‚Äô24\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Md. Saiful Islam Tareq <saiful.tareq@banglalink.net>\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "--------------------------------- REPORT HELPER QUERY -----------------------------------------\n\n-- STEP 1: VERIFY SUPPORTING DATA & THIS TABLE IS ALREADY EXISTING, NO NEED TO CREATE FURTHER  --\n\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Retailer Deno Campaign BDT 199_227_348_17th to 18th Jan25';\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jan_25'; --base month\nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7397 and  CYCLEID = 9574;--61417\n\n-- SETP 2: CREATE TEMP TARGET TABLE --\nCREATE TABLE TEMP_FOR_RET_TAR_17_18JAN25 AS\t\t\t--#  THIS TEMP TARGET TABLE HAS ALL DENO MENTION WITH CLUSTERED FILTERED DATA  --#\nSELECT CHANNEL_CODE RETAILER_CODE, TARGET FROM COM_KPI_CONDITION_TARGET where REPORTCYCLE_ID = 61417;\n\nSELECT * FROM TEMP_FOR_RET_TAR_17_18JAN25; --222941  Rows\n \n-- STEP 3: COMMISSION CALCULATION QUERY START --\n\n-- create table TEMP_FOR_RET_COM_CAL2_17_18JAN25 as\t\t--# CREATE 2ND DETAILS TABLE --#\nCREATE TABLE TEMP_FOR_RET_COM_CAL_17_18JAN25 AS\t\t\t--# CREATE 1ND DETAILS TABLE --#\nWITH DENO_WISE_PERTICEPATION AS (\n    SELECT /*+ parallel(16) */TAR.CLUSTER_NAME,TAR.RET_MSISDN,TAR.RET_CODE,RECHARGE.SUB_MSISDN,RECHARGE_AMOUNT,TAR.TARGET,INCENTIVE\n    FROM EV_RECHARGE_COM_DAILY RECHARGE\n    INNER JOIN TEMP_FOR_RET_TAR_17_18JAN25 TAR ON TAR.RET_MSISDN = RECHARGE.RETAILER_MSISDN AND RECHARGE_AMOUNT=TAR.DENO\n    WHERE RECHARGE.TOP_UP_DATE BETWEEN '17-JAN-25' AND '18-JAN-25'\t\t--# TARGET TABLE HAS DENO & CLASTERED FILTERED DATA. SO FILTERATION HAS NOT APPLIED --#\n    )\n--SELECT * FROM DENO_WISE_PERTICEPATION;--TEMP_FOR_RET_COM_CAL2_17_18JAN25 detail --408  Rows     --# CHECKING 2ND DETAILS TABLE DATA --#\n,RET_WISE_ACHIEVEMENT AS (\nSELECT RET_MSISDN,RET_CODE,TARGET,INCENTIVE,SUM(RECHARGE_AMOUNT) ACH\nFROM DENO_WISE_PERTICEPATION PER\nGROUP BY RET_MSISDN,RET_CODE,TARGET,INCENTIVE\n)\n--select * from RET_WISE_ACHIEVEMENT;\t\t--# CHECKING 2ND DETAILS TABLE DATA --#\n,RET_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,ROUND((ACH/TARGET)*100) ACH_PER\nFROM RET_WISE_ACHIEVEMENT ACHIEVEMENT\n)\n--SELECT * FROM RET_WISE_PERCENTAGE;--3424  Rows\n,CALCULATE_COMMISSION AS (\n    SELECT RET_MSISDN,RET_CODE,TARGET, ACH,ACH_PER,INCENTIVE,\n\t\t\t\t\t\t\t\t\t--# THIS CONDITION IS ADDED BEACAUSE ONLY 100% ACHIEVEMNT WILL BE COUNT --#\n    CASE\n        WHEN ACH_PER>=100 THEN INCENTIVE\n        ELSE 0\n    END COMMISSION\n    FROM RET_WISE_PERCENTAGE ACHIEVEMENT\n)\n\n-- STEP 3: VERIFYING CREATED TABLE DATA\n\nSELECT * FROM CALCULATE_COMMISSION;--940  Rows\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;--10008 TAKA\n\nSELECT SUM(COMMISSION) FROM TEMP_FOR_RET_COM_CAL_17_18JAN25;--10008 TK\n\nSELECT * FROM TEMP_FOR_RET_COM_CAL_17_18JAN25; --4088  Rows\n\n\n--------------------------------- REPORT SETUP QUERY -----------------------------------------\n\n--STEP 4: PREPARE FOR REPORT PUBLISHING\n--REPORT_ID : 0011 (UPDATE WITH ACTUAL REPORT ID) \nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Retailer Deno Campaign BDT 199_227_348_17th to 18th Jan25';\n-- BASE_CYCLE_ID : 0022  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jan_25'; --base month\n-- REPORT_CYCLE_ID : 0033 (UPDATE WITH ACTUAL REPORT CYCLE ID) --\nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7397 and  CYCLEID = 9574;--61417\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 61417;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 61417;\n--commit;\n\n-- INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 61417 REPORT_CYCLE_ID, RET_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_RET_COM_CAL_17_18JAN25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 61417; -- 2831 TAKA\n\n --PUBLISH_CYCLE_ID : 0044  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jun_25 if today = 30-Jun-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jan_25'; --Publish month 9954\n \n--STEP 5: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\nEXEC PROC_COMMISSION_DETAIL_SETUP('Retailer Deno Campaign BDT 199_227_348_17th to 18th Jan25',9574,'TEMP_FOR_RET_COM_CAL_17_18JAN25','SUMMERY DETAIL','TEMP_FOR_RET_COM_CAL2_17_18JAN25','MSISDN DETAIL'); \n \n--STEP : FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Retailer Deno Campaign BDT 199_227_348_17th to 18th Jan25', 61417,'Jan_25', 'Jan_25',290, 1);\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Md. Saiful Islam Tareq \r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 14-Jan-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007( Daily( Weekly( Monthly (( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno Recharge\r\u0007\r\u0007Recipient Type         :\r\u0007(( Retailer      ( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007(( Yes\r\u0007\r\u0007SMS Content\r\u0007‚ÄúPriyo Bikreta, Apni 14th to 16th Jan25 Deno 348 er commission hishabe BDT #### (AIT katar por) peyechen. Dhonnobad‚Äù.\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Retailer Deno Campaign BDT 348_14th to 16th Jan25\r\u0007\r\u0007Report Description: Retailer will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 14-Jan-2025        ( End Date: 16-Jan-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rRetailer Deno Recharge\rDeno Recharge\rRetailer will be given incentives. (Selected retailer list will be provided by B2C)\rDeno: 348\rUpon achieving Recharge target cumulative of selected deno, Retailer will be given BDT 100 incentives.\rGeneral mathematical rounding, i.e. below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\rAgent list of 16th Jan‚Äô25 will be consider.\r\r\r\rDetails Format:\rDD Code\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Recharge Target\r\u0007Recharge Amount\r\u0007\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007Transaction Date\r\u0007\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r1st Dec‚Äô24\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Md. Saiful Islam Tareq <saiful.tareq@banglalink.net>\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "--------------------------------- REPORT HELPER QUERY -----------------------------------------\n\n-- STEP 1: VERIFY SUPPORTING DATA & THIS TABLE IS ALREADY EXISTING, NO NEED TO CREATE FURTHER  --\n\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Retailer Deno Campaign BDT 348_14th to 16th Jan25';\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jan_25'; --base month\nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7364 and  CYCLEID = 9574;--61272\n\n-- SETP 2: CREATE TEMP TARGET TABLE --\nCREATE TABLE TEMP_FOR_RET_TAR_14_16JAN25 AS\nSELECT CHANNEL_CODE RETAILER_CODE, TARGET FROM COM_KPI_CONDITION_TARGET where REPORTCYCLE_ID = 61272;\n\nSELECT * FROM TEMP_FOR_RET_TAR_14_16JAN25; --2,22,058  Rows\n \n-- STEP 3: COMMISSION CALCULATION QUERY START --\n\nCREATE TABLE TEMP_FOR_AG_LIST_MAP_16_JAN25 AS\t\t--# THIS TEMP TABLE HAS FILTERED AGENT LIST BASED ON SRF --#\nSELECT TAR.*, AG.RET_MOBILE RET_MSISDN \nFROM TEMP_FOR_RET_TAR_14_16JAN25 TAR \nINNER JOIN DD_RSO_RET_MAPPING_DAILY AG ON AG.RET_CODE=TAR.RETAILER_CODE AND AG.DATA_DATE = '16-JAN-25';--569264  Rows  --# AGENT LIST OF 16-JAN-25 USED BASED ON SRF --#\n\nselect * from TEMP_FOR_AG_LIST_MAP_16_JAN25; --222155  Rows\n\ncreate table TEMP_FOR_EV_DET_14_16JAN25 AS\nSELECT * FROM EV_RECHARGE_COM_DAILY WHERE TOP_UP_DATE BETWEEN '14-JAN-25' AND '16-JAN-25';\n\nSELECT * FROM TEMP_FOR_EV_DET_14_16JAN25 WHERE RECHARGE_AMOUNT=348; --5643488  Rows\n\n--create table TEMP_FOR_RET_COM_CAL2_14_16JAN25 as\t\t--# CREATE 2ND DETAILS TABLE --#\t\nCREATE TABLE TEMP_FOR_RET_COM_CAL_14_16JAN25 AS\t\t--# CREATE 1ND DETAILS TABLE --#\nWITH DENO_WISE_PERTICEPATION AS (\n    SELECT /*+ parallel(16) */TAR.RET_MSISDN,TAR.RETAILER_CODE,RECHARGE.SUB_MSISDN,RECHARGE_AMOUNT,TAR.TARGET\n    FROM TEMP_FOR_EV_DET_14_16JAN25 RECHARGE\n    INNER JOIN TEMP_FOR_AG_LIST_MAP_16_JAN25 TAR ON TAR.RET_MSISDN = RECHARGE.RETAILER_MSISDN\n    WHERE RECHARGE.TOP_UP_DATE BETWEEN '14-JAN-25' AND '16-JAN-25'\t\t --# THIS FILTER IS ADDED ACCORDING TO SRF --#\n    AND RECHARGE.RECHARGE_AMOUNT IN (348)\t\t\t --# THIS FILTER IS ADDED ACCORDING TO SRF --#\n    )\n--SELECT * FROM DENO_WISE_PERTICEPATION;--TEMP_FOR_RET_COM_CAL2_14_16JAN25 detail --408  Rows\t\t --# CHECKING 2NDTABLE DATA --#\n,RET_WISE_ACHIEVEMENT AS (\nSELECT RET_MSISDN,RETAILER_CODE,TARGET,SUM(RECHARGE_AMOUNT) ACH\nFROM DENO_WISE_PERTICEPATION PER\nGROUP BY RET_MSISDN,RETAILER_CODE,TARGET\n)\n--select * from RET_WISE_ACHIEVEMENT;\n,RET_WISE_PERCENTAGE AS (\nSELECT ACHIEVEMENT.*,ROUND((ACH/TARGET)*100) ACH_PER\t\t--# THIS ROUNDING IS ADDED BASED ON SRF --#\nFROM RET_WISE_ACHIEVEMENT ACHIEVEMENT\n)\n--SELECT * FROM RET_WISE_PERCENTAGE;--3424  Rows\n,CALCULATE_COMMISSION AS (\n    SELECT RET_MSISDN,RETAILER_CODE,TARGET, ACH,ACH_PER,\n    CASE\n\t\t\t\t\t\t\t--# THIS CONDITION IS ADDED BEACAUSE ONLY 100% ACHIEVEMNT WILL BE COUNT --#\n        WHEN ACH_PER>=100 THEN 100\n        ELSE 0\n    END COMMISSION\n    FROM RET_WISE_PERCENTAGE ACHIEVEMENT\n)\n\n-- STEP 4: VERIFYING CREATED TABLE DATA\n\nSELECT * FROM CALCULATE_COMMISSION;--940  Rows\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;--0 TAKA\n\nSELECT SUM(COMMISSION) FROM TEMP_FOR_RET_COM_CAL_14_16JAN25;--0 TK\n\nSELECT * FROM TEMP_FOR_RET_COM_CAL_14_16JAN25; --940  Rows\n\n\n\n\n\n--STEP 4: PREPARE FOR REPORT PUBLISHING\n--REPORT_ID : 0011 (UPDATE WITH ACTUAL REPORT ID) \nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Retailer Deno Campaign BDT 348_14th to 16th Jan25';\n-- BASE_CYCLE_ID : 0022  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jan_25'; --base month\n-- REPORT_CYCLE_ID : 0033 (UPDATE WITH ACTUAL REPORT CYCLE ID) --\nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7364 and  CYCLEID = 9574;--61272\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 61272;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 61272;\n--commit;\n\n-- INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 61272 REPORT_CYCLE_ID, RETAILER_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_RET_COM_CAL_14_16JAN25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 61272; -- 187650 TAKA\n\n --PUBLISH_CYCLE_ID : 0044  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jun_25 if today = 30-Jun-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jan_25'; --base month\n \n--STEP 5: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\nEXEC PROC_COMMISSION_DETAIL_SETUP('Retailer Deno Campaign BDT 348_14th to 16th Jan25',9574,'TEMP_FOR_RET_COM_CAL_14_16JAN25','SUMMERY DETAIL')\n \n--STEP : FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Retailer Deno Campaign BDT 348_14th to 16th Jan25', 61272,'Jan_25', 'Jan_25',290, 1);\n\n\n\n\n\n\n\n\n\n\n\nSELECT APP.REPORT_NAME, CT.CHANNELTYPE, APP.CHANNEL_TYPE_ID\nFROM REPORT_APPROVAL APP \nINNER JOIN CHANNELTYPE CT ON CT.CHANNELTYPEID = APP.CHANNEL_TYPE_ID\nWHERE APP.REPORT_NAME = 'Retailer Deno Campaign BDT 348_14th to 16th Jan25';\n--CHANNEL_TYPE_ID   3\n\n--EXEC ADHOC_REPORT_SETUP('Retailer Deno Campaign BDT 348_14th to 16th Jan25', 'Oct_24', 'Oct_24', 3, '21-OCT-24', '30-OCT-24', NULL, '31-OCT-24');\n\n-- 7364 9574 61272\nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Retailer Deno Campaign BDT 348_14th to 16th Jan25';\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jan_25'; --base month\nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7364 and  CYCLEID = 9574;--61272\n\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 61272;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 61272;\n--commit;\n\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 61272 REPORT_CYCLE_ID, RETAILER_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_RET_COM_CAL_14_16JAN25\n);\nCOMMIT;\n\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 61272; -- 187650 TAKA\n\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Jan_25'; --base month\n \n--EXEC PROC_COMMISSION_DETAIL_SETUP('Retailer Deno Campaign BDT 348_14th to 16th Jan25',9574,'TEMP_FOR_RET_COM_CAL_14_16JAN25','SUMMERY DETAIL');\n \n\n--EXEC FINALIZE_REPORT_ADHOC('Retailer Deno Campaign BDT 348_14th to 16th Jan25', 61272,'Jan_25', 'Jan_25',290, 1);\n\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Md. Saiful Islam Tareq \r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 17-May-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007(( Daily( Weekly( Monthly( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno Recharge\r\u0007\r\u0007Recipient Type         :\r\u0007(( Retailer      ( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007(( Yes\r\u0007\r\u0007SMS Content\r\u0007‚ÄúPriyo Bikreta, Apni 15th May25 Drive er commission hishabe BDT #### (AIT katar por) peyechen. Dhonnobad‚Äù.\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Retailer Deno Campaign_15th May25\r\u0007\r\u0007Report Description: Retailer will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 15-May-2025  05:00 am      ( End Date: 15-May-2025 10:00 pm\r\u0007\r\u0007Detail & Conditions: \rKPI: \rRetailer Deno Recharge\rDeno Recharge\rRetailer will be given incentives. \rDeno: 209\rUpon achieving Recharge target (418) with the selected denos, Retailer will be given Tk10 incentive for each 209 from the 2nd recharge onwards. \rGeneral mathematical rounding, i.e., below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\r\r\rDetails Format:\rDD Code\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Recharge Target\r\u0007Recharge Amount\r\u0007\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007Transaction Date\r\u0007\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r1st Dec‚Äô24\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Md. Saiful Islam Tareq <saiful.tareq@banglalink.net>\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Delivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "--------------------------------- REPORT HELPER QUERY -----------------------------------------\n\n-- STEP 1: VERIFY SUPPORTING DATA & THIS TABLE IS ALREADY EXISTING, NO NEED TO CREATE FURTHER  --\n\nselect * from agent_list_daily;  --# This table has agent list --#\n\n\n-- STEP 2: COMMISSION CALCULATION QUERY START --\n\n--drop table TEMP_FOR_RETAGENT_15MAY25_ purge;\nCREATE TABLE TEMP_FOR_RETAGENT_15MAY25_ AS\t\t--# \tCREATED TEMP TABLE FOR HOLDING FILTER DATA RETAILER INFO  ACCORDING TO SRF \t--#\nSELECT /*+ parallel(10) */ DISTINCT\n      MAPING.RETAILER_CODE,\n      MAPING.TOPUP_MSISDN\nFROM agent_list_daily MAPING\nWHERE DATA_DATE='15-MAY-25'; -- 84661  Rows\t\t--#  USED AGENT LIST OF  15-MAY-25 ACCORDING TO SRF --#\nSELECT * FROM TEMP_FOR_RETAGENT_15MAY25_;-- 608572  Rows   \n\n--drop table TEMP_FOR_RET_EV_DET_15MAY25 purge;\nCREATE TABLE TEMP_FOR_RET_EV_DET_15MAY25 AS \t\t--# THIS IS TEMP TABLE FOR HOLDING RECHARGE DATA FROM ACCORDING TO SRF AS EV_RECHARGE_COM_DAILY TABLE IS LARGE --#\nselect * from EV_RECHARGE_COM_DAILY RECHARGE\nWHERE RECHARGE.TOP_UP_DATE BETWEEN '15-MAY-25' AND '15-MAY-25'\t\t\t--# DATAFILTERED ACCORDING TO SRF --#\nAND RECHARGE.TOP_UP_TIME BETWEEN '05:00:00' AND '22:00:00'; -- 1530400  Rows\t--# DATA FILTERED ACCORDING TO SRF --#\nselect * from TEMP_FOR_RET_EV_DET_15MAY25; -- 1530400  Rows\n\n--drop table TEMP_FOR_RET_FCS_DET_15MAY25 purge;\nCREATE TABLE TEMP_FOR_RET_FCS_DET_15MAY25 AS\t\t--#  CREATED 1ST DETAILS TEMP TABLE FOR HOLDING FILTER DATA RECHARGE WITH RETAILER INFO  ACCORDING TO SRF \t--#\nWITH RET_WISE_ACHIEVEMENT AS (\n    SELECT AG.RETAILER_CODE,RECHARGE.RETAILER_MSISDN,SUM(RECHARGE.RECHARGE_AMOUNT) ACH\n    FROM TEMP_FOR_RET_EV_DET_15MAY25 RECHARGE\n    INNER JOIN TEMP_FOR_RETAGENT_15MAY25_ AG ON AG.TOPUP_MSISDN = RECHARGE.RETAILER_MSISDN\n    WHERE RECHARGE.RECHARGE_AMOUNT IN (209)\t\t\t\t--# DATA FILTERED ACCORDING TO SRF --#\n    GROUP BY AG.RETAILER_CODE,RECHARGE.RETAILER_MSISDN\n)\n\n--SELECT * FROM RET_WISE_ACHIEVEMENT; -- 1951  Rows\n,CALCULATE_COMMISSION AS (\n    SELECT RETAILER_CODE,RETAILER_MSISDN,418 TARGET,ACH,\n\t\t\t--# HERE THIS BLOCK IS ADDED AS SRF MENTIONED \n\t\t\t\t\t\t\t\t\t--\t Upon achieving Recharge target (418) with the selected denos, Retailer will be given Tk10 incentive for each 209 from the 2nd recharge onwards.  --#\n    CASE\n        WHEN ACH>= 418 THEN 10\n        ELSE 0\n    END COMMISSION\n    FROM RET_WISE_ACHIEVEMENT\n)\n\n--DROP TABLE TEMP_FOR_RET_FCS_DET2_15MAY25 PURGE;\nCREATE TABLE TEMP_FOR_RET_FCS_DET2_15MAY25 AS\t\t--#  CREATED 2ST DETAILS TEMP TABLE FOR HOLDING FILTER DATA  ACCORDING TO SRF \t--#\n SELECT AG.RETAILER_CODE,RETAILER_MSISDN RET_MOBILE,RECHARGE.SUB_MSISDN,RECHARGE.RECHARGE_AMOUNT,RECHARGE.TOP_UP_DATE\n    FROM TEMP_FOR_RET_EV_DET_15MAY25 RECHARGE\n    INNER JOIN TEMP_FOR_RETAGENT_15MAY25_ AG ON AG.TOPUP_MSISDN = RECHARGE.RETAILER_MSISDN\n    WHERE RECHARGE.RECHARGE_AMOUNT IN (209);-- 2039  Rows \t\t--# THIS DATE RANGE AND \"Deno: 209\" IS MENTION IN SRF --#\n\n-- STEP 3: VERIFYING CREATED TABLE DATA\n\nSELECT * FROM CALCULATE_COMMISSION;-- 1951  Rows\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;-- 850\n\nSELECT SUM(COMMISSION) FROM TEMP_FOR_RET_FCS_DET_15MAY25;-- 850 TK\n\nSELECT * FROM TEMP_FOR_RET_FCS_DET_15MAY25; -- 1951  Rows\n\n\n    \nSELECT * FROM TEMP_FOR_RET_FCS_DET2_15MAY25;-- 2039  Rows\n    \nSELECT * FROM EV_RECHARGE_COM_DAILY;\n\n\n\n--------------------------------- REPORT SETUP QUERY -----------------------------------------\n\n--STEP 4: PREPARE FOR REPORT PUBLISHING\n--REPORT_ID : 0011 (UPDATE WITH ACTUAL REPORT ID) \nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Retailer Deno Campaign_15th May25';\n-- BASE_CYCLE_ID : 0022  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'May_25'; --base month\n-- REPORT_CYCLE_ID : 0033 (UPDATE WITH ACTUAL REPORT CYCLE ID) --\nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7842 and  CYCLEID = 9954;--63794\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 63794;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 63794;\n--commit;\n\n-- INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 63794 REPORT_CYCLE_ID, RETAILER_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_RET_FCS_DET_15MAY25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 63794; -- 2831 TAKA\n\n --PUBLISH_CYCLE_ID : 0044  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jun_25 if today = 30-Jun-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'May_25'; --Publish month 9954\n \n--STEP 5: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\nEXEC PROC_COMMISSION_DETAIL_SETUP('Retailer Deno Campaign_15th May25',9954,'TEMP_FOR_RET_FCS_DET_15MAY25','SUMMERY DETAIL','TEMP_FOR_RET_FCS_DET2_1_5MAY25','MSISDN DETAIL');\n \n--STEP : FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Retailer Deno Campaign_15th May25', 63794,'May_25', 'May_25',290, 1);\n\n"}
{"srf": "                      Service Request Number: 2016/0000 \r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Md. Saiful Islam Tareq \r\u0007\r\u0007Requesting Department: Channel Planning\r\u0007Date: 5-May-2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency               :\r\u0007(( Daily( Weekly( Monthly( Others: End of the campaign\r\u0007\r\u0007Product Type Name  :\r\u0007(( Prepaid( Postpaid( ( Others: Deno Recharge\r\u0007\r\u0007Recipient Type         :\r\u0007(( Retailer      ( Distributor    ( Field Force: RSO ( Others‚Ä¶\r\u0007\r\u0007Recipient Description: \r\u0007( SIM seller     ( top-up seller        ( Others‚Ä¶\r\u0007\r\u0007Report Sharing Slot  :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Salescom to EV Automation\r\u0007(( Yes\r\u0007\r\u0007SMS Content\r\u0007‚ÄúPriyo Bikreta, Apni 1st to 5th May25 Drive er commission hishabe BDT #### (AIT katar por) peyechen. Dhonnobad‚Äù.\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title: Retailer Deno Campaign_1st to 5th May25\r\u0007\r\u0007Report Description: Retailer will be given cash incentive upon achieving target. \r\u0007\r\u0007        ( Effective Date: 01-May-2025        ( End Date: 05-May-2025\r\u0007\r\u0007Detail & Conditions: \rKPI: \rRetailer Deno Recharge\rDeno Recharge\rRetailer will be given incentives. \rDeno: 32, 74, 79\rUpon achieving Recharge 3 hit target with any of the selected denos, Retailer will be given BDT 1 for each BDT 32 & BDT74 recharge & BDT 2 for each BDT 79 recharge.\rRetailers under distributor registered in DMS retail database as ‚ÄúBL Franchise Store‚Äù ‚ÄúEnterprise‚Äù and ‚ÄúSME Direct BDO‚Äù in retailer Type column/page will not be consider for this commission.\rGeneral mathematical rounding, i.e., below 0.5 will be rounded down and greater than or equal to 0.5 will be rounded up is applicable for achievement calculation.\rAgent list of 5th May‚Äô25 will be consider.\r\r\rDetails Format:\rDD Code\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Recharge Target\r\u0007Recharge Amount\r\u0007\r\u0007Incentive Amount\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007DD Code\r\u0007Retailer Code\r\u0007Retailer MSISDN\r\u0007Customer MSISDN\r\u0007Deno Amount\r\u0007Transaction Date\r\u0007\r\u0007\r\u0007\r\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù Aprk below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007(( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007( SAF\r\u0007\r\u0007Above ETSAF QC condition will be considered which implemented\r\u0007\r\u0007( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007(( Recharge\r\u0007All Valid C2S Recharges\r\u0007(Considering the valid bundle recharge upsell. Valid recharge means - I-TOP up)\r\u0007\r\u0007( Usage\r\u0007Valid Usage\r\u0007At least 95% of total GA must have more than 5TK usages within 7th of next month\r\u0007\r\u0007( Disconnection\r\u0007N/A\r\u0007Latest data up to report generation date (T-6)\r\u0007\r\u0007(( Product\r\u0007Prepaid\r\u0007All Prepaid & successful MNP\r\u0007\r\u0007( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007( Other‚Ä¶\r\u0007\r\u0007\r\u0007\r\u0007Other ReAprks: (If any)\r\r\u0007\r\u0007Input Data Source: \rChannel Operation: (( Target       ( Channel Mapping      ( Issue Detail       ( Other: \rIT                    :    ( ( IT SC              ( ( IT BI                         (( DWH                 ( Other‚Ä¶‚Ä¶‚Ä¶..\rOther               :   ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:   \r1st Dec‚Äô24\r\u0007Report Published Date:  \rAs per tracker\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r \r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\r\u0007\r\u0007\rApproval:\r\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007Md. Saiful Islam Tareq <saiful.tareq@banglalink.net>\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007Md Hasibul Karim\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Revenue Assurance\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Delivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r\r", "sql": "--------------------------------- REPORT HELPER QUERY -----------------------------------------\n\n-- STEP 1: VERIFY SUPPORTING DATA & THIS TABLE IS ALREADY EXISTING, NO NEED TO CREATE FURTHER  --\n\nselect * from agent_list_daily;  --# This table has agent list --#\nselect * from TEMP_FOR_RET_EV_DET_1_5MAY25;-- 8247767  Rows --# THIS TABLE IS TEMP TABLE FOR EV_RECHARGE_COM_DAILY FOR FOR MAY 1 TO 5 AS THE EV_RECHARGE_COM_DAILY TABLE IS VERY BIG --#\n\nSELECT * FROM RETAILERTYPE@DEALER RD\t\t\t--# THIS DMS TABLE HAS ALL RETAILER INFO --#\nWhere RD.NAME in ('BL FRANCHISE STORE','ENTERPRISE','SME DIRECT BDO'); --- 26,29,31 \t--#  THIS CONDITION FOR FINDING RETAILER TYPE TO EXCLUDE --#\n\n-- STEP 2: COMMISSION CALCULATION QUERY START --\n\n--drop table TEMP_FOR_RET_EV_DET_1_5MAY25 purge;\nCREATE TABLE TEMP_FOR_RET_EV_DET_1_5MAY25 AS   --# THIS IS TEMP TABLE FOR HOLDING RECHARGE DATA FROM ACCORDING TO SRF AS EV_RECHARGE_COM_DAILY TABLE IS LARGE --#\nselect * from EV_RECHARGE_COM_DAILY RECHARGE WHERE \n        RECHARGE.TOP_UP_DATE BETWEEN '1-MAY-25' AND '5-MAY-25'; -- 8247767  Rows        \n\n--drop table TEMP_FOR_RETAGENT_1_5MAY25 purge;\nCREATE TABLE TEMP_FOR_RETAGENT_1_5MAY25 AS    \t--# \tCREATED TEMP TABLE FOR HOLDING FILTER DATA RECHARGE WITH RETAILER INFO  ACCORDING TO SRF \t--#\nSELECT /*+ parallel(10) */ DISTINCT\n      MAPING.RETAILER_CODE,\n      MAPING.TOPUP_MSISDN RET_MSISDN,\n      MAPING.RETAILERTYPE\nFROM agent_list_daily MAPING\nINNER JOIN TEMP_FOR_RET_EV_DET_1_5MAY25 EVR ON MAPING.TOPUP_MSISDN=EVR.RETAILER_MSISDN\nWHERE DATA_DATE='5-MAY-25'\t\t\t\t\t\t\t\t\t\t--#  USED AGENT LIST OF  5-MAY-25 ACCORDING TO SRF --#\nAND MAPING.RETAILERTYPE not in (26,29,31);  --- 278732  Rows  --# EXCLUDED TYPE MENTION ON SRF --#\n\nSELECT * FROM TEMP_FOR_RETAGENT_1_5MAY25;-- 278732  Rows  --# CHECKING CREATED TEMP TABLE DATA --#\n--1915273989  87                          \n\n\n--drop table TEMP_FOR_RET_FCS_DET_1_5MAY25 purge;\nCREATE TABLE TEMP_FOR_RET_FCS_DET_1_5MAY25 AS          --# THIS IS 1ST TEMP DETAILS TABLE ACCORDING TO SRF --#\nWITH RET_WISE_ACHIEVEMENT AS (\n    SELECT AG.RETAILER_CODE,AG.RET_MSISDN,COUNT(RECHARGE.RECHARGE_AMOUNT) ACH,RECHARGE.RECHARGE_AMOUNT\n    FROM TEMP_FOR_RET_EV_DET_1_5MAY25 RECHARGE\n    INNER JOIN TEMP_FOR_RETAGENT_1_5MAY25 AG \n        ON AG.RET_MSISDN = RECHARGE.RETAILER_MSISDN\n    WHERE RECHARGE.TOP_UP_DATE BETWEEN '1-MAY-25' AND '5-MAY-25'        --# THIS DATE RANGE IS MENTION IN SRF --#\n        AND RECHARGE.RECHARGE_AMOUNT IN (32,74,79)\t\t\t\t\t\t--# THIS CONDITION ADDED AS SRF HAS THIS \"Deno: 32, 74, 79\" MENTION --#\n    GROUP BY AG.RETAILER_CODE, AG.RET_MSISDN,RECHARGE.RECHARGE_AMOUNT\n)\n,CALCULATE_COMMISSION AS (\n    SELECT RETAILER_CODE, RET_MSISDN,ACH,\n    CASE\t\t\t\t\t\t--# HERE THIS BLOCK IS ADDED AS SRF MENTIONED \n\t\t\t\t\t\t\t\t\t--\tUpon achieving Recharge 3 hit target with any of the selected denos, Retailer will be given BDT 1 for each BDT 32 & BDT74 recharge & BDT 2 for each BDT 79 recharge. --#\n        WHEN ACH>=3 AND RECHARGE_AMOUNT in (32,74) THEN ACH*1      \t\t\n        WHEN ACH>=3 AND RECHARGE_AMOUNT in (79) THEN ACH*2\n        ELSE 0\n    END COMMISSION\n    FROM RET_WISE_ACHIEVEMENT\t\n)\n\n--DROP TABLE TEMP_FOR_RET_FCS_DET2_1_5MAY25 PURGE;\nCREATE TABLE TEMP_FOR_RET_FCS_DET2_1_5MAY25 AS \t\t--# THIS IS 2ST TEMP DETAILS TABLE ACCORDING TO SRF  --#\n SELECT AG.RETAILER_CODE, RETAILER_MSISDN,RECHARGE.SUB_MSISDN,RECHARGE.RECHARGE_AMOUNT,RECHARGE.TOP_UP_DATE\n    FROM TEMP_FOR_RET_EV_DET_1_5MAY25 RECHARGE\n    INNER JOIN TEMP_FOR_RETAGENT_1_5MAY25 AG \n    ON AG.RET_MSISDN=RECHARGE.RETAILER_MSISDN\n    WHERE (RECHARGE.TOP_UP_DATE  BETWEEN '1-MAY-25' AND '5-MAY-25') AND RECHARGE.RECHARGE_AMOUNT IN (32,74,79);-- 28668  Rows  --# THIS DATE RANGE AND \"Deno: 32, 74, 79\" IS MENTION IN SRF --#\n\n-- STEP 3: VERIFYING CREATED TABLE DATA\n\nSELECT * FROM CALCULATE_COMMISSION;-- 15377  Rows\nSELECT SUM(COMMISSION) TOTAL_COMMISSION FROM CALCULATE_COMMISSION;-- 2831\n\nSELECT SUM(COMMISSION) FROM TEMP_FOR_RET_FCS_DET_1_5MAY25;-- 2831 TK\n\nSELECT * FROM TEMP_FOR_RET_FCS_DET_1_5MAY25; -- 24595  Rows\n \nSELECT * FROM TEMP_FOR_RET_FCS_DET2_1_5MAY25;-- 28668  Rows\n    \nSELECT * FROM EV_RECHARGE_COM_DAILY;\n\n\n--------------------------------- REPORT SETUP QUERY -----------------------------------------\n\n--STEP 4: PREPARE FOR REPORT PUBLISHING\n--REPORT_ID : 0011 (UPDATE WITH ACTUAL REPORT ID) \nSELECT * FROM COMMISSIONREPORT WHERE REPORTNAME = 'Retailer Deno Campaign_1st to 5th May25';\n-- BASE_CYCLE_ID : 0022  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'May_25'; --base month\n-- REPORT_CYCLE_ID : 0033 (UPDATE WITH ACTUAL REPORT CYCLE ID) --\nSELECT CYCLEREPORTID  FROM COMMISSIONCYCLEREPORTS where REPORTID = 7842 and  CYCLEID = 9954;--63794\n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM AD_HOC_DATA WHERE REPORT_CYCLE_ID = 63794;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 63794;\n--commit;\n\n-- INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT)\nSELECT /*+ parallel(16) */  AD_HOC_DATA_ID.nextval id, 63794 REPORT_CYCLE_ID, RETAILER_CODE, COMMISSION\nFROM (\nSELECT * FROM TEMP_FOR_RET_FCS_DET_1_5MAY25\n);\nCOMMIT;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 63794; -- 2831 TAKA\n\n --PUBLISH_CYCLE_ID : 0044  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jun_25 if today = 30-Jun-2025) --#\nSELECT CYCLEID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'May_25'; --Publish month 9954\n \n--STEP 5: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\nEXEC PROC_COMMISSION_DETAIL_SETUP('Retailer Deno Campaign_1st to 5th May25',9954,'TEMP_FOR_RET_FCS_DET_1_5MAY25','SUMMERY DETAIL','TEMP_FOR_RET_FCS_DET2_1_5MAY25','MSISDN DETAIL');\n \n--STEP : FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Retailer Deno Campaign_1st to 5th May25', 63794,'May_25', 'May_25',290, 1);\n\n"}
{"srf": "                      Service Request Number: 2016/0000\r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Sohanur Rahman Sumon\r\u0007\r\u0007Requesting Department: Digital Distribution \r\u0007Date: 30 ‚Äì Mar - 2025 \r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency                  :\r\u0007( Daily\t            ( Weekly\t       ( Monthly    (( Others: 16 Mar‚Äô25‚Äì 31 Mar‚Äô25\r\u0007\r\u0007Product Type Name    :\r\u0007( Prepaid         ( Postpaid            (  ( Others: All service class below 1000\r\u0007\r\u0007Recipient Type           :\r\u0007( Retailer ( Distributor  ( Field Force: (( Others: BL Self Care Channel (MYBL Channel)\r\u0007\r\u0007Recipient Description  : \r\u0007 ( SIM seller      (( top-up seller        ( Others: \r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Report Sharing Slot    :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title:  Commission for MyBL Hourly_16th Mar25 to 31st Mar25\r\u0007\r\u0007Report Description:  BL-Self channel (MyBL) will receive deno and date specific commission 649, 548, 649, 698, 798\r\u0007\r\u0007        ( Effective Date: 16-Mar-2025        ( End Date: 31-Mar-2025     \r\u0007\r\u0007Detail & Conditions: \rBL-Self channel (MyBL) will receive deno and date specific commission 649, 548, 649, 698, 798 as per below table:\r\rStart Date\r\u0007End Date\r\u0007Time\r\u0007Deno\r\u0007CB\r\u0007\r\u000716-Mar\r\u000716-Mar\r\u00073:00pm-8:00pm\r\u0007649\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u00073:00pm-8:00pm\r\u0007548\r\u000788.89\r\u0007\r\u000717-Mar\r\u000717-Mar\r\u00073:00pm-8:00pm\r\u0007649\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u00073:00pm-8:00pm\r\u0007548\r\u000788.89\r\u0007\r\u000718-Mar\r\u000718-Mar\r\u000712:00am-1:59pm\r\u0007698\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u000712:00am-1:59pm\r\u0007798\r\u0007200.00\r\u0007\r\u0007\r\u0007\r\u00072:00pm-11:59pm\r\u0007698\r\u0007133.33\r\u0007\r\u0007\r\u0007\r\u00072:00pm-11:59pm\r\u0007798\r\u0007222.22\r\u0007\r\u0007\r\u0007\r\u00073:00pm-8:00pm\r\u0007649\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u00073:00pm-8:00pm\r\u0007548\r\u000788.89\r\u0007\r\u000719-Mar\r\u000719-Mar\r\u000712:00am-1:59pm\r\u0007698\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u000712:00am-1:59pm\r\u0007798\r\u0007200.00\r\u0007\r\u0007\r\u0007\r\u00072:00pm-11:59pm\r\u0007698\r\u0007133.33\r\u0007\r\u0007\r\u0007\r\u00072:00pm-11:59pm\r\u0007798\r\u0007222.22\r\u0007\r\u0007\r\u0007\r\u00073:00pm-8:00pm\r\u0007649\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u00073:00pm-8:00pm\r\u0007548\r\u000788.89\r\u0007\r\u000720-Mar\r\u000720-Mar\r\u000712:00am-1:59pm\r\u0007698\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u000712:00am-1:59pm\r\u0007798\r\u0007200.00\r\u0007\r\u0007\r\u0007\r\u00072:00pm-11:59pm\r\u0007698\r\u0007133.33\r\u0007\r\u0007\r\u0007\r\u00072:00pm-11:59pm\r\u0007798\r\u0007222.22\r\u0007\r\u0007\r\u0007\r\u00073:00pm-8:00pm\r\u0007649\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u00073:00pm-8:00pm\r\u0007548\r\u000788.89\r\u0007\r\u000721-Mar\r\u000721-Mar\r\u00073:00pm-8:00pm\r\u0007649\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u00073:00pm-8:00pm\r\u0007548\r\u000788.89\r\u0007\r\u000722-Mar\r\u000722-Mar\r\u00073:00pm-8:00pm\r\u0007649\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u00073:00pm-8:00pm\r\u0007548\r\u000788.89\r\u0007\r\u000723-Mar\r\u000723-Mar\r\u000712:00am-1:59pm\r\u0007698\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u000712:00am-1:59pm\r\u0007798\r\u0007200.00\r\u0007\r\u0007\r\rConditions:\rI-top sales mean sales to end customer not lifting.\rCustomers can get cashback multiple times during the campaign period\rHourly campaigns will get 2nd highest priority. Transactions of segmented campaigns will not be considered here and transactions of these campaigns will not be considered during calculating commission for regular, and special day campaigns of MyBL App\rNeed separate cashback commission for each retailer MSISDN\rOnly MyBL App recharge will be considered \rFor 01967021235, first 5 character of Reference Id will be ‚ÄòBLAPP‚Äô (example: ‚ÄòBLAPPXXXXXXXXXX‚Äô)\rRecharge (retailer to subscriber) must be done from below list of retailer EV MSISDN:\r\rCHANNEL_TYPE\r\u0007PARTNER_NAMES\r\u0007RETAILER_MSISDN\r\u0007\r\u0007Online\r\u0007BL Self-channels\r\u00071967021235\r\u0007\r\u0007Details format:\rRET_MSISDN\r\u0007RECHARGE_AMOUNT\r\u0007HIT\r\u0007TOTAL_RECHARGE\r\u0007COMMISSION_AMOUNT\r\u0007\r\u0007¬†\r\u0007¬†\r\u0007¬†\r\u0007¬†\r\u0007¬†\r\u0007\r\u0007\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù mark below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007  ( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007   ( SAF\r\u0007a) DMS Post Date\r\u00077 days within Activation \r\u0007\r\u0007\r\u0007b) Vetting Date\r\u000714th date of Activation following month\r\u0007\r\u0007   ( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007    (  ( Recharge\r\u0007All Valid Recharges\r\u0007(Considering the valid recharge. Valid recharge means ‚Äì EV/I-TOP)\r\u0007\r\u0007   ( Usage\r\u0007Valid Usage\r\u0007Any usage ‚Äì MOC, SMSMO, MTC, SMSMT, GPRS, MMS, Partial VAS usage (as per IN medication CDR consider) and GRPS recharge, bundle recharge.\r\u0007\r\u0007   ( Disconnection\r\u0007N/A\r\u0007Latest data up to report maturity date\r\u0007\r\u0007   ( Product\r\u0007N/A\r\u0007Any connections except Data SIM (MMSTDATA) and EV SIM. \r\u0007\r\u0007   ( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007  ( ( Other:‚Ä¶‚Ä¶‚Ä¶‚Ä¶.\r\u0007i-top up\r\u0007\r\u0007\r\u0007Other Remarks:\r\r\u0007\r\u0007Input Data Source: \rSales Support :       ( Target               ( Channel Mapping       ( Issue Detail        ( Other‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\rIT                    :    (( IT SC                ( IT BI           ( DWH         ( TABS           ( Other: EV Platform\rOther               :    ( ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:  1 - Mar -2025      \r\r\u0007Report Published Date:  As per Tracker\r\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r\r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\u0007\r\u0007\rApproval:\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r", "sql": "--------------------------------- REPORT HELPER QUERY -----------------------------------------\n\n-- STEP 1: VERIFY SUPPORTING DATA & THIS TABLE IS ALREADY EXISTING, NO NEED TO CREATE FURTHER  --\nSELECT * FROM TEMP_FOR_MYBL_HOURLY_31MAR25;--27  Rows; \n--DROP TABLE TEMP_FOR_MYBL_HOURLY_31MAR25 PURGE;\n\nSELECT * FROM MY_BL_RECHARGE_MONTHLY_16_31MAR25; --115907  Rows; --# THIS TABLE IS TEMP TABLE FOR EV RECHARGE TABLE FOR MAR 25 AS THE EV RECHARGE TABLE IS VERY BIG --#\nSELECT * FROM TEMP_FOR_D2_MYBL_HO_16_31MAR25; --6063  Rows; --# THIS IS 2ND DETAILS TABLE FOR MYBL HOURLY WHERE WE KEEP FLAG WISE DATA --#\nSELECT * FROM TEMP_FOR_D1_MYBL_HO_16_31MAR25; --5  Rows; --# THIS IS 1ST DETAILS TABLE FOR MYBL HOURLY, COMMISSION AMOUNT IS CALCULATED IN THIS TABLE --#\n\n-- STEP 2: COMMISSION CALCULATION QUERY START --\n--DROP TABLE MY_BL_RECHARGE_MONTHLY_16_31MAR25 PURGE;\nCREATE TABLE MY_BL_RECHARGE_MONTHLY_16_31MAR25 AS\nSELECT /*+ PARALLEL(10)*/ MY_BL_RECHARGE_MONTHLY_SEQ.NEXTVAL ID, RETAILER_MSISDN, SUB_MSISDN, TOP_UP_DATE, TOP_UP_TIME, RECHARGE_AMOUNT, SERVICE_TYPE, REFERENCE_ID\nFROM EV_RECHARGE_COM_DAILY \nWHERE REFERENCE_ID LIKE 'BLAPP%' --# THIS LOGIC IS FOR 6.\tFor 01967021235, first 5 character of Reference Id will be ÔøΩBLAPPÔøΩ (example: ÔøΩBLAPPXXXXXXXXXXÔøΩ) --#\nAND TOP_UP_DATE BETWEEN '16-Mar-25' AND '31-Mar-25' --# THIS LOGIC IS FOR Effective Date: 16-Mar-2025         End Date: 31-Mar-2025      --#\nand SERVICE_CLASS_ID <1000; --# THIS LOGIC IS FOR Others: All service class below 1000 --#\n\nselect * from MY_BL_RECHARGE_MONTHLY_16_31MAR25;--71730  Rows\nALTER TABLE MY_BL_RECHARGE_MONTHLY_16_31MAR25 ADD (COMMISSION_FLAG VARCHAR(50), COMMISSION_AMOUNT NUMBER, REMARKS VARCHAR(50)) ;\n\n--DROP TABLE TEMP_FOR_D2_MYBL_HO_16_31MAR25 PURGE;\n--CREATE TABLE TEMP_FOR_D2_MYBL_HO_16_31MAR25 AS --# THIS IS 2ND DETAILS TABLE FOR MYBL HOURLY WHERE WE KEEP FLAG WISE DATA --#\n--DROP TABLE TEMP_FOR_D1_MYBL_HO_16_31MAR25 PURGE;\n--CREATE TABLE TEMP_FOR_D1_MYBL_HO_16_31MAR25 AS --# THIS IS 1ST DETAILS TABLE FOR MYBL HOURLY, COMMISSION AMOUNT IS CALCULATED IN THIS TABLE --#\nWITH RECHARGE_DETAIL AS\n(\n    SELECT /*+ PARALLEL(10)*/ 'Online' DD_CODE,ID, RETAILER_MSISDN RET_MSISDN,RECHARGE_AMOUNT,COMMISSION,TOP_UP_DATE,TOP_UP_TIME\n    FROM MY_BL_RECHARGE_MONTHLY_16_31MAR25 EV \n    INNER JOIN TEMP_FOR_MYBL_HOURLY_31MAR25 DL ON RECHARGE_AMOUNT=DENO \n    AND TO_DATE(SUBSTR(TOP_UP_DATE, 0,10) || TOP_UP_TIME,  'DD-MON-YY HH24:MI:SS')  BETWEEN TO_DATE(START_DATE,  'DD-MON-YY HH24:MI:SS') AND TO_DATE(END_DATE,  'DD-MON-YY HH24:MI:SS')\n    WHERE RETAILER_MSISDN IN('01967021235') --# THIS LOGIC IS FOR THE BELOW SRF CONDITION --#\n    \n    --# 7.\tRecharge (retailer to subscriber) must be done from below list of retailer EV MSISDN:\n     --   CHANNEL_TYPE\tPARTNER_NAMES\tRETAILER_MSISDN\n     --   Online\tBL Self-channels\t1967021235 --#\n\t \n    AND (COMMISSION_FLAG IS NULL OR COMMISSION_FLAG IN ('HOURLY')) --#  THIS LOGIC IS FOR THE 3RD SRF CONDITION (3.\tHourly campaigns will get 2nd highest priority. Transactions of segmented campaigns will not be considered here and transactions of these campaigns will not be considered during calculating commission for regular, and special day campaigns of MyBL App) --#\n)\n--SELECT * FROM RECHARGE_DETAIL; --6063  Rows; --# CREATE THE 2ND DETAILS TABLE FROM HERE (TEMP_FOR_D2_MYBL_HO_16_31MAR25) --#\n,RETAILER_WISE_HIT_COUNT AS (\n    SELECT DD_CODE,RET_MSISDN, RECHARGE_AMOUNT, COUNT(1) HIT, SUM(RECHARGE_AMOUNT) TOTAL_RECHARGE, SUM(COMMISSION) COMMISSION_AMOUNT\n    FROM RECHARGE_DETAIL\n    GROUP BY DD_CODE,RET_MSISDN, RECHARGE_AMOUNT\n)\n--SELECT  * FROM RETAILER_WISE_HIT_COUNT; -- 5  Rows; --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_D1_MYBL_HO_16_31MAR25) --#\nSELECT DD_CODE, SUM(RECHARGE_AMOUNT*HIT) TOTAL_RECHARGE, SUM(COMMISSION_AMOUNT)  COMMISSION_AMOUNT\nFROM RETAILER_WISE_HIT_COUNT\nGROUP BY DD_CODE;\n\n-- STEP 3: OVERLOOKING CREATED TABLE DATA\nselect * from TEMP_FOR_D1_MYBL_HO_16_31MAR25; --4 Rows\nselect SUM(COMMISSION_AMOUNT) from TEMP_FOR_D1_MYBL_HO_16_31MAR25;-- 1331801.06 TK\n\n-- STEP 4: MERGE TEMP TABLE OF RECHARGE DATA USING 2ND DETAILS TABLE FOR SEPARATING CAMPAIGN WISE TRANSACTIONS \nMERGE INTO MY_BL_RECHARGE_MONTHLY_16_31MAR25 T\nUSING TEMP_FOR_D2_MYBL_HO_16_31MAR25 S\nON (T.ID=S.ID)\nWHEN MATCHED THEN\n    UPDATE SET T.COMMISSION_FLAG='HOURLY',\n    T.COMMISSION_AMOUNT = S.COMMISSION;\nCOMMIT;\n\nSELECT COMMISSION_FLAG, COUNT(1),SUM(COMMISSION_AMOUNT) FROM MY_BL_RECHARGE_MONTHLY_16_31MAR25 GROUP BY COMMISSION_FLAG;\n--# Sample output:\n-- \"REGULAR\"     | XX,XXX   | XXX,XXX.XX\n-- \"HOURLY\"      | 6,063    | 476,868.5 --#\n\n--------------------------------- REPORT SETUP QUERY -----------------------------------------\n\n--STEP 5: PREPARE FOR REPORT PUBLISHING\n--REPORT_ID : 0011 (UPDATE WITH ACTUAL REPORT ID) \nSELECT REPORTID REPORT_ID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Commission for MyBL Hourly_16th Mar25 to 31st Mar25';\n-- BASE_CYCLE_ID : 0022  (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID BASE_CYCLE_ID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Mar_25'; --# commission end date (BASE_CYCLE/REPORT_MONTH): 31-Mar-2025 ? 'Mar_25' --#\n-- REPORT_CYCLE_ID : 0033 (UPDATE WITH ACTUAL REPORT CYCLE ID) --\nSELECT REPORT_CYCLE_ID,* FROM COMMISSIONCYCLEREPORTS where REPORTID = 0011 and  CYCLEID = 0022; \n\n-- CHECK ADHOC TABLE DATA --\nSELECT * FROM ad_hoc_data where REPORT_CYCLE_ID = 0033;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 0033;\n--commit;\n\n-- INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA --\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT,AMOUNT_TYPE_ID,AMOUNT)\nSELECT AD_HOC_DATA_ID.NEXTVAL ID, 0033 REPORT_CYCLE_ID, DD_CODE, COMMISSION_AMOUNT,1,TOTAL_RECHARGE\nFROM (\nSELECT DD_CODE, SUM(RECHARGE_AMOUNT*HIT) TOTAL_RECHARGE, SUM(COMMISSION_AMOUNT)  COMMISSION_AMOUNT\nFROM TEMP_FOR_D1_MYBL_HO_16_31MAR25\nGROUP BY DD_CODE\n);\ncommit;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 0033; --  476868.5  \n\n--PUBLISH_CYCLE_ID : 0044  (UPDATE WITH ACTUAL PUBLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jun_25 if today = 30-Jun-2025) --#\nSELECT CYCLEID PUBLISH_CYCLE_ID FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Apr_25'; --PUBLISH_CYCLE(REPORT_PUBLISH_MONTH)\n\n--STEP 6: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PUBLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>);\nEXEC PROC_COMMISSION_DETAIL_SETUP('Commission for MyBL Hourly_16th Mar25 to 31st Mar25',0044,'TEMP_FOR_D1_MYBL_HO_16_31MAR25','Deno Details');\n\n--STEP 7: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Commission for MyBL Hourly_16th Mar25 to 31st Mar25', 0033,'Mar_25', 'Apr_25',290, 1); --# FOLLOW THE BASE_CYCLE & PUBLISH_CYCLE SPECIAL INSTRUCTION HERE ALSO --#\n"}
{"srf": "                      Service Request Number: 2016/0000\r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Sohanur Rahman Sumon\r\u0007\r\u0007Requesting Department: Digital Distribution \r\u0007Date: 30 ‚Äì Mar - 2025 \r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency                  :\r\u0007( Daily\t            ( Weekly\t       ( Monthly    (( Others: 16 Mar‚Äô25‚Äì 31 Mar‚Äô25\r\u0007\r\u0007Product Type Name    :\r\u0007( Prepaid         ( Postpaid             ( ( Others: All service class below 1000\r\u0007\r\u0007Recipient Type           :\r\u0007( Retailer ( Distributor  ( Field Force: (( Others: BL Self Care Channel (MYBL Channel)\r\u0007\r\u0007Recipient Description  : \r\u0007 ( SIM seller      (( top-up seller        ( Others: \r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Report Sharing Slot    :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title:  Commission for MyBL Hourly_Portonics_16th Mar25 to 31st Mar25\r\u0007\r\u0007Report Description:  BL-Self channel (MyBL) will receive deno and date specific commission 649, 548, 649, 698, 798\r\u0007\r\u0007        ( Effective Date: 16-Mar-2025        ( End Date: 31-Mar-2025     \r\u0007\r\u0007Detail & Conditions: \rBL-Self channel (MyBL) will receive deno and date specific commission 649, 548, 649, 698, 798 as per below table:\r\rStart Date\r\u0007End Date\r\u0007Time\r\u0007Deno\r\u0007CB\r\u0007\r\u000716-Mar\r\u000716-Mar\r\u00073:00pm-8:00pm\r\u0007649\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u00073:00pm-8:00pm\r\u0007548\r\u000788.89\r\u0007\r\u000717-Mar\r\u000717-Mar\r\u00073:00pm-8:00pm\r\u0007649\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u00073:00pm-8:00pm\r\u0007548\r\u000788.89\r\u0007\r\u000718-Mar\r\u000718-Mar\r\u000712:00am-1:59pm\r\u0007698\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u000712:00am-1:59pm\r\u0007798\r\u0007200.00\r\u0007\r\u0007\r\u0007\r\u00072:00pm-11:59pm\r\u0007698\r\u0007133.33\r\u0007\r\u0007\r\u0007\r\u00072:00pm-11:59pm\r\u0007798\r\u0007222.22\r\u0007\r\u0007\r\u0007\r\u00073:00pm-8:00pm\r\u0007649\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u00073:00pm-8:00pm\r\u0007548\r\u000788.89\r\u0007\r\u000719-Mar\r\u000719-Mar\r\u000712:00am-1:59pm\r\u0007698\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u000712:00am-1:59pm\r\u0007798\r\u0007200.00\r\u0007\r\u0007\r\u0007\r\u00072:00pm-11:59pm\r\u0007698\r\u0007133.33\r\u0007\r\u0007\r\u0007\r\u00072:00pm-11:59pm\r\u0007798\r\u0007222.22\r\u0007\r\u0007\r\u0007\r\u00073:00pm-8:00pm\r\u0007649\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u00073:00pm-8:00pm\r\u0007548\r\u000788.89\r\u0007\r\u000720-Mar\r\u000720-Mar\r\u000712:00am-1:59pm\r\u0007698\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u000712:00am-1:59pm\r\u0007798\r\u0007200.00\r\u0007\r\u0007\r\u0007\r\u00072:00pm-11:59pm\r\u0007698\r\u0007133.33\r\u0007\r\u0007\r\u0007\r\u00072:00pm-11:59pm\r\u0007798\r\u0007222.22\r\u0007\r\u0007\r\u0007\r\u00073:00pm-8:00pm\r\u0007649\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u00073:00pm-8:00pm\r\u0007548\r\u000788.89\r\u0007\r\u000721-Mar\r\u000721-Mar\r\u00073:00pm-8:00pm\r\u0007649\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u00073:00pm-8:00pm\r\u0007548\r\u000788.89\r\u0007\r\u000722-Mar\r\u000722-Mar\r\u00073:00pm-8:00pm\r\u0007649\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u00073:00pm-8:00pm\r\u0007548\r\u000788.89\r\u0007\r\u000723-Mar\r\u000723-Mar\r\u000712:00am-1:59pm\r\u0007698\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u000712:00am-1:59pm\r\u0007798\r\u0007200.00\r\u0007\r\u0007\r\r\rConditions:\rI-top sales mean sales to end customer not lifting.\rCustomers can get cashback multiple times during the campaign period\rHourly campaigns will get 2nd highest priority. Transactions of segmented campaigns will not be considered here and transactions of these campaigns will not be considered during calculating commission for regular, and special day campaigns of MyBL App\rNeed separate cashback commission for each retailer MSISDN\rOnly MyBL App recharge will be considered \rRecharge (retailer to subscriber) must be done from below list of retailer EV MSISDN:\rCHANNEL_TYPE\r\u0007PARTNER_NAMES\r\u0007RETAILER_MSISDN\r\u0007\r\u0007Online\r\u0007BL Self-channels\r\u00071953348398\r\u0007\r\u0007Details format:\rRET_MSISDN\r\u0007RECHARGE_AMOUNT\r\u0007HIT\r\u0007TOTAL_RECHARGE\r\u0007COMMISSION_AMOUNT\r\u0007\r\u0007¬†\r\u0007¬†\r\u0007¬†\r\u0007¬†\r\u0007¬†\r\u0007\r\u0007\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù mark below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007  ( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007   ( SAF\r\u0007a) DMS Post Date\r\u00077 days within Activation \r\u0007\r\u0007\r\u0007b) Vetting Date\r\u000714th date of Activation following month\r\u0007\r\u0007   ( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007    (  ( Recharge\r\u0007All Valid Recharges\r\u0007(Considering the valid recharge. Valid recharge means ‚Äì EV/I-TOP)\r\u0007\r\u0007   ( Usage\r\u0007Valid Usage\r\u0007Any usage ‚Äì MOC, SMSMO, MTC, SMSMT, GPRS, MMS, Partial VAS usage (as per IN medication CDR consider) and GRPS recharge, bundle recharge.\r\u0007\r\u0007   ( Disconnection\r\u0007N/A\r\u0007Latest data up to report maturity date\r\u0007\r\u0007   ( Product\r\u0007N/A\r\u0007Any connections except Data SIM (MMSTDATA) and EV SIM. \r\u0007\r\u0007   ( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007  ( ( Other:‚Ä¶‚Ä¶‚Ä¶‚Ä¶.\r\u0007i-top up\r\u0007\r\u0007\r\u0007Other Remarks:\r\r\u0007\r\u0007Input Data Source: \rSales Support :       ( Target               ( Channel Mapping       ( Issue Detail        ( Other‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\rIT                    :    (( IT SC                ( IT BI           ( DWH         ( TABS           ( Other: EV Platform\rOther               :    ( ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data: 1-Mar-2025      \r\r\u0007Report Published Date:  As per Tracker\r\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r\r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\u0007\r\u0007\rApproval:\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r", "sql": "\n--------------------------------- REPORT HELPER QUERY -----------------------------------------\n\n-- STEP 1: VERIFY SUPPORTING DATA & THIS TABLE IS ALREADY EXISTING, NO NEED TO CREATE FURTHER --\nSELECT * FROM TEMP_FOR_MYBL_HOURLY_31MAR25;-- 28  Rows; --# SUPPORTING DATA FROM SRF UPLOADED IN THIS TABLE --#\n--DROP TABLE TEMP_FOR_MYBL_HOURLY_31MAR25 PURGE;\n\nSELECT * FROM MY_BL_POT_RECHARGE_MONTHLY_31MAR25;-- 53701375  Rows --# THIS TABLE IS TEMP TABLE FOR EV RECHARGE TABLE FOR MAR 25 AS THE EV RECHAGE TABLE IS VERY BIG --#\nSELECT * FROM TEMP_FOR_D2_MYBL_HO_PO_31MAR25;-- 7380  Rows --# THIS IS 2ND DETAILS TABLE FOR MYBL HOURLY PORTONICS WHERE WE KEEP FLAG WISE DATA --#\nSELECT * FROM TEMP_FOR_D1_MYBL_HO_PO_31MAR25;-- 4  Rows --# THIS IS 1ST DETAILS TABLE FOR MYBL HOURLY PORTONICS, COMMISSION AMOUNT IS CALCULATED IN THIS TABLE --#\n\n----- STEP 2: COMMISSION CALCULATION QUERY START\n--DROP TABLE MY_BL_POT_RECHARGE_MONTHLY_31MAR25 PURGE;\n--CREATE TABLE MY_BL_POT_RECHARGE_MONTHLY_31MAR25 AS\nSELECT /*+ PARALLEL(10)*/ MY_BL_RECHARGE_MONTHLY_SEQ.NEXTVAL ID, RETAILER_MSISDN, SUB_MSISDN, TOP_UP_DATE, TOP_UP_TIME, RECHARGE_AMOUNT, SERVICE_TYPE, REFERENCE_ID\nFROM EV_RECHARGE_COM_DAILY\nWHERE TOP_UP_DATE BETWEEN '16-Mar-25' AND '31-Mar-25' --# THIS LOGIC IS FOR Effective Date: 16-Mar-2025         End Date: 31-Mar-2025   --#\nAND SERVICE_CLASS_ID < 1000; --# THIS LOGIC IS FOR Others: All service class below 1000 --#\n\nselect * from MY_BL_POT_RECHARGE_MONTHLY_31MAR25;--71730  Rows\nALTER TABLE MY_BL_POT_RECHARGE_MONTHLY_31MAR25 ADD (COMMISSION_FLAG VARCHAR(50), COMMISSION_AMOUNT NUMBER, REMARKS VARCHAR(50)) ;\n\n\n--DROP TABLE TEMP_FOR_D2_MYBL_HO_PO_31MAR25 PURGE;\n--CREATE TABLE TEMP_FOR_D2_MYBL_HO_PO_31MAR25 AS --# THIS IS 2ND DETAILS TABLE FOR MYBL HOURLY PORTONICS WHERE WE KEEP FLAG WISE DATA --#\n--DROP TABLE TEMP_FOR_D1_MYBL_HO_PO_31MAR25 PURGE;\n--CREATE TABLE TEMP_FOR_D1_MYBL_HO_PO_31MAR25 AS --# THIS IS 1ST DETAILS TABLE FOR MYBL HOURLY PORTONICS, COMMISSION AMOUNT IS CALCULATED IN THIS TABLE --#\nWITH RECHARGE_DETAIL AS\n(\n    SELECT /*+ PARALLEL(10)*/ 'Online' DD_CODE,ID, RETAILER_MSISDN RET_MSISDN,RECHARGE_AMOUNT,COMMISSION,TOP_UP_DATE\n    FROM MY_BL_POT_RECHARGE_MONTHLY_31MAR25 EV \n    INNER JOIN TEMP_FOR_MYBL_HOURLY_31MAR25 DL ON RECHARGE_AMOUNT=DENO \n    AND TO_DATE(SUBSTR(TOP_UP_DATE, 0,10) || TOP_UP_TIME,  'DD-MON-YY HH24:MI:SS')  BETWEEN TO_DATE(START_DATE,  'DD-MON-YY HH24:MI:SS') AND TO_DATE(END_DATE,  'DD-MON-YY HH24:MI:SS')\n    WHERE RETAILER_MSISDN='01953348398' --# THIS LOGIC IS FOR THE BELOW SRF CONDITION  --#\n\n    --# 7.\tRecharge (retailer to subscriber) must be done from below list of retailer EV MSISDN:\n    --    CHANNEL_TYPE\tPARTNER_NAMES\tRETAILER_MSISDN\n    --    Online\tPortonics\t01953348398\n    --#\n    AND (COMMISSION_FLAG IS NULL OR COMMISSION_FLAG IN ('HOURLY')) --#  THIS LOGIC IS FOR THE 3RD SRF CONDITION (3.Hourly campaigns will get 2nd highest priority. Transactions of segmented campaigns will not be considered here and transactions of these campaigns will not be considered during calculating commission for special day and regular campaigns of MyBL App) --#\n)\n--SELECT * FROM RECHARGE_DETAIL; -- 7380  Rows; --# CREATE THE 2ND DETAILS TABLE FROM HERE (TEMP_FOR_D2_MYBL_HO_PO_31MAR25) --#\n,RETAILER_WISE_HIT_COUNT AS (\n    SELECT DD_CODE,RET_MSISDN, RECHARGE_AMOUNT, COUNT(1) HIT, SUM(RECHARGE_AMOUNT) TOTAL_RECHARGE, SUM(COMMISSION) COMMISSION_AMOUNT\n    FROM RECHARGE_DETAIL\n    GROUP BY DD_CODE,RET_MSISDN, RECHARGE_AMOUNT\n)\nSELECT  * FROM RETAILER_WISE_HIT_COUNT;-- 4  Rows; --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_D1_MYBL_HO_PO_31MAR25) --#\nSELECT DD_CODE, SUM(RECHARGE_AMOUNT*HIT) TOTAL_RECHARGE, SUM(COMMISSION_AMOUNT)  COMMISSION_AMOUNT\nFROM RETAILER_WISE_HIT_COUNT\nGROUP BY DD_CODE;\n\n--STEP 3: OVERLOOKING CREATED TABLE DATA\nselect * from TEMP_FOR_D1_MYBL_HO_PO_31MAR25;-- 4  Rows\nselect SUM(COMMISSION_AMOUNT) from TEMP_FOR_D1_MYBL_HO_PO_31MAR25;-- 1331801.06 TK\n\n--STEP 4: MERGE TEMP TABLE OF RECHARGE DATA USING 2ND DETAILS TABLE FOR SEPERATING CAMPAIGN WISE TRANSACTIONS\nMERGE INTO MY_BL_POT_RECHARGE_MONTHLY_31MAR25 T\nUSING TEMP_FOR_D2_MYBL_HO_PO_31MAR25 S\nON (T.ID=S.ID)\nWHEN MATCHED THEN\n    UPDATE SET T.COMMISSION_FLAG='HOURLY',\n    T.COMMISSION_AMOUNT = S.COMMISSION;\nCOMMIT;\n\nSELECT COMMISSION_FLAG, COUNT(1),SUM(COMMISSION_AMOUNT) FROM MY_BL_POT_RECHARGE_MONTHLY_31MAR25 GROUP BY COMMISSION_FLAG;\n--# Sample output:\n-- \"REGULAR\"     | XX,XXX   | XXX,XXX.XX\n-- \"HOURLY\"      | 7,380    | 1,331,801.06 --#\n\n--------------------------------- REPORT SETUP QUERY -----------------------------------------\n\n--STEP 5: PREPARE FOR REPORT PUBLISHING\n--REPORT_ID : 0011 (UPDATE WITH ACTUAL REPORT ID)\nSELECT REPORTID REPORT_ID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Commission for MyBL Hourly_Portonics_16th Mar25 to 31st Mar25';\n--BASE_CYCLE_ID : 0022 (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID BASE_CYCLE_ID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Mar_25'; --# BASE_CYCLE(REPORT_MONTH) -- commission end date (BASE_CYCLE/REPORT_MONTH): 31-Mar-2025 ? 'Mar_25' --#\n--REPORT_CYCLE_ID : 0033 (UPDATE WITH ACTUAL REPORT CYCLE ID)\nSELECT REPORT_CYCLE_ID,* FROM COMMISSIONCYCLEREPORTS where REPORTID = 0011 and  CYCLEID = 0022; \n\n--CHECK ADHOC TABLE DATA\nSELECT * FROM ad_hoc_data where REPORT_CYCLE_ID = 0033;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 0033;\n--commit;\n\n--INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT,AMOUNT_TYPE_ID,AMOUNT)\nSELECT AD_HOC_DATA_ID.NEXTVAL ID, 0033 REPORT_CYCLE_ID, DD_CODE, COMMISSION_AMOUNT,1,TOTAL_RECHARGE\nFROM (\nSELECT DD_CODE, SUM(RECHARGE_AMOUNT*HIT) TOTAL_RECHARGE, SUM(COMMISSION_AMOUNT)  COMMISSION_AMOUNT\nFROM TEMP_FOR_D1_MYBL_HO_PO_31MAR25\nGROUP BY DD_CODE\n);\ncommit;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 0033; --  1331801.06  \n\n--PURLISH_CYCLE_ID : 0044 (UPDATE WITH ACTUAL PURLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jun_25 if today = 30-Jun-2025) --#\nSELECT CYCLEID PURLISH_CYCLE_ID FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Apr_25'; --PURLISH_CYCLE(REPORT_PUBLISH_MONTH)\n\n\n--STEP 6: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--# PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PURLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>); --#\nEXEC PROC_COMMISSION_DETAIL_SETUP('Commission for MyBL Hourly_Portonics_16th Mar25 to 31st Mar25',0044,'TEMP_FOR_D1_MYBL_HO_PO_31MAR25','Deno Details');\n\n\n--STEP 7: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Commission for MyBL Hourly_Portonics_16th Mar25 to 31st Mar25', 0033,'Mar_25', 'Apr_25',290, 1); --# FOLLOW THE BASE_CYCLE & PUBLISH_CYCLE SPECIAL INSTRUCTION HERE ALSO --#\n"}
{"srf": "                      Service Request Number: 2016/0000\r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Sohanur Rahman Sumon\r\u0007\r\u0007Requesting Department: Digital Distribution \r\u0007Date: 30 - Mar - 2025\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency                  :\r\u0007( Daily\t            ( Weekly\t       ( Monthly    (( Others: 16 Mar‚Äô25 ‚Äì 31 Mar‚Äô25\r\u0007\r\u0007Product Type Name    :\r\u0007( Prepaid         ( Postpaid            (  ( Others: All service class below 1000\r\u0007\r\u0007Recipient Type           :\r\u0007( Retailer ( Distributor  ( Field Force: (( Others: BL Self Care Channel (MYBL Channel)\r\u0007\r\u0007Recipient Description  : \r\u0007 ( SIM seller      (( top-up seller        ( Others: \r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Report Sharing Slot    :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title:  Commission for MyBL Special Day_16th Mar25 to 31st Mar25\r\u0007\r\u0007Report Description:  BL-Self channel (MyBL) will receive deno and date specific commission 699, 799, 307, 698, 798, 998, 397\r\u0007\r\u0007        ( Effective Date: 16-Mar-2025     ( End Date: 31-Mar-2025     \r\u0007\r\u0007Detail & Conditions: \rBL-Self channel (MyBL) will receive deno 699, 799, 307, 698, 798, 998, 397 and date specific commission as per below table: \r\rStart Date\r\u0007End Date\r\u0007Deno\r\u0007Cashback\r\u0007\r\u000716-Mar\r\u000716-Mar\r\u0007699\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007200.00\r\u0007\r\u0007\r\u0007\r\u0007307\r\u000763.33\r\u0007\r\u0007\r\u0007\r\u0007698\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007798\r\u0007222.22\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007277.78\r\u0007\r\u000717-Mar\r\u000717-Mar\r\u0007699\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007200.00\r\u0007\r\u0007\r\u0007\r\u0007397\r\u000785.55\r\u0007\r\u0007\r\u0007\r\u0007698\r\u0007133.33\r\u0007\r\u0007\r\u0007\r\u0007798\r\u0007222.22\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007277.78\r\u0007\r\u000718-Mar\r\u000718-Mar\r\u0007699\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007307\r\u000763.33\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007200.00\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007277.78\r\u0007\r\u000719-Mar\r\u000719-Mar\r\u0007699\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007397\r\u000785.55\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007200.00\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007277.78\r\u0007\r\u000720-Mar\r\u000720-Mar\r\u0007699\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007307\r\u000763.33\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007200.00\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007277.78\r\u0007\r\u000721-Mar\r\u000721-Mar\r\u0007699\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007200.00\r\u0007\r\u0007\r\u0007\r\u0007307\r\u000763.33\r\u0007\r\u0007\r\u0007\r\u0007698\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007798\r\u0007222.22\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007311.11\r\u0007\r\u000722-Mar\r\u000722-Mar\r\u0007699\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007200.00\r\u0007\r\u0007\r\u0007\r\u0007397\r\u000785.55\r\u0007\r\u0007\r\u0007\r\u0007698\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007798\r\u0007222.22\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007311.11\r\u0007\r\u000723-Mar\r\u000723-Mar\r\u0007699\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007307\r\u000763.33\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007200.00\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007277.78\r\u0007\r\u000724-Mar\r\u000724-Mar\r\u0007699\r\u0007133.33\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007397\r\u000766.67\r\u0007\r\u0007\r\u0007\r\u0007698\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007798\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007222.22\r\u0007\r\u000725-Mar\r\u000725-Mar\r\u0007699\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007307\r\u000730.00\r\u0007\r\u0007\r\u0007\r\u0007798\r\u0007222.22\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007222.22\r\u0007\r\u000726-Mar\r\u000726-Mar\r\u0007699\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007397\r\u000774.44\r\u0007\r\u0007\r\u0007\r\u0007798\r\u0007222.22\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007222.22\r\u0007\r\u000727-Mar\r\u000727-Mar\r\u0007699\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007307\r\u000730.00\r\u0007\r\u0007\r\u0007\r\u0007798\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007222.22\r\u0007\r\u000728-Mar\r\u000728-Mar\r\u0007699\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007397\r\u000774.44\r\u0007\r\u0007\r\u0007\r\u0007798\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007222.22\r\u0007\r\u000729-Mar\r\u000729-Mar\r\u0007699\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007307\r\u000730.00\r\u0007\r\u0007\r\u0007\r\u0007798\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007222.22\r\u0007\r\u000730-Mar\r\u000730-Mar\r\u0007699\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007397\r\u000774.44\r\u0007\r\u0007\r\u0007\r\u0007798\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007222.22\r\u0007\r\u000731-Mar\r\u000731-Mar\r\u0007699\r\u000788.89\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007307\r\u000730.00\r\u0007\r\u0007\r\u0007\r\u0007798\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007166.67\r\u0007\r\u0007\r\rConditions:\rI-top sales mean sales to end customer not lifting.\rCustomers can get cashback multiple times during the campaign period\rSpecial day campaigns will get 3rd highest priority. Transactions of segmented and hourly campaigns will not be considered here and transactions of these campaigns will not be considered during calculating commission for regular campaigns of MyBL App\rNeed separate cashback commission for each retailer MSISDN\rOnly MyBL App recharge will be considered \rFor 01967021235, first 5 character of Reference Id will be ‚ÄòBLAPP‚Äô (example: ‚ÄòBLAPPXXXXXXXXXX‚Äô)\rRecharge (retailer to subscriber) must be done from below list of retailer EV MSISDN:\rCHANNEL_TYPE\r\u0007PARTNER_NAMES\r\u0007RETAILER_MSISDN\r\u0007\r\u0007Online\r\u0007BL Self-channels\r\u00071967021235\r\u0007\r\u0007Details format:\rRET_MSISDN\r\u0007RECHARGE_AMOUNT\r\u0007HIT\r\u0007TOTAL_RECHARGE\r\u0007COMMISSION_AMOUNT\r\u0007\r\u0007¬†\r\u0007¬†\r\u0007¬†\r\u0007¬†\r\u0007¬†\r\u0007\r\u0007\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù mark below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007  ( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007   ( SAF\r\u0007a) DMS Post Date\r\u00077 days within Activation \r\u0007\r\u0007\r\u0007b) Vetting Date\r\u000714th date of Activation following month\r\u0007\r\u0007   ( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007    (  ( Recharge\r\u0007All Valid Recharges\r\u0007(Considering the valid recharge. Valid recharge means ‚Äì EV/I-TOP)\r\u0007\r\u0007   ( Usage\r\u0007Valid Usage\r\u0007Any usage ‚Äì MOC, SMSMO, MTC, SMSMT, GPRS, MMS, Partial VAS usage (as per IN medication CDR consider) and GRPS recharge, bundle recharge.\r\u0007\r\u0007   ( Disconnection\r\u0007N/A\r\u0007Latest data up to report maturity date\r\u0007\r\u0007   ( Product\r\u0007N/A\r\u0007Any connections except Data SIM (MMSTDATA) and EV SIM. \r\u0007\r\u0007   ( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007  ( ( Other:‚Ä¶‚Ä¶‚Ä¶‚Ä¶.\r\u0007i-top up\r\u0007\r\u0007\r\u0007Other Remarks:\r\r\u0007\r\u0007Input Data Source: \rSales Support :       ( Target               ( Channel Mapping       ( Issue Detail        ( Other‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\rIT                    :    (( IT SC                ( IT BI           ( DWH         ( TABS           ( Other: EV Platform\rOther               :    ( ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:  1-Mar-2025      \r\r\u0007Report Published Date:  As per Tracker\r\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r\r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\u0007\r\u0007\rApproval:\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r", "sql": "\n--------------------------------- REPORT HELPER QUERY -----------------------------------------\n-- STEP 1: VERIFY SUPPORTING DATA & THIS TABLE IS ALREADY EXISTING, NO NEED TO CREATE FURTHER  --\n--DROP TABLE TEMP_FOR_MYBL_SPECIAL_31MAR25 PURGE;\nSELECT * FROM TEMP_FOR_MYBL_SPECIAL_31MAR25;--81  Rows; --# SUPPORTING DATA FROM SRF UPLOADED IN THIS TABLE --#\nSELECT * FROM MY_BL_RECHARGE_MONTHLY_16_31MAR25; --115907  Rows --# THIS TABLE IS TEMP TABLE FOR EV RECHARGE TABLE FOR MAR 25 AS THE EV RECHAGE TABLE IS VERY BIG --#\n\nSELECT * FROM TEMP_FOR_D2_MYBL_SP_16_31MAR25;--46204  Rows --# THIS IS 2ND DETAILS TABLE FOR MYBL SPECIAL DAY WHERE WE KEEP FLAG WISE DATA --#\nselect DISTINCT TOP_UP_DATE from TEMP_FOR_D2_MYBL_SP_16_31MAR25 ORDER BY TOP_UP_DATE ASC; --# VERIFY DATE RANGE COVERAGE --#\nSELECT * FROM TEMP_FOR_D1_MYBL_SP_16_31MAR25;--9  Rows --# THIS IS 1ST DETAILS TABLE FOR MYBL SPECIAL DAY, COMMISSION AMOUNT IS CALCULATED IN THIS TABLE --#\n\n----- STEP 2: COMMISSION CALCULATION QUERY START\n--DROP TABLE TEMP_FOR_D2_MYBL_SP_16_31MAR25 PURGE;\n--CREATE TABLE TEMP_FOR_D2_MYBL_SP_16_31MAR25 AS --# THIS IS 2ND DETAILS TABLE FOR MYBL SPECIAL DAY WHERE WE KEEP FLAG WISE DATA --#\n--DROP TABLE TEMP_FOR_D1_MYBL_SP_16_31MAR25 PURGE;\nCREATE TABLE TEMP_FOR_D1_MYBL_SP_16_31MAR25 AS --# THIS IS 1ST DETAILS TABLE FOR MYBL SPECIAL DAY, COMMISSION AMOUNT IS CALCULATED IN THIS TABLE --#\nWITH RECHARGE_DETAIL AS\n(\nSELECT /*+ PARALLEL(10)*/ 'Online' DD_CODE,ID, RETAILER_MSISDN RET_MSISDN,RECHARGE_AMOUNT,COMMISSION,TOP_UP_DATE\nFROM MY_BL_RECHARGE_MONTHLY_16_31MAR25 EV \nINNER JOIN TEMP_FOR_MYBL_SPECIAL_31MAR25 DL ON RECHARGE_AMOUNT=DENO \nAND TRUNC(TOP_UP_DATE) BETWEEN START_DATE AND END_DATE\nWHERE REFERENCE_ID LIKE 'BLAPP%'  --# THIS LOGIC IS FOR 6.\tFor 01967021235, first 5 character of Reference Id will be ÔøΩBLAPPÔøΩ (example: ÔøΩBLAPPXXXXXXXXXXÔøΩ) --#\nAND RETAILER_MSISDN IN ('01967021235') --# THIS LOGIC IS FOR THE BELOW SRF CONDITION  --#\n\n--# 7.\tRecharge (retailer to subscriber) must be done from below list of retailer EV MSISDN:\n--    CHANNEL_TYPE\tPARTNER_NAMES\tRETAILER_MSISDN\n--    Online\tBL Self-channels\t01967021235\n--#\nAND (COMMISSION_FLAG IS NULL OR COMMISSION_FLAG='SPECIAL_DAY') --#  THIS LOGIC IS FOR THE 3RD SRF CONDITION (3.\tSpecial day campaigns will get 3rd highest priority. Transactions of segmented and hourly campaigns will not be considered here and transactions of these campaigns will not be considered during calculating commission for regular campaigns of MyBL App) --#\n)\n--SELECT * FROM RECHARGE_DETAIL;--46204  Rows; --# CREATE THE 2ND DETAILS TABLE FROM HERE (TEMP_FOR_D2_MYBL_SP_16_31MAR25) --#\n,RETAILER_WISE_HIT_COUNT AS (\n    SELECT /*+ PARALLEL(10)*/ DD_CODE,RET_MSISDN, RECHARGE_AMOUNT,SUM(COMMISSION) COMMISSION_AMOUNT, COUNT(1) HIT,COUNT(1)*RECHARGE_AMOUNT TOTAL_RECHARGE\n    FROM RECHARGE_DETAIL\n    GROUP BY DD_CODE,RET_MSISDN, RECHARGE_AMOUNT\n)\nSELECT  * FROM RETAILER_WISE_HIT_COUNT; --9  Rows; --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_D1_MYBL_SP_16_31MAR25) --#\nSELECT SUM(TOTAL_RECHARGE),  SUM(COMMISSION_AMOUNT) FROM RETAILER_WISE_HIT_COUNT;\n--27633368\t6883941.429 TK Total Recharge and Commission Amount\n\n--STEP 3: OVERLOOKING CREATED TABLE DATA\nSELECT * FROM TEMP_FOR_D1_MYBL_SP_16_31MAR25; --9  Rows\nSELECT SUM(COMMISSION_AMOUNT) FROM TEMP_FOR_D1_MYBL_SP_16_31MAR25;--3941065.92 TK  \n\n--STEP 4: MERGE TEMP TABLE OF RECHARGE DATA USING 2ND DETAILS TABLE FOR SEPERATING CAMPAIGN WISE TRANSACTIONS\nMERGE INTO MY_BL_RECHARGE_MONTHLY_16_31MAR25 T\nUSING TEMP_FOR_D2_MYBL_SP_16_31MAR25 S\nON (T.ID=S.ID)\nWHEN MATCHED THEN\n    UPDATE SET T.COMMISSION_FLAG='SPECIAL_DAY',\n    T.COMMISSION_AMOUNT = S.COMMISSION;\nCOMMIT;\n\nSELECT * FROM MY_BL_RECHARGE_MONTHLY_16_31MAR25 WHERE COMMISSION_FLAG = 'SPECIAL_DAY';\n\nSELECT COMMISSION_FLAG, COUNT(1),SUM(COMMISSION_AMOUNT) FROM MY_BL_RECHARGE_MONTHLY_16_31MAR25 GROUP BY COMMISSION_FLAG;\n--# Sample output:\n-- \"REGULAR\"     | XX,XXX   | XXX,XXX.XX\n-- \"SPECIAL_DAY\" | 46,204   | 3,941,065.92\n-- \"HOURLY\"      | X,XXX    | XXX,XXX.XX --#\n\n--------------------------------- REPORT SETUP QUERY -----------------------------------------\n\n--STEP 5: PREPARE FOR REPORT PUBLISHING\n--REPORT_ID : 0011 (UPDATE WITH ACTUAL REPORT ID)\nSELECT REPORTID REPORT_ID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Commission for MyBL Special Day_16th Mar25 to 31st Mar25';\n--BASE_CYCLE_ID : 0022 (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID BASE_CYCLE_ID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Mar_25'; --# BASE_CYCLE(REPORT_MONTH) -- commission end date (BASE_CYCLE/REPORT_MONTH): 31-Mar-2025 = 'Mar_25' --#\n--REPORT_CYCLE_ID : 0033 (UPDATE WITH ACTUAL REPORT CYCLE ID)\nSELECT REPORT_CYCLE_ID,* FROM COMMISSIONCYCLEREPORTS where REPORTID = 0011 and  CYCLEID = 0022; \n\n--CHECK ADHOC TABLE DATA\nSELECT * FROM ad_hoc_data where REPORT_CYCLE_ID = 0033;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 0033;\n--commit;\n\n--INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT,AMOUNT_TYPE_ID,AMOUNT)\nSELECT AD_HOC_DATA_ID.NEXTVAL ID, 0033 REPORT_CYCLE_ID, DD_CODE, COMMISSION_AMOUNT,1,TOTAL_RECHARGE\nFROM (\nSELECT DD_CODE, SUM(TOTAL_RECHARGE) TOTAL_RECHARGE, SUM(COMMISSION_AMOUNT)  COMMISSION_AMOUNT\nFROM TEMP_FOR_D1_MYBL_SP_16_31MAR25\nGROUP BY DD_CODE\n);\ncommit;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 0033; --  3941065.92  \n\n--PURLISH_CYCLE_ID : 0044 (UPDATE WITH ACTUAL PURLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jun_25 if today = 30-Jun-2025) --#\nSELECT CYCLEID PURLISH_CYCLE_ID FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Apr_25'; --# PURLISH_CYCLE(REPORT_PUBLISH_MONTH) --#\n\n\n--STEP 6: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--# PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PURLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>); --#\nEXEC PROC_COMMISSION_DETAIL_SETUP('Commission for MyBL Special Day_16th Mar25 to 31st Mar25',0044,'TEMP_FOR_D1_MYBL_SP_16_31MAR25','Deno Details');\n\n\n--STEP 7: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Commission for MyBL Special Day_16th Mar25 to 31st Mar25', 0033,'Mar_25', 'Apr_25',290, 1--# FOLLOW THE BASE_CYCLE & PUBLISH_CYCLE SPECIAL INSTRUCTION HERE ALSO --#\n"}
{"srf": "                      Service Request Number: 2016/0000\r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Sohanur Rahman Sumon\r\u0007\r\u0007Requesting Department: Digital Distribution \r\u0007Date: 30- Mar - 2025\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency                  :\r\u0007( Daily\t            ( Weekly\t       ( Monthly    (( Others: 16 Mar‚Äô25‚Äì 31st Mar‚Äô25\r\u0007\r\u0007Product Type Name    :\r\u0007( Prepaid         ( Postpaid            (  ( Others: All service class below 1000\r\u0007\r\u0007Recipient Type           :\r\u0007( Retailer ( Distributor  ( Field Force: (( Others: BL Self Care Channel (MYBL Channel)\r\u0007\r\u0007Recipient Description  : \r\u0007 ( SIM seller      (( top-up seller        ( Others: \r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Report Sharing Slot    :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title:  Commission for MyBL Special Day_Portonics_16th Mar25 to 31st Mar25\r\u0007\r\u0007Report Description:  BL-Self channel (MyBL) will receive deno and date specific commission 699, 799, 307, 698, 798, 998, 397\r\u0007\r\u0007        ( Effective Date: 16-Mar-2025        ( End Date: 31-Mar-2025     \r\u0007\r\u0007Detail & Conditions: \rBL-Self channel (MyBL) will receive deno and date specific commission 699, 799, 307, 698, 798, 998, 397 as per below table: \r\rStart Date\r\u0007End Date\r\u0007Deno\r\u0007Cashback\r\u0007\r\u000716-Mar\r\u000716-Mar\r\u0007699\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007200.00\r\u0007\r\u0007\r\u0007\r\u0007307\r\u000763.33\r\u0007\r\u0007\r\u0007\r\u0007698\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007798\r\u0007222.22\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007277.78\r\u0007\r\u000717-Mar\r\u000717-Mar\r\u0007699\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007200.00\r\u0007\r\u0007\r\u0007\r\u0007397\r\u000785.55\r\u0007\r\u0007\r\u0007\r\u0007698\r\u0007133.33\r\u0007\r\u0007\r\u0007\r\u0007798\r\u0007222.22\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007277.78\r\u0007\r\u000718-Mar\r\u000718-Mar\r\u0007699\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007307\r\u000763.33\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007200.00\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007277.78\r\u0007\r\u000719-Mar\r\u000719-Mar\r\u0007699\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007397\r\u000785.55\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007200.00\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007277.78\r\u0007\r\u000720-Mar\r\u000720-Mar\r\u0007699\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007307\r\u000763.33\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007200.00\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007277.78\r\u0007\r\u000721-Mar\r\u000721-Mar\r\u0007699\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007200.00\r\u0007\r\u0007\r\u0007\r\u0007307\r\u000763.33\r\u0007\r\u0007\r\u0007\r\u0007698\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007798\r\u0007222.22\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007311.11\r\u0007\r\u000722-Mar\r\u000722-Mar\r\u0007699\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007200.00\r\u0007\r\u0007\r\u0007\r\u0007397\r\u000785.55\r\u0007\r\u0007\r\u0007\r\u0007698\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007798\r\u0007222.22\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007311.11\r\u0007\r\u000723-Mar\r\u000723-Mar\r\u0007699\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007307\r\u000763.33\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007200.00\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007277.78\r\u0007\r\u000725-Mar\r\u000725-Mar\r\u0007699\r\u0007133.33\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007397\r\u000766.67\r\u0007\r\u0007\r\u0007\r\u0007698\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007798\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007222.22\r\u0007\r\u000725-Mar\r\u000725-Mar\r\u0007699\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007307\r\u000730.00\r\u0007\r\u0007\r\u0007\r\u0007798\r\u0007222.22\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007222.22\r\u0007\r\u000726-Mar\r\u000726-Mar\r\u0007699\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007397\r\u000774.44\r\u0007\r\u0007\r\u0007\r\u0007798\r\u0007222.22\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007222.22\r\u0007\r\u000727-Mar\r\u000727-Mar\r\u0007699\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007307\r\u000730.00\r\u0007\r\u0007\r\u0007\r\u0007798\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007222.22\r\u0007\r\u000728-Mar\r\u000728-Mar\r\u0007699\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007397\r\u000774.44\r\u0007\r\u0007\r\u0007\r\u0007798\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007222.22\r\u0007\r\u000729-Mar\r\u000729-Mar\r\u0007699\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007307\r\u000730.00\r\u0007\r\u0007\r\u0007\r\u0007798\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007222.22\r\u0007\r\u000730-Mar\r\u000730-Mar\r\u0007699\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007397\r\u000774.44\r\u0007\r\u0007\r\u0007\r\u0007798\r\u0007166.67\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007222.22\r\u0007\r\u000731-Mar\r\u000731-Mar\r\u0007699\r\u000788.89\r\u0007\r\u0007\r\u0007\r\u0007799\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007307\r\u000730.00\r\u0007\r\u0007\r\u0007\r\u0007798\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007166.67\r\u0007\r\u0007\r\rConditions:\rI-top sales mean sales to end customer not lifting.\rCustomers can get cashback multiple times during the campaign period\rSpecial day campaigns will get 3rd highest priority. Transactions of segmented and hourly campaigns will not be considered here and transactions of these campaigns will not be considered during calculating commission for regular campaigns of MyBL App\rNeed separate cashback commission for each retailer MSISDN\rOnly MyBL App recharge will be considered \rRecharge (retailer to subscriber) must be done from below list of retailer EV MSISDN:\rCHANNEL_TYPE\r\u0007PARTNER_NAMES\r\u0007RETAILER_MSISDN\r\u0007\r\u0007Online\r\u0007BL Self-channels\r\u00071953348398\r\u0007\r\u0007Details format:\rRET_MSISDN\r\u0007RECHARGE_AMOUNT\r\u0007HIT\r\u0007TOTAL_RECHARGE\r\u0007COMMISSION_AMOUNT\r\u0007\r\u0007¬†\r\u0007¬†\r\u0007¬†\r\u0007¬†\r\u0007¬†\r\u0007\r\u0007\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù mark below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007  ( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007   ( SAF\r\u0007a) DMS Post Date\r\u00077 days within Activation \r\u0007\r\u0007\r\u0007b) Vetting Date\r\u000714th date of Activation following month\r\u0007\r\u0007   ( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007    (  ( Recharge\r\u0007All Valid Recharges\r\u0007(Considering the valid recharge. Valid recharge means ‚Äì EV/I-TOP)\r\u0007\r\u0007   ( Usage\r\u0007Valid Usage\r\u0007Any usage ‚Äì MOC, SMSMO, MTC, SMSMT, GPRS, MMS, Partial VAS usage (as per IN medication CDR consider) and GRPS recharge, bundle recharge.\r\u0007\r\u0007   ( Disconnection\r\u0007N/A\r\u0007Latest data up to report maturity date\r\u0007\r\u0007   ( Product\r\u0007N/A\r\u0007Any connections except Data SIM (MMSTDATA) and EV SIM. \r\u0007\r\u0007   ( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007  ( ( Other:‚Ä¶‚Ä¶‚Ä¶‚Ä¶.\r\u0007i-top up\r\u0007\r\u0007\r\u0007Other Remarks:\r\r\u0007\r\u0007Input Data Source: \rSales Support :       ( Target               ( Channel Mapping       ( Issue Detail        ( Other‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\rIT                    :    (( IT SC                ( IT BI           ( DWH         ( TABS           ( Other: EV Platform\rOther               :    ( ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:  1- Mar -2025      \r\r\u0007Report Published Date:  As per Tracker\r\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r\r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\u0007\r\u0007\rApproval:\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r", "sql": "--------------------------------- REPORT HELPER QUERY -----------------------------------------\n----- STEP 1: VERIFY SUPPORTING DATA & THIS TABLE IS ALREADY EXISTING, NO NEED TO CREATE FURTHER \n--DROP TABLE TEMP_FOR_MYBL_SP_POT_31MAR25 PURGE;\nSELECT * FROM TEMP_FOR_MYBL_SP_POT_31MAR25;-- 81  Rows; --# SUPPORTING DATA FROM SRF UPLOADED IN THIS TABLE --#\nSELECT * FROM MY_BL_POT_RECHARGE_MONTHLY_31MAR25; -- 53701375  Rows --# THIS TABLE IS TEMP TABLE FOR EV RECHARGE TABLE FOR MAR 25 AS THE EV RECHAGE TABLE IS VERY BIG --#\n\nSELECT * FROM TEMP_FOR_D2_MYBL_SP_POT_16_31MAR25;-- 49021  Rows --# THIS IS 2ND DETAILS TABLE FOR MYBL SPECIAL DAY PORTONICS WHERE WE KEEP FLAG WISE DATA --#\nselect DISTINCT TOP_UP_DATE from TEMP_FOR_D2_MYBL_SP_POT_16_31MAR25 ORDER BY TOP_UP_DATE ASC; --# VERIFY DATE RANGE COVERAGE --#\nSELECT * FROM TEMP_FOR_D1_MYBL_SP_POT_16_31MAR25; -- 7  Rows --# THIS IS 1ST DETAILS TABLE FOR MYBL SPECIAL DAY PORTONICS, COMMISSION AMOUNT IS CALCULATED IN THIS TABLE --#\n\n----- STEP 2: COMMISSION CALCULATION QUERY START\n\n\n--DROP TABLE TEMP_FOR_D2_MYBL_SP_POT_16_31MAR25 PURGE;\n--CREATE TABLE TEMP_FOR_D2_MYBL_SP_POT_16_31MAR25 AS --# THIS IS 2ND DETAILS TABLE FOR MYBL SPECIAL DAY PORTONICS WHERE WE KEEP FLAG WISE DATA --#\n--DROP TABLE TEMP_FOR_D1_MYBL_SP_POT_16_31MAR25 PURGE;\n--CREATE TABLE TEMP_FOR_D1_MYBL_SP_POT_16_31MAR25 AS --# THIS IS 1ST DETAILS TABLE FOR MYBL SPECIAL DAY PORTONICS, COMMISSION AMOUNT IS CALCULATED IN THIS TABLE --#\nWITH RECHARGE_DETAIL AS\n(\nSELECT /*+ PARALLEL(10)*/ 'Online' DD_CODE,ID, RETAILER_MSISDN RET_MSISDN,RECHARGE_AMOUNT,COMMISSION,TOP_UP_DATE\nFROM MY_BL_POT_RECHARGE_MONTHLY_31MAR25 EV \nINNER JOIN TEMP_FOR_MYBL_SP_POT_31MAR25 DL ON RECHARGE_AMOUNT=DENO \nAND TRUNC(TOP_UP_DATE) BETWEEN START_DATE AND END_DATE\nWHERE RETAILER_MSISDN IN ('01953348398') --- THIS LOGIC IS FOR THE BELOW SRF CONDITION \n\n--# 7.\tRecharge (retailer to subscriber) must be done from below list of retailer EV MSISDN:\n--     CHANNEL_TYPE\tPARTNER_NAMES\tRETAILER_MSISDN\n--#     Online\tPortonics\t01953348398\n\nAND (COMMISSION_FLAG IS NULL OR COMMISSION_FLAG='SPECIAL_DAY') --#  THIS LOGIC IS FOR THE 3RD SRF CONDITION (3.Special day campaigns will get 3rd highest priority. Transactions of segmented and hourly campaigns will not be considered here and transactions of these campaigns will not be considered during calculating commission for regular campaigns of MyBL App) --#\n)\n--SELECT * FROM RECHARGE_DETAIL;-- 49021  Rows; --# CREATE THE 2ND DETAILS TABLE FROM HERE (TEMP_FOR_D2_MYBL_SP_POT_16_31MAR25) --#\n,RETAILER_WISE_HIT_COUNT AS (\n    SELECT /*+ PARALLEL(10)*/ DD_CODE,RET_MSISDN, RECHARGE_AMOUNT,SUM(COMMISSION) COMMISSION_AMOUNT, COUNT(1) HIT,COUNT(1)*RECHARGE_AMOUNT TOTAL_RECHARGE\n    FROM RECHARGE_DETAIL\n    GROUP BY DD_CODE,RET_MSISDN, RECHARGE_AMOUNT\n)\nSELECT  * FROM RETAILER_WISE_HIT_COUNT; -- 7  Rows; --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_D1_MYBL_SP_POT_16_31MAR25) --#\nSELECT SUM(TOTAL_RECHARGE),  SUM(COMMISSION_AMOUNT) FROM RETAILER_WISE_HIT_COUNT;\n-- 35202813 8288307.72 TK Total Recharge and Commission Amount\n\n--STEP 3: OVERLOOKING CREATED TABLE DATA\nSELECT * FROM TEMP_FOR_D1_MYBL_SP_POT_16_31MAR25; -- 7  Rows\nSELECT SUM(COMMISSION_AMOUNT) FROM TEMP_FOR_D1_MYBL_SP_POT_16_31MAR25;-- 8288307.72 TK  \n\n--STEP 4: MERGE TEMP TABLE OF RECHARGE DATA USING 2ND DETAILS TABLE FOR SEPERATING CAMPAIGN WISE TRANSACTIONS\nMERGE INTO MY_BL_POT_RECHARGE_MONTHLY_31MAR25 T\nUSING TEMP_FOR_D2_MYBL_SP_POT_16_31MAR25 S\nON (T.ID=S.ID)\nWHEN MATCHED THEN\n    UPDATE SET T.COMMISSION_FLAG='SPECIAL_DAY',\n    T.COMMISSION_AMOUNT = S.COMMISSION;\nCOMMIT;\n\nSELECT * FROM MY_BL_POT_RECHARGE_MONTHLY_31MAR25 WHERE COMMISSION_FLAG = 'SPECIAL_DAY';\n\nSELECT COMMISSION_FLAG, COUNT(1),SUM(COMMISSION_AMOUNT) FROM MY_BL_POT_RECHARGE_MONTHLY_31MAR25 GROUP BY COMMISSION_FLAG;\n--# Sample output:\n-- \"REGULAR\"     | XX,XXX   | XXX,XXX.XX\n-- \"SPECIAL_DAY\" | 49,021   | 8,288,307.72\n-- \"HOURLY\"      | X,XXX    | XXX,XXX.XX --#\n\n--------------------------------- REPORT SETUP QUERY -----------------------------------------\n\n--STEP 5: PREPARE FOR REPORT PUBLISHING\n--REPORT_ID : 0011 (UPDATE WITH ACTUAL REPORT ID)\nSELECT REPORTID REPORT_ID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Commission for MyBL Special Day_Portonics_16th Mar25 to 31st Mar25';\n--BASE_CYCLE_ID : 0022 (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID BASE_CYCLE_ID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Mar_25'; --BASE_CYCLE(REPORT_MONTH) -- commission end date (BASE_CYCLE/REPORT_MONTH): 31_Mar_2025 ? 'Mar_25'\n--REPORT_CYCLE_ID : 0033 (UPDATE WITH ACTUAL REPORT CYCLE ID)\nSELECT REPORT_CYCLE_ID,* FROM COMMISSIONCYCLEREPORTS where REPORTID = 0011 and  CYCLEID = 0022; \n\n--CHECK ADHOC TABLE DATA\nSELECT * FROM ad_hoc_data where REPORT_CYCLE_ID = 0033;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 0033;\n--commit;\n\n--INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT,AMOUNT_TYPE_ID,AMOUNT)\nSELECT AD_HOC_DATA_ID.NEXTVAL ID, 0033 REPORT_CYCLE_ID, DD_CODE, COMMISSION_AMOUNT,1,TOTAL_RECHARGE\nFROM (\nSELECT DD_CODE, SUM(TOTAL_RECHARGE) TOTAL_RECHARGE, SUM(COMMISSION_AMOUNT)  COMMISSION_AMOUNT\nFROM TEMP_FOR_D1_MYBL_SP_POT_16_31MAR25\nGROUP BY DD_CODE\n);\ncommit;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 0033; --  8288307.72  \n\n--PURLISH_CYCLE_ID : 0044 (UPDATE WITH ACTUAL PURLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jun_25 if today = 30_Jun_2025) --#\nSELECT CYCLEID PURLISH_CYCLE_ID FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Apr_25'; --PURLISH_CYCLE(REPORT_PUBLISH_MONTH)\n\n\n--STEP 6: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--# PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PURLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>); --#\nEXEC PROC_COMMISSION_DETAIL_SETUP('Commission for MyBL Special Day_Portonics_16th Mar25 to 31st Mar25',0044,'TEMP_FOR_D1_MYBL_SP_POT_16_31MAR25','Deno Details');\n\n\n--STEP 7: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Commission for MyBL Special Day_Portonics_16th Mar25 to 31st Mar25', 0033,'Mar_25', 'Apr_25',290, 1); --# FOLLOW THE BASE_CYCLE & PUBLISH_CYCLE SPECIAL INSTRUCTION HERE ALSO --#\n"}
{"srf": "                      Service Request Number: 2016/0000\r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Sohanur Rahman Sumon\r\u0007\r\u0007Requesting Department: Digital Distribution \r\u0007Date: 30 ‚Äì Mar - 2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency                  :\r\u0007( Daily\t            ( Weekly\t       ( Monthly    (( Others: 16 Mar‚Äô25‚Äì 31 Mar‚Äô25\r\u0007\r\u0007Product Type Name    :\r\u0007( Prepaid         ( Postpaid             ( ( Others: All service class below 1000\r\u0007\r\u0007Recipient Type           :\r\u0007( Retailer ( Distributor  ( Field Force: (( Others: BL Self Care Channel (MYBL Channel)\r\u0007\r\u0007Recipient Description  : \r\u0007 ( SIM seller      (( top-up seller        ( Others: \r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Report Sharing Slot    :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title:  Commission for MyBL_16th Mar25 to 31st Mar25\r\u0007\r\u0007Report Description:  BL-Self channel (MyBL) will receive deno and date specific commission as below- 118, 167, 169, 199, 307, 348, 397, 399, 448, 497, 548, 549, 649, 698, 798, 117, 157, 229,¬†117, 118,¬†157,¬†167,¬†169,¬†199,¬†229,¬†307,¬†348, 397,¬†399,¬†448,¬†497, 548, 549, 649, 698, 798\r\u0007\r\u0007        ( Effective Date: 16-Mar-2025        ( End Date: 31-Mar-2025     \r\u0007\r\u0007Detail & Conditions: \rBL-Self channel (MyBL) will receive deno and date specific 118, 167, 169, 199, 307, 348, 397, 399, 448, 497, 548, 549, 649, 698, 798, 117, 157, 229,¬†117, 118,¬†157,¬†167,¬†169,¬†199,¬†229,¬†307,¬†348, 397,¬†399,¬†448,¬†497, 548, 549, 649, 698, 798 as per below table:\r\rStart Date\r\u0007End Date\r\u0007Deno\r\u0007CB\r\u0007\r\u000716-Mar\r\u000716-Mar\r\u0007118\r\u00072.22\r\u0007\r\u0007\r\u0007\r\u0007167\r\u000718.89\r\u0007\r\u0007\r\u0007\r\u0007169\r\u00075.56\r\u0007\r\u0007\r\u0007\r\u0007199\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007307\r\u000752.22\r\u0007\r\u0007\r\u0007\r\u0007348\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007397\r\u000733.33\r\u0007\r\u0007\r\u0007\r\u0007399\r\u000722.22\r\u0007\r\u0007\r\u0007\r\u0007448\r\u000733.33\r\u0007\r\u0007\r\u0007\r\u0007497\r\u000763.33\r\u0007\r\u0007\r\u0007\r\u0007548\r\u000755.56\r\u0007\r\u0007\r\u0007\r\u0007549\r\u000755.56\r\u0007\r\u0007\r\u0007\r\u0007649\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007698\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007798\r\u0007133.33\r\u0007\r\u000717-Mar\r\u000723-Mar\r\u0007117\r\u00075.56\r\u0007\r\u0007\r\u0007\r\u0007118\r\u00075.56\r\u0007\r\u0007\r\u0007\r\u0007157\r\u00077.78\r\u0007\r\u0007\r\u0007\r\u0007167\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007169\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007199\r\u000716.67\r\u0007\r\u0007\r\u0007\r\u0007229\r\u000732.22\r\u0007\r\u0007\r\u0007\r\u0007307\r\u000752.22\r\u0007\r\u0007\r\u0007\r\u0007348\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007397\r\u000733.33\r\u0007\r\u0007\r\u0007\r\u0007399\r\u000722.22\r\u0007\r\u0007\r\u0007\r\u0007448\r\u000733.33\r\u0007\r\u0007\r\u0007\r\u0007497\r\u000763.33\r\u0007\r\u0007\r\u0007\r\u0007548\r\u000755.56\r\u0007\r\u0007\r\u0007\r\u0007549\r\u000755.56\r\u0007\r\u0007\r\u0007\r\u0007649\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007698\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007798\r\u0007133.33\r\u0007\r\u000724-Mar\r\u000729-Mar\r\u0007¬†¬†¬†117\r\u00075.56\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†118\r\u00075.56\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†157\r\u00077.78\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†167\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†169\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†199\r\u000716.67\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†229\r\u000732.22\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†307\r\u000752.22\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†348\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†397\r\u000733.33\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†399\r\u000722.22\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†448\r\u000733.33\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†497\r\u000763.33\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†548\r\u000755.56\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†549\r\u000755.56\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†649\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†698\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†798\r\u0007133.33\r\u0007\r\u000730-Mar\r\u000731-Mar\r\u0007¬†¬†¬†307\r\u000752.22\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†397\r\u000733.33\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†448\r\u000744.44\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†497\r\u000763.33\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†548\r\u000755.56\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†549\r\u000788.89\r\u0007\r\u0007\r\rConditions:\rI-top sales mean sales to end customer not lifting.\rCustomers can get cashback multiple times during the campaign period\rRegular campaigns will get lowest priority. Transactions of segmented, special day and hourly campaigns will not be considered here\rNeed separate cashback commission for each retailer MSISDN\rOnly MyBL App recharge will be considered \rFor 01967021235, first 5 character of Reference Id will be ‚ÄòBLAPP‚Äô (example: ‚ÄòBLAPPXXXXXXXXXX‚Äô)\rRecharge (retailer to subscriber) must be done from below list of retailer EV MSISDN:\rCHANNEL_TYPE\r\u0007PARTNER_NAMES\r\u0007RETAILER_MSISDN\r\u0007\r\u0007Online\r\u0007BL Self-channels\r\u00071967021235\r\u0007\r\u0007Details format:\rRET_MSISDN\r\u0007RECHARGE_AMOUNT\r\u0007HIT\r\u0007TOTAL_RECHARGE\r\u0007COMMISSION_AMOUNT\r\u0007\r\u0007¬†\r\u0007¬†\r\u0007¬†\r\u0007¬†\r\u0007¬†\r\u0007\r\u0007\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù mark below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007  ( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007   ( SAF\r\u0007a) DMS Post Date\r\u00077 days within Activation \r\u0007\r\u0007\r\u0007b) Vetting Date\r\u000714th date of Activation following month\r\u0007\r\u0007   ( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007    (  ( Recharge\r\u0007All Valid Recharges\r\u0007(Considering the valid recharge. Valid recharge means ‚Äì EV/I-TOP)\r\u0007\r\u0007   ( Usage\r\u0007Valid Usage\r\u0007Any usage ‚Äì MOC, SMSMO, MTC, SMSMT, GPRS, MMS, Partial VAS usage (as per IN medication CDR consider) and GRPS recharge, bundle recharge.\r\u0007\r\u0007   ( Disconnection\r\u0007N/A\r\u0007Latest data up to report maturity date\r\u0007\r\u0007   ( Product\r\u0007N/A\r\u0007Any connections except Data SIM (MMSTDATA) and EV SIM. \r\u0007\r\u0007   ( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007  ( ( Other:‚Ä¶‚Ä¶‚Ä¶‚Ä¶.\r\u0007i-top up\r\u0007\r\u0007\r\u0007Other Remarks:\r\r\u0007\r\u0007Input Data Source: \rSales Support :       ( Target               ( Channel Mapping       ( Issue Detail        ( Other‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\rIT                    :    (( IT SC                ( IT BI           ( DWH         ( TABS           ( Other: EV Platform\rOther               :    ( ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:  1 ‚Äì Mar -2025      \r\r\u0007Report Published Date:  As per Tracker\r\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r\r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\u0007\r\u0007\rApproval:\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r", "sql": "\n--------------------------------- REPORT HELPER QUERY -----------------------------------------\n----- STEP 1: VERIFY SUPPORTING DATA & THIS TABLE IS ALREADY EXISTING, NO NEED TO CREATE FURTHER \nSELECT * FROM TEMP_FOR_MYBL_REG_16_31_MAR25;--57  Rows; --# SUPPORTING DATA FROM SRF UPLOADED IN THIS TABLE --#\n--DROP TABLE TEMP_FOR_MYBL_REG_16_31_MAR25 PURGE;\n\nSELECT * FROM MY_BL_RECHARGE_MONTHLY_16_31MAR25; --171730  Rows --# THIS TABLE IS TEMP TABLE FOR EV RECHARGE TABLE FOR MAR 25 AS THE EV RECHAGE TABLE IS VERY BIG --#\nSELECT * FROM TEMP_FOR_D2_MYBL_RE_16_31MAR25; --55067  Rows --# THIS IS 2ND DETAILS TABLE FOR MYBL REGULAR WHERE WE KEEP FLAG WISE DATA --#\nSELECT * FROM TEMP_FOR_D1_MYBL_RE_16_31MAR25; --22  Rows --# THIS IS 1ST DETAILS TABLE FOR MYBL REGULAR, COMMISSION AMOUNT IS CALCULATED IN THIS TABLE --#\nSELECT SUM(COMMISSION_AMOUNT) FROM TEMP_FOR_D1_MYBL_RE_16_31MAR25;--1579046.17 TK\n\n----- STEP 2: COMMISSION CALCULATION QUERY START\n--DROP TABLE TEMP_FOR_D2_MYBL_RE_16_31MAR25 PURGE;\n--CREATE TABLE TEMP_FOR_D2_MYBL_RE_16_31MAR25 AS --# THIS IS 2ND DETAILS TABLE FOR MYBL REGULAR WHERE WE KEEP FLAG WISE DATA --#\n--DROP TABLE TEMP_FOR_D1_MYBL_RE_16_31MAR25 PURGE;\nCREATE TABLE TEMP_FOR_D1_MYBL_RE_16_31MAR25 AS --# THIS IS 1ST DETAILS TABLE FOR MYBL REGULAR, COMMISSION AMOUNT IS CALCULATED IN THIS TABLE --#\nWITH RECHARGE_DETAIL AS\n(\nSELECT /*+ PARALLEL(10)*/ DISTINCT 'Online' DD_CODE,ID, RETAILER_MSISDN RET_MSISDN,RECHARGE_AMOUNT,COMMISSION,TOP_UP_DATE\nFROM MY_BL_RECHARGE_MONTHLY_16_31MAR25 EV \nINNER JOIN TEMP_FOR_MYBL_REG_16_31_MAR25 DL ON RECHARGE_AMOUNT = DENO \nAND TRUNC(TOP_UP_DATE) BETWEEN TRUNC(START_DATE) AND TRUNC(END_DATE)\nWHERE RETAILER_MSISDN IN('01967021235') --# THIS LOGIC IS FOR THE BELOW SRF CONDITION --#\n--#\n--7.\tRecharge (retailer to subscriber) must be done from below list of retailer EV MSISDN:\n--    CHANNEL_TYPE\tPARTNER_NAMES\tRETAILER_MSISDN\n--    Online\tBL Self-channels\t01967021235\n--#\nAND REFERENCE_ID LIKE 'BLAPP%' --# THIS LOGIC IS FOR 6.\tFor 01967021235, first 5 character of Reference Id will be ÔøΩBLAPPÔøΩ (example: ÔøΩBLAPPXXXXXXXXXXÔøΩ) --#\nAND (COMMISSION_FLAG IS NULL OR COMMISSION_FLAG='REGULAR') --#  THIS LOGIC IS FOR THE 4TH SRF CONDITION (4.Regular campaigns will get 4th highest priority. Transactions of segmented, hourly and special day campaigns will not be considered here) --#\n)\n--SELECT * FROM RECHARGE_DETAIL;--38175  Rows; CREATE THE 2ND DETAILS TABLE FROM HERE (TEMP_FOR_D2_MYBL_RE_16_31MAR25)\n,RETAILER_WISE_HIT_COUNT AS (\n    SELECT /*+ PARALLEL(10)*/ DD_CODE,RET_MSISDN, RECHARGE_AMOUNT,SUM(COMMISSION) COMMISSION_AMOUNT, COUNT(1) HIT,COUNT(1)*RECHARGE_AMOUNT TOTAL_RECHARGE\n    FROM RECHARGE_DETAIL\n    GROUP BY DD_CODE,RET_MSISDN, RECHARGE_AMOUNT\n)\nSELECT * FROM RETAILER_WISE_HIT_COUNT;  -- 22  Rows; --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_D1_MYBL_RE_16_31MAR25) --#\n\nSELECT DD_CODE, SUM(RECHARGE_AMOUNT*HIT) TOTAL_RECHARGE, SUM(COMMISSION_AMOUNT)  COMMISSION_AMOUNT\nFROM RETAILER_WISE_HIT_COUNT\nGROUP BY DD_CODE; -- 1098959.02 TK Total Recharge and Commission Amount\n\n\n--STEP 3: OVERLOOKING CREATED TABLE DATA\nselect * from TEMP_FOR_D1_MYBL_RE_16_31MAR25;\nselect SUM(COMMISSION_AMOUNT) from TEMP_FOR_D1_MYBL_RE_16_31MAR25; --713141.55\n\n--STEP 4: MERGE TEMP TABLE OF RECHARGE DATA USING 2ND DETAILS TABLE FOR SEPERATING CAMPAIGN WISE TRANSACTIONS\nMERGE INTO MY_BL_RECHARGE_MONTHLY_16_31MAR25  T\nUSING TEMP_FOR_D2_MYBL_RE_16_31MAR25 S\nON (T.ID=S.ID)\nWHEN MATCHED THEN\n    UPDATE SET T.COMMISSION_FLAG='REGULAR',\n    T.COMMISSION_AMOUNT = S.COMMISSION;\nCOMMIT;\n\nSELECT COMMISSION_FLAG, COUNT(1),SUM(COMMISSION_AMOUNT) FROM MY_BL_RECHARGE_MONTHLY_16_31MAR25  GROUP BY COMMISSION_FLAG;\n--# Sample output:\n-- \"REGULAR\"     | 55,067   | 713,141.55\n-- \"SPECIAL_DAY\" | X,XXX    | XXX,XXX.XX\n-- \"HOURLY\"      | X,XXX    | XXX,XXX.XX --#\n\n--------------------------------- REPORT SETUP QUERY -----------------------------------------\n\n--STEP 5: PREPARE FOR REPORT PUBLISHING\n--REPORT_ID : 0011 (UPDATE WITH ACTUAL REPORT ID)\nSELECT REPORTID REPORT_ID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Commission for MyBL_16th Mar25 to 31st Mar25';\n--BASE_CYCLE_ID : 0022 (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID BASE_CYCLE_ID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Mar_25'; --BASE_CYCLE(REPORT_MONTH) -- commission end date (BASE_CYCLE/REPORT_MONTH): 31-Mar-2025 ? 'Mar_25'\n--REPORT_CYCLE_ID : 0033 (UPDATE WITH ACTUAL REPORT CYCLE ID)\nSELECT REPORT_CYCLE_ID,* FROM COMMISSIONCYCLEREPORTS where REPORTID = 0011 and  CYCLEID = 0022; \n\n--CHECK ADHOC TABLE DATA\nSELECT * FROM ad_hoc_data where REPORT_CYCLE_ID = 0033;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 0033;\n--commit;\n\n--INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT,AMOUNT_TYPE_ID,AMOUNT)\nSELECT AD_HOC_DATA_ID.NEXTVAL ID, 0033 REPORT_CYCLE_ID, DD_CODE, COMMISSION_AMOUNT,1,TOTAL_RECHARGE\nFROM (\nSELECT DD_CODE, SUM(RECHARGE_AMOUNT*HIT) TOTAL_RECHARGE, SUM(COMMISSION_AMOUNT)  COMMISSION_AMOUNT\nFROM TEMP_FOR_D1_MYBL_RE_16_31MAR25\nGROUP BY DD_CODE\n);\ncommit;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 0033; --  713141.55  \n\n--PURLISH_CYCLE_ID : 0044 (UPDATE WITH ACTUAL PURLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jun_25 if today = 30-Jun-2025) --#\nSELECT CYCLEID PURLISH_CYCLE_ID FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Apr_25'; --PURLISH_CYCLE(REPORT_PUBLISH_MONTH)\n\n\n--STEP 6: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--# PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PURLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>); --#\nEXEC PROC_COMMISSION_DETAIL_SETUP('Commission for MyBL_16th Mar25 to 31st Mar25',0044,'TEMP_FOR_D1_MYBL_RE_16_31MAR25','Deno Details');\n\n\n--STEP 7: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Commission for MyBL_16th Mar25 to 31st Mar25', 0033,'Mar_25', 'Apr_25',290, 1); --# FOLLOW THE BASE_CYCLE & PUBLISH_CYCLE SPECIAL INSTRUCTION HERE ALSO --#\n"}
{"srf": "                      Service Request Number: 2016/0000\r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Sohanur Rahman Sumon\r\u0007\r\u0007Requesting Department: Digital Distribution \r\u0007Date: 30 ‚Äì Mar - 2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency                  :\r\u0007( Daily\t            ( Weekly\t       ( Monthly    (( Others: 16 Mar‚Äô25 ‚Äì 31 Mar‚Äô25\r\u0007\r\u0007Product Type Name    :\r\u0007( Prepaid         ( Postpaid           (   ( Others: All service class below 1000\r\u0007\r\u0007Recipient Type           :\r\u0007( Retailer ( Distributor  ( Field Force: (( Others: BL Self Care Channel (MYBL Channel)\r\u0007\r\u0007Recipient Description  : \r\u0007 ( SIM seller      (( top-up seller        ( Others: \r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Report Sharing Slot    :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title:  Commission for MyBL_Portonics_16th Mar25 to 31st Mar25\r\u0007\r\u0007Report Description:  BL-Self channel (MyBL) will receive deno and date specific commission as below - 118, 167, 169, 199, 307, 348, 397, 399, 448, 497, 548, 549, 649, 698, 798, 117, 157, 229,¬†117, 118,¬†157,¬†167,¬†169,¬†199,¬†229,¬†307,¬†348, 397,¬†399,¬†448,¬†497, 548, 549, 649, 698, 798\r\r\u0007\r\u0007        ( Effective Date: 16-Mar-2025        ( End Date: 31-Mar-2025     \r\u0007\r\u0007Detail & Conditions: \rBL-Self channel (MyBL) will receive deno and date specific 118, 167, 169, 199, 307, 348, 397, 399, 448, 497, 548, 549, 649, 698, 798, 117, 157, 229,¬†117, 118,¬†157,¬†167,¬†169,¬†199,¬†229,¬†307,¬†348, 397,¬†399,¬†448,¬†497, 548, 549, 649, 698, 798 as per below table:\r\rStart Date\r\u0007End Date\r\u0007Deno\r\u0007CB\r\u0007\r\u000716-Mar\r\u000716-Mar\r\u0007118\r\u00072.22\r\u0007\r\u0007\r\u0007\r\u0007167\r\u000718.89\r\u0007\r\u0007\r\u0007\r\u0007169\r\u00075.56\r\u0007\r\u0007\r\u0007\r\u0007199\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007307\r\u000752.22\r\u0007\r\u0007\r\u0007\r\u0007348\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007397\r\u000733.33\r\u0007\r\u0007\r\u0007\r\u0007399\r\u000722.22\r\u0007\r\u0007\r\u0007\r\u0007448\r\u000733.33\r\u0007\r\u0007\r\u0007\r\u0007497\r\u000763.33\r\u0007\r\u0007\r\u0007\r\u0007548\r\u000755.56\r\u0007\r\u0007\r\u0007\r\u0007549\r\u000755.56\r\u0007\r\u0007\r\u0007\r\u0007649\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007698\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007798\r\u0007133.33\r\u0007\r\u000717-Mar\r\u000723-Mar\r\u0007117\r\u00075.56\r\u0007\r\u0007\r\u0007\r\u0007118\r\u00075.56\r\u0007\r\u0007\r\u0007\r\u0007157\r\u00077.78\r\u0007\r\u0007\r\u0007\r\u0007167\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007169\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007199\r\u000716.67\r\u0007\r\u0007\r\u0007\r\u0007229\r\u000732.22\r\u0007\r\u0007\r\u0007\r\u0007307\r\u000752.22\r\u0007\r\u0007\r\u0007\r\u0007348\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007397\r\u000733.33\r\u0007\r\u0007\r\u0007\r\u0007399\r\u000722.22\r\u0007\r\u0007\r\u0007\r\u0007448\r\u000733.33\r\u0007\r\u0007\r\u0007\r\u0007497\r\u000763.33\r\u0007\r\u0007\r\u0007\r\u0007548\r\u000755.56\r\u0007\r\u0007\r\u0007\r\u0007549\r\u000755.56\r\u0007\r\u0007\r\u0007\r\u0007649\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007698\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007798\r\u0007133.33\r\u0007\r\u000724-Mar\r\u000729-Mar\r\u0007¬†¬†¬†117\r\u00075.56\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†118\r\u00075.56\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†157\r\u00077.78\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†167\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†169\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†199\r\u000716.67\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†229\r\u000732.22\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†307\r\u000752.22\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†348\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†397\r\u000733.33\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†399\r\u000722.22\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†448\r\u000733.33\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†497\r\u000763.33\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†548\r\u000755.56\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†549\r\u000755.56\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†649\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†698\r\u0007111.11\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†798\r\u0007133.33\r\u0007\r\u000730-Mar\r\u000731-Mar\r\u0007¬†¬†¬†307\r\u000752.22\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†397\r\u000733.33\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†448\r\u000744.44\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†497\r\u000763.33\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†548\r\u000755.56\r\u0007\r\u0007\r\u0007\r\u0007¬†¬†¬†549\r\u000788.89\r\u0007\r\u0007\r\rConditions:\rI-top sales mean sales to end customer not lifting.\rCustomers can get cashback multiple times during the campaign period\rRegular campaigns will get lowest priority. Transactions of segmented, special day and hourly campaigns will not be considered here\rNeed separate cashback commission for each retailer MSISDN\rOnly MyBL App recharge will be considered \rRecharge (retailer to subscriber) must be done from below list of retailer EV MSISDN:\rCHANNEL_TYPE\r\u0007PARTNER_NAMES\r\u0007RETAILER_MSISDN\r\u0007\r\u0007Online\r\u0007BL Self-channels\r\u00071953348398\r\u0007\r\u0007Details format:\rRET_MSISDN\r\u0007RECHARGE_AMOUNT\r\u0007HIT\r\u0007TOTAL_RECHARGE\r\u0007COMMISSION_AMOUNT\r\u0007\r\u0007¬†\r\u0007¬†\r\u0007¬†\r\u0007¬†\r\u0007¬†\r\u0007\r\u0007\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù mark below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007  ( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007   ( SAF\r\u0007a) DMS Post Date\r\u00077 days within Activation \r\u0007\r\u0007\r\u0007b) Vetting Date\r\u000714th date of Activation following month\r\u0007\r\u0007   ( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007    (  ( Recharge\r\u0007All Valid Recharges\r\u0007(Considering the valid recharge. Valid recharge means ‚Äì EV/I-TOP)\r\u0007\r\u0007   ( Usage\r\u0007Valid Usage\r\u0007Any usage ‚Äì MOC, SMSMO, MTC, SMSMT, GPRS, MMS, Partial VAS usage (as per IN medication CDR consider) and GRPS recharge, bundle recharge.\r\u0007\r\u0007   ( Disconnection\r\u0007N/A\r\u0007Latest data up to report maturity date\r\u0007\r\u0007   ( Product\r\u0007N/A\r\u0007Any connections except Data SIM (MMSTDATA) and EV SIM. \r\u0007\r\u0007   ( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007  ( ( Other:‚Ä¶‚Ä¶‚Ä¶‚Ä¶.\r\u0007i-top up\r\u0007\r\u0007\r\u0007Other Remarks:\r\r\u0007\r\u0007Input Data Source: \rSales Support :       ( Target               ( Channel Mapping       ( Issue Detail        ( Other‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\rIT                    :    (( IT SC                ( IT BI           ( DWH         ( TABS           ( Other: EV Platform\rOther               :    ( ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:  1 ‚Äì Mar -2025      \r\r\u0007Report Published Date:  As per Tracker\r\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r\r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\u0007\r\u0007\rApproval:\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r", "sql": "--------------------------------- REPORT HELPER QUERY -----------------------------------------\n----- STEP 1: VERIFY SUPPORTING DATA & THIS TABLE IS ALREADY EXISTING, NO NEED TO CREATE FURTHER  \nSELECT * FROM TEMP_FOR_MYBL_RPOT_16_31_MAR25;-- 57  Rows; --# SUPPORTING DATA FROM SRF UPLOADED IN THIS TABLE --#\n--DROP TABLE TEMP_FOR_MYBL_RPOT_16_31_MAR25 PURGE;\nSELECT * FROM MY_BL_POT_RECHARGE_MONTHLY_31MAR25;-- 53701375  Rows --# THIS TABLE IS TEMP TABLE FOR EV RECHARGE TABLE FOR MAR 25 AS THE EV RECHAGE TABLE IS VERY BIG --#\n\nSELECT * FROM TEMP_FOR_DET2_MYBL_POT16_31MAR25; -- 37747  Rows --# THIS IS 2ND DETAILS TABLE FOR MYBL PORTONICS REGULAR WHERE WE KEEP FLAG WISE DATA --#\nSELECT * FROM TEMP_FOR_DET1_MYBL_POT16_31MAR25; --- 18  Rows --# THIS IS 1ST DETAILS TABLE FOR MYBL PORTONICS REGULAR, COMMISSION AMOUNT IS CALCULATED IN THIS TABLE --#\nSELECT SUM(COMMISSION_AMOUNT) FROM TEMP_FOR_DET1_MYBL_POT16_31MAR25;-- 1464765.1 TK\n\n----- STEP 2: COMMISSION CALCULATION QUERY START\n\n--DROP TABLE TEMP_FOR_DET2_MYBL_POT16_31MAR25 PURGE;\n--CREATE TABLE TEMP_FOR_DET2_MYBL_POT16_31MAR25 AS --# THIS IS 2ND DETAILS TABLE FOR MYBL PORTONICS REGULAR WHERE WE KEEP FLAG WISE DATA --#\n--DROP TABLE TEMP_FOR_DET1_MYBL_POT16_31MAR25 PURGE;\n--CREATE TABLE TEMP_FOR_DET1_MYBL_POT16_31MAR25 AS --# THIS IS 1ST DETAILS TABLE FOR MYBL PORTONICS REGULAR, COMMISSION AMOUNT IS CALCULATED IN THIS TABLE --#\nWITH RECHARGE_DETAIL AS\n(\nSELECT /*+ PARALLEL(10)*/ DISTINCT 'Online' DD_CODE,ID, RETAILER_MSISDN RET_MSISDN,RECHARGE_AMOUNT,COMMISSION,TOP_UP_DATE\nFROM MY_BL_POT_RECHARGE_MONTHLY_31MAR25 EV \nINNER JOIN TEMP_FOR_MYBL_RPOT_16_31_MAR25 DL ON RECHARGE_AMOUNT = DENO \nAND TRUNC(TOP_UP_DATE) BETWEEN TRUNC(START_DATE) AND TRUNC(END_DATE)\nWHERE RETAILER_MSISDN IN('01953348398') --# THIS LOGIC IS FOR THE BELOW SRF CONDITION  --#\n--#\n--7.\tRecharge (retailer to subscriber) must be done from below list of retailer EV MSISDN:\n--    CHANNEL_TYPE\tPARTNER_NAMES\tRETAILER_MSISDN\n--    Online\tPortonics\t01953348398\n--#\nAND (COMMISSION_FLAG IS NULL OR COMMISSION_FLAG='REGULAR') --#  THIS LOGIC IS FOR THE 4TH SRF CONDITION (4.Regular campaigns will get 4th highest priority. Transactions of segmented, hourly and special day campaigns will not be considered here) --#\n)\nSELECT * FROM RECHARGE_DETAIL;-- 37747  Rows; --# CREATE THE 2ND DETAILS TABLE FROM HERE (TEMP_FOR_DET2_MYBL_POT16_31MAR25) --#\n,RETAILER_WISE_HIT_COUNT AS (\n    SELECT /*+ PARALLEL(10)*/ DD_CODE,RET_MSISDN, RECHARGE_AMOUNT,SUM(COMMISSION) COMMISSION_AMOUNT, COUNT(1) HIT,COUNT(1)*RECHARGE_AMOUNT TOTAL_RECHARGE\n    FROM RECHARGE_DETAIL\n    GROUP BY DD_CODE,RET_MSISDN, RECHARGE_AMOUNT\n)\nSELECT * FROM RETAILER_WISE_HIT_COUNT;  -- 18  Rows; --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DET1_MYBL_POT16_31MAR25) --#\nSELECT DD_CODE, SUM(RECHARGE_AMOUNT*HIT) TOTAL_RECHARGE, SUM(COMMISSION_AMOUNT)  COMMISSION_AMOUNT\nFROM RETAILER_WISE_HIT_COUNT\nGROUP BY DD_CODE; -- 1009063.91 TK Total Recharge and Commission Amount\n\n--STEP 3: OVERLOOKING CREATED TABLE DATA\nSELECT * FROM TEMP_FOR_DET1_MYBL_POT16_31MAR25; --- 18  Rows\nSELECT SUM(COMMISSION_AMOUNT) FROM TEMP_FOR_DET1_MYBL_POT16_31MAR25;-- 1464765.1 TK\n\n--STEP 4: MERGE TEMP TABLE OF RECHARGE DATA USING 2ND DETAILS TABLE FOR SEPERATING CAMPAIGN WISE TRANSACTIONS\nMERGE INTO MY_BL_POT_RECHARGE_MONTHLY_31MAR25  T\nUSING TEMP_FOR_DET2_MYBL_POT16_31MAR25 S\nON (T.ID=S.ID)\nWHEN MATCHED THEN\n    UPDATE SET T.COMMISSION_FLAG='REGULAR',\n    T.COMMISSION_AMOUNT = S.COMMISSION;\nCOMMIT;\n\nSELECT COMMISSION_FLAG, COUNT(1),SUM(COMMISSION_AMOUNT) FROM MY_BL_POT_RECHARGE_MONTHLY_31MAR25  GROUP BY COMMISSION_FLAG;\n-- Sample output:\n-- \"REGULAR\"     | 37,747   | 1,464,765.1\n-- \"SPECIAL_DAY\" | X,XXX    | XXX,XXX.XX\n-- \"HOURLY\"      | X,XXX    | XXX,XXX.XX\n\n--------------------------------- REPORT SETUP QUERY -----------------------------------------\n\n--STEP 5: PREPARE FOR REPORT PUBLISHING\n--REPORT_ID : 0011 (UPDATE WITH ACTUAL REPORT ID)\nSELECT REPORTID REPORT_ID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Commission for MyBL_Portonics_16th Mar25 to 31st Mar25';\n--BASE_CYCLE_ID : 0022 (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID BASE_CYCLE_ID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Mar_25';  --# BASE_CYCLE(REPORT_MONTH) -- commission end date (BASE_CYCLE/REPORT_MONTH): 31-Mar-2025 ? 'Mar_25' --#\n--REPORT_CYCLE_ID : 0033 (UPDATE WITH ACTUAL REPORT CYCLE ID)\nSELECT REPORT_CYCLE_ID,* FROM COMMISSIONCYCLEREPORTS where REPORTID = 0011 and  CYCLEID = 0022; \n\n--CHECK ADHOC TABLE DATA\nSELECT * FROM ad_hoc_data where REPORT_CYCLE_ID = 0033;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 0033;\n--commit;\n\n--INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT,AMOUNT_TYPE_ID,AMOUNT)\nSELECT AD_HOC_DATA_ID.NEXTVAL ID, 0033 REPORT_CYCLE_ID, DD_CODE, COMMISSION_AMOUNT,1,TOTAL_RECHARGE\nFROM (\nSELECT DD_CODE, SUM(RECHARGE_AMOUNT*HIT) TOTAL_RECHARGE, SUM(COMMISSION_AMOUNT)  COMMISSION_AMOUNT\nFROM TEMP_FOR_DET1_MYBL_POT16_31MAR25\nGROUP BY DD_CODE\n);\ncommit;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 0033; --  1464765.1  \n\n--PURLISH_CYCLE_ID : 0044 (UPDATE WITH ACTUAL PURLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jun_25 if today = 30-Jun-2025) --#\nSELECT CYCLEID PURLISH_CYCLE_ID FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Apr_25'; --PURLISH_CYCLE(REPORT_PUBLISH_MONTH)\n\n\n--STEP 6: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--# PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PURLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>); --#\nEXEC PROC_COMMISSION_DETAIL_SETUP('Commission for MyBL_Portonics_16th Mar25 to 31st Mar25',0044,'TEMP_FOR_DET1_MYBL_POT16_31MAR25','Deno Details');\n\n\n--STEP 7: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Commission for MyBL_Portonics_16th Mar25 to 31st Mar25', 0033,'Mar_25', 'Apr_25',290, 1); --# FOLLOW THE BASE_CYCLE & PUBLISH_CYCLE SPECIAL INSTRUCTION HERE ALSO --#\n"}
{"srf": "                      Service Request Number: 2016/0000\r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Sohanur Rahman Sumon\r\u0007\r\u0007Requesting Department: Digital Distribution \r\u0007Date: 27 ‚Äì March - 2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency                  :\r\u0007( Daily\t            ( Weekly\t       ( Monthly    (( Others: 1 March‚Äô25‚Äì31March‚Äô25 Feb‚Äô25\r\u0007\r\u0007Product Type Name    :\r\u0007( Prepaid         ( Postpaid  ( ( Others: All service class equal or above  1000\r\u0007\r\u0007Recipient Type           :\r\u0007( Retailer ( Distributor  ( Field Force: (( Others: BL Self Care Channel (MYBL Channel)\r\u0007\r\u0007Recipient Description  : \r\u0007 ( SIM seller      (( top-up seller        ( Others: \r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Report Sharing Slot    :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title:  Commission for MyBL_Portonics_1st Mar25 to 31st Mar25_Postpaid\r\u0007\r\u0007Report Description:  BL-Self channel (MyBL) will receive deno and date specific commission as below- 337, 494, 794, 599, 499, 199, 998,\r\u0007\r\u0007        ( Effective Date: 1-March-2025        ( End Date: 31st-March-2025     \r\u0007\r\u0007Detail & Conditions: \rBL-Self channel (MyBL) will receive deno and date specific 337, 494, 794, 599, 499, 199, 998, as per below table:\r\rStart Date\r\u0007End Date\r\u0007Deno\r\u0007Cashback\r\u0007\r\u00071st March\r\u000722nd March\r\u0007118\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007169\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007229\r\u000738.89\r\u0007\r\u0007\r\u0007\r\u0007549\r\u000777.78\r\u0007\r\u0007\r\u0007\r\u0007649\r\u0007144.44\r\u0007\r\u0007\r\u0007\r\u0007157\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007227\r\u000727.78\r\u0007\r\u0007\r\u0007\r\u0007397\r\u000755.56\r\u0007\r\u0007\r\u0007\r\u0007497\r\u000783.33\r\u0007\r\u0007\r\u0007\r\u0007184\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007348\r\u000733.33\r\u0007\r\u0007\r\u0007\r\u0007548\r\u0007133.33\r\u0007\r\u0007\r\u0007\r\u0007794\r\u0007222.22\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007277.78\r\u0007\r\u0007Start Date\r\u0007End Date\r\u0007Deno\r\u0007Cashback\r\u0007\r\u000723rd March\r\u000731st March\r\u0007118\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007169\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007229\r\u000738.89\r\u0007\r\u0007\r\u0007\r\u0007549\r\u000777.78\r\u0007\r\u0007\r\u0007\r\u0007649\r\u0007144.44\r\u0007\r\u0007\r\u0007\r\u0007157\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007227\r\u000727.78\r\u0007\r\u0007\r\u0007\r\u0007397\r\u000755.56\r\u0007\r\u0007\r\u0007\r\u0007497\r\u000783.33\r\u0007\r\u0007\r\u0007\r\u0007184\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007348\r\u000733.33\r\u0007\r\u0007\r\u0007\r\u0007548\r\u0007133.33\r\u0007\r\u0007\r\u0007\r\u0007794\r\u0007222.22\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007277.78\r\u0007\r\u0007\r\u0007\r\u0007599\r\u000777.78\r\u0007\r\u0007\r\u0007\r\u0007777\r\u0007133.33\r\u0007\r\u0007\r\r\rConditions:\rI-top sales mean sales to end customer not lifting.\rCustomers can get cashback multiple times during the campaign period\rRegular campaigns will get lowest priority. Transactions of segmented, special day and hourly campaigns will not be considered here\rNeed separate cashback commission for each retailer MSISDN\rOnly MyBL App recharge will be considered \rRecharge (retailer to subscriber) must be done from below list of retailer EV MSISDN:\rCHANNEL_TYPE\r\u0007PARTNER_NAMES\r\u0007RETAILER_MSISDN\r\u0007\r\u0007Online\r\u0007BL Self-channels\r\u00071953348398\r\u0007\r\u0007Details format:\rRET_MSISDN\r\u0007RECHARGE_AMOUNT\r\u0007HIT\r\u0007TOTAL_RECHARGE\r\u0007COMMISSION_AMOUNT\r\u0007\r\u0007¬†\r\u0007¬†\r\u0007¬†\r\u0007¬†\r\u0007¬†\r\u0007\r\u0007\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù mark below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007  ( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007   ( SAF\r\u0007a) DMS Post Date\r\u00077 days within Activation \r\u0007\r\u0007\r\u0007b) Vetting Date\r\u000714th date of Activation following month\r\u0007\r\u0007   ( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007    (  ( Recharge\r\u0007All Valid Recharges\r\u0007(Considering the valid recharge. Valid recharge means ‚Äì EV/I-TOP)\r\u0007\r\u0007   ( Usage\r\u0007Valid Usage\r\u0007Any usage ‚Äì MOC, SMSMO, MTC, SMSMT, GPRS, MMS, Partial VAS usage (as per IN medication CDR consider) and GRPS recharge, bundle recharge.\r\u0007\r\u0007   ( Disconnection\r\u0007N/A\r\u0007Latest data up to report maturity date\r\u0007\r\u0007   ( Product\r\u0007N/A\r\u0007Any connections except Data SIM (MMSTDATA) and EV SIM. \r\u0007\r\u0007   ( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007  ( ( Other:‚Ä¶‚Ä¶‚Ä¶‚Ä¶.\r\u0007i-top up\r\u0007\r\u0007\r\u0007Other Remarks:\r\r\u0007\r\u0007Input Data Source: \rSales Support :       ( Target               ( Channel Mapping       ( Issue Detail        ( Other‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\rIT                    :    (( IT SC                ( IT BI           ( DWH         ( TABS           ( Other: EV Platform\rOther               :    ( ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:  1 -April -2025      \r\r\u0007Report Published Date:  As per Tracker\r\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r\r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\u0007\r\u0007\rApproval:\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r", "sql": "--------------------------------- REPORT HELPER QUERY -----------------------------------------\n----- STEP 1: VERIFY SUPPORTING DATA & THIS TABLE IS ALREADY EXISTING, NO NEED TO CREATE FURTHER \nSELECT * FROM TEMP_FOR_MYBL_SSL_REG_01_31_MAR25;--30  Rows; --# SUPPORTING DATA FROM SRF UPLOADED IN THIS TABLE --#\n--DROP TABLE MY_BL_POSTO_REC_MON_31MAR25 PURGE;\n\n--SELECT DISTINCT REFERENCE_ID FROM MY_BL_POSTO_REC_MON_31MAR25;--401643  Rows --# THIS TABLE IS TEMP TABLE FOR EV RECHARGE TABLE FOR MAR 25 AS THE EV RECHAGE TABLE IS VERY BIG --#\n\n----- STEP 2: COMMISSION CALCULATION QUERY START\nCREATE TABLE MY_BL_POSTO_REC_MON_31MAR25 AS\nSELECT MY_BL_RECHARGE_MONTHLY_SEQ.NEXTVAL ID, RETAILER_MSISDN, SUB_MSISDN, TOP_UP_DATE, TOP_UP_TIME,SERVICE_CLASS_ID, RECHARGE_AMOUNT, SERVICE_TYPE, REFERENCE_ID\nFROM EV_RECHARGE_COM_DAILY\nWHERE TOP_UP_DATE BETWEEN TRUNC(LAST_DAY(ADD_MONTHS(SYSDATE,-2)))+1 AND TRUNC(LAST_DAY(ADD_MONTHS(SYSDATE,-1)))\nand SERVICE_CLASS_ID >= 1000 --# THIS IS FOR Others: All service class equal or above  1000 SRF LOGIC --#\n;\n\nSELECT * FROM TEMP_FOR_DET2_MYBL_SSL_01_30NOV24;--478  Rows --# THIS IS 2ND DETAILS TABLE FOR MYBL PORTONICS POSTPAID WHERE WE KEEP FLAG WISE DATA --#\nSELECT * FROM TEMP_FOR_DET1_MYB_POR_01_31MAR25; --# THIS IS 1ST DETAILS TABLE FOR MYBL PORTONICS POSTPAID, COMMISSION AMOUNT IS CALCULATED IN THIS TABLE --#\n\n--DROP TABLE TEMP_FOR_DET2_MYBL_SSL_01_30NOV24 PURGE;\n--CREATE TABLE TEMP_FOR_DET2_MYBL_SSL_01_30NOV24 AS --# THIS IS 2ND DETAILS TABLE FOR MYBL PORTONICS POSTPAID WHERE WE KEEP FLAG WISE DATA --#\n--DROP TABLE TEMP_FOR_DET1_MYB_POR_01_31MAR25 PURGE;\nCREATE TABLE TEMP_FOR_DET1_MYB_POR_01_31MAR25 AS --# THIS IS 1ST DETAILS TABLE FOR MYBL PORTONICS POSTPAID, COMMISSION AMOUNT IS CALCULATED IN THIS TABLE --#\nWITH RECHARGE_DETAIL AS\n(\nSELECT /*+ PARALLEL(10)*/ DISTINCT 'Online' DD_CODE,ID, RETAILER_MSISDN RET_MSISDN,RECHARGE_AMOUNT,COMMISSION,TOP_UP_DATE\nFROM MY_BL_POSTO_REC_MON_31MAR25 EV \nINNER JOIN TEMP_FOR_MYBL_SSL_REG_01_31_MAR25 DL ON RECHARGE_AMOUNT = DENO \nAND TRUNC(TOP_UP_DATE) BETWEEN TRUNC(START_DATE) AND TRUNC(END_DATE)\nWHERE RETAILER_MSISDN='01953348398' --# THIS LOGIC IS FOR THE BELOW SRF CONDITION --#\n--#\n--7.\tRecharge (retailer to subscriber) must be done from below list of retailer EV MSISDN:\n--     CHANNEL_TYPE\tPARTNER_NAMES\tRETAILER_MSISDN\n--     Online\tPortonics\t01953348398\n--#\n)\n--SELECT * FROM RECHARGE_DETAIL;--665  Rows; --# CREATE THE 2ND DETAILS TABLE FROM HERE (TEMP_FOR_DET2_MYBL_SSL_01_30NOV24) --#\n,RETAILER_WISE_HIT_COUNT AS (\n    SELECT /*+ PARALLEL(10)*/ DD_CODE,RET_MSISDN, RECHARGE_AMOUNT, COUNT(1) HIT,COUNT(1)*RECHARGE_AMOUNT TOTAL_RECHARGE,SUM(COMMISSION) COMMISSION_AMOUNT\n    FROM RECHARGE_DETAIL\n    GROUP BY DD_CODE,RET_MSISDN, RECHARGE_AMOUNT\n)\nSELECT * FROM RETAILER_WISE_HIT_COUNT;  -- 4  Rows; --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DET1_MYB_POR_01_31MAR25) --#\nSELECT DD_CODE, SUM(RECHARGE_AMOUNT*HIT) TOTAL_RECHARGE, SUM(COMMISSION_AMOUNT)  COMMISSION_AMOUNT\nFROM RETAILER_WISE_HIT_COUNT\nGROUP BY DD_CODE; --34230.01 TK Total Recharge and Commission Amount\n\n--STEP 3: OVERLOOKING CREATED TABLE DATA\nSELECT * FROM TEMP_FOR_DET1_MYB_POR_01_31MAR25;--16  Rows\nSELECT SUM(COMMISSION_AMOUNT) FROM TEMP_FOR_DET1_MYB_POR_01_31MAR25;--245790.83 TK\n\n--------------------------------- REPORT SETUP QUERY -----------------------------------------\n\n--STEP 5: PREPARE FOR REPORT PUBLISHING\n--REPORT_ID : 0011 (UPDATE WITH ACTUAL REPORT ID)\nSELECT REPORTID REPORT_ID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Commission for MyBL_Portonics_1st Mar25 to 31st Mar25_Postpaid';\n--BASE_CYCLE_ID : 0022 (UPDATE WITH ACTUAL BASE CYCLE ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID BASE_CYCLE_ID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Mar_25'; --# BASE_CYCLE(REPORT_MONTH) -- commission end date (BASE_CYCLE/REPORT_MONTH): 31-Mar-2025 ? 'Mar_25' --#\n--REPORT_CYCLE_ID : 0033 (UPDATE WITH ACTUAL REPORT CYCLE ID)\nSELECT REPORT_CYCLE_ID,* FROM COMMISSIONCYCLEREPORTS where REPORTID = 0011 and  CYCLEID = 0022; \n\n--CHECK ADHOC TABLE DATA\nSELECT * FROM ad_hoc_data where REPORT_CYCLE_ID = 0033;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 0033;\n--commit;\n\n--INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT,AMOUNT_TYPE_ID,AMOUNT)\nSELECT AD_HOC_DATA_ID.NEXTVAL ID, 0033 REPORT_CYCLE_ID, DD_CODE, COMMISSION_AMOUNT,1,TOTAL_RECHARGE\nFROM (\nSELECT DD_CODE, SUM(RECHARGE_AMOUNT*HIT) TOTAL_RECHARGE, SUM(COMMISSION_AMOUNT)  COMMISSION_AMOUNT\nFROM TEMP_FOR_DET1_MYB_POR_01_31MAR25\nGROUP BY DD_CODE\n);\ncommit;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 0033; --  245790.83  \n\n--PURLISH_CYCLE_ID : 0044 (UPDATE WITH ACTUAL PURLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jun_25 if today = 30-Jun-2025) --#\nSELECT CYCLEID PURLISH_CYCLE_ID FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Apr_25'; --PURLISH_CYCLE(REPORT_PUBLISH_MONTH)\n\n\n--STEP 6: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--# PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PURLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>); --#\nEXEC PROC_COMMISSION_DETAIL_SETUP('Commission for MyBL_Portonics_1st Mar25 to 31st Mar25_Postpaid',0044,'TEMP_FOR_DET1_MYB_POR_01_31MAR25','Deno Details');\n\n\n--STEP 7: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Commission for MyBL_Portonics_1st Mar25 to 31st Mar25_Postpaid', 0033,'Mar_25', 'Apr_25',290, 1); --# FOLLOW THE BASE_CYCLE & PUBLISH_CYCLE SPECIAL INSTRUCTION HERE ALSO --#\n"}
{"srf": "                      Service Request Number: 2016/0000\r(This number will be placed consulting with IT. Later it will be used as a common number for all stakeholders)\rRequester Details:\r\u0007\r\u0007Requester Name: Sohanur Rahman Sumon\r\u0007\r\u0007Requesting Department: Digital Distribution \r\u0007Date: 27 ‚Äì March - 2025\r\r\u0007\r\u0007Request Details:\r\u0007\r\u0007Type\t\t       :\r\u0007(( New Report\t ( Change in Report  ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007Priority\t\t       :\r\u0007(( High\t\t ( Medium\t       ( Low\r\u0007\r\u0007Periodicity \t       :\r\r\u0007(( Ad-hoc\t ( Regular\r\r\u0007\r\u0007Frequency                  :\r\u0007( Daily\t            ( Weekly\t       ( Monthly    (( Others: 1 March‚Äô25‚Äì31March‚Äô25\r\u0007\r\u0007Product Type Name    :\r\u0007( Prepaid         ( Postpaid    (  ( Others: All service class equal or above  1000\r\u0007\r\u0007Recipient Type           :\r\u0007( Retailer ( Distributor  ( Field Force: (( Others: BL Self Care Channel (MYBL Channel)\r\u0007\r\u0007Recipient Description  : \r\u0007 ( SIM seller      (( top-up seller        ( Others: \r\u0007\r\u0007Details Requirement\r\u0007(( Yes\r\u0007\r\u0007Report Sharing Slot    :\r\u0007(( Disbursement (  Provision            ( Others: ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\r\u0007\r\u0007((((\r\u0007\r\u0007Report Title:  Commission for MyBL_SSL_1st Mar25 to 31st Mar25_Postpaid\r\u0007\r\u0007Report Description:  BL-Self channel (MyBL) will receive deno and date specific commission as below- 337, 494, 794, 599, 499, 199, 998,\r\u0007\r\u0007        ( Effective Date: 1-March-2025       ( End Date: 31st-March-2025\r\u0007\r\u0007Detail & Conditions: \rBL-Self channel (MyBL) will receive deno and date specific commission 337, 494, 794, 599, 499, 199, 998, as per below table:\r\rStart Date\r\u0007End Date\r\u0007Deno\r\u0007Cashback\r\u0007\r\u00071st March\r\u000722nd March\r\u0007118\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007169\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007229\r\u000738.89\r\u0007\r\u0007\r\u0007\r\u0007549\r\u000777.78\r\u0007\r\u0007\r\u0007\r\u0007649\r\u0007144.44\r\u0007\r\u0007\r\u0007\r\u0007157\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007227\r\u000727.78\r\u0007\r\u0007\r\u0007\r\u0007397\r\u000755.56\r\u0007\r\u0007\r\u0007\r\u0007497\r\u000783.33\r\u0007\r\u0007\r\u0007\r\u0007184\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007348\r\u000733.33\r\u0007\r\u0007\r\u0007\r\u0007548\r\u0007133.33\r\u0007\r\u0007\r\u0007\r\u0007794\r\u0007222.22\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007277.78\r\u0007\r\u0007\rStart Date\r\u0007End Date\r\u0007Deno\r\u0007Cashback\r\u0007\r\u000723rd March\r\u000731st March\r\u0007118\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007169\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007229\r\u000738.89\r\u0007\r\u0007\r\u0007\r\u0007549\r\u000777.78\r\u0007\r\u0007\r\u0007\r\u0007649\r\u0007144.44\r\u0007\r\u0007\r\u0007\r\u0007157\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007227\r\u000727.78\r\u0007\r\u0007\r\u0007\r\u0007397\r\u000755.56\r\u0007\r\u0007\r\u0007\r\u0007497\r\u000783.33\r\u0007\r\u0007\r\u0007\r\u0007184\r\u000711.11\r\u0007\r\u0007\r\u0007\r\u0007348\r\u000733.33\r\u0007\r\u0007\r\u0007\r\u0007548\r\u0007133.33\r\u0007\r\u0007\r\u0007\r\u0007794\r\u0007222.22\r\u0007\r\u0007\r\u0007\r\u0007998\r\u0007277.78\r\u0007\r\u0007\r\u0007\r\u0007599\r\u000777.78\r\u0007\r\u0007\r\u0007\r\u0007777\r\u0007133.33\r\u0007\r\u0007\r\r\rConditions:\rI-top sales mean sales to end customer not lifting.\rCustomers can get cashback multiple times during the campaign period\rRegular campaigns will get lowest priority. Transactions of segmented, special day and hourly campaigns will not be considered here\rNeed separate cashback commission for each retailer MSISDN\rOnly MyBL App recharge will be considered \rFor 01967021235, first 5 character of Reference Id will be ‚ÄòBLAPP‚Äô (example: ‚ÄòBLAPPXXXXXXXXXX‚Äô)\rRecharge (retailer to subscriber) must be done from below list of retailer EV MSISDN:\rCHANNEL_TYPE\r\u0007PARTNER_NAMES\r\u0007RETAILER_MSISDN\r\u0007\r\u0007Online\r\u0007BL Self-channels\r\u00071967021235\r\u0007\r\u0007Details format:\rRET_MSISDN\r\u0007RECHARGE_AMOUNT\r\u0007HIT\r\u0007TOTAL_RECHARGE\r\u0007COMMISSION_AMOUNT\r\u0007\r\u0007¬†\r\u0007¬†\r\u0007¬†\r\u0007¬†\r\u0007¬†\r\u0007\r\u0007\r\u0007\r\u0007General Conditions:\r\u0007\r\u0007Factor(s) Name \r(Please provide ‚Äú‚àö‚Äù mark below)\r\u0007Considerations\r\u0007Conditions\r(Please specify below)\r\u0007\r\u0007  ( Activation\r\u0007( FAD \r(First Activity Date)\r\u0007Activation During the Promotion Period\r\u0007\r\u0007\r\u0007( FCD \r(First Call Date)\r\u0007\r\u0007\r\u0007\r\u0007( TABS \r\u0007\r\u0007\r\u0007   ( SAF\r\u0007a) DMS Post Date\r\u00077 days within Activation \r\u0007\r\u0007\r\u0007b) Vetting Date\r\u000714th date of Activation following month\r\u0007\r\u0007   ( Lifting/Issue\r\u0007N/A\r\u0007Needs to be activated within 180 days of lifting\r\u0007\r\u0007    (  ( Recharge\r\u0007All Valid Recharges\r\u0007(Considering the valid recharge. Valid recharge means ‚Äì EV/I-TOP)\r\u0007\r\u0007   ( Usage\r\u0007Valid Usage\r\u0007Any usage ‚Äì MOC, SMSMO, MTC, SMSMT, GPRS, MMS, Partial VAS usage (as per IN medication CDR consider) and GRPS recharge, bundle recharge.\r\u0007\r\u0007   ( Disconnection\r\u0007N/A\r\u0007Latest data up to report maturity date\r\u0007\r\u0007   ( Product\r\u0007N/A\r\u0007Any connections except Data SIM (MMSTDATA) and EV SIM. \r\u0007\r\u0007   ( Reactivation\r\u0007\r\u0007\r\u0007\r\u0007  ( ( Other:‚Ä¶‚Ä¶‚Ä¶‚Ä¶.\r\u0007i-top up\r\u0007\r\u0007\r\u0007Other Remarks:\r\r\u0007\r\u0007Input Data Source: \rSales Support :       ( Target               ( Channel Mapping       ( Issue Detail        ( Other‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶\rIT                    :    (( IT SC                ( IT BI           ( DWH         ( TABS           ( Other: EV Platform\rOther               :    ( ( DMS                 ( ( POS\rTechnical         :   ( IN House           ( Other‚Ä¶‚Ä¶.\r\u0007\r\u0007Maturity Date for Data:  1 -April -2025      \r\r\u0007Report Published Date:  As per Tracker\r\r\u0007\r\u0007Report Example: (Detail example with calculation and formula, if applicable)\r\r\r\u0007\r\u0007Input data Source Readiness date: (specify the date of all input data sharing from relevant team to IT SC)\r\u0007\r\u0007\rApproval:\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Requester\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Requester Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Executive\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007IT Manager\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rIT Record (IT Internal Use Only)\r\r\u0007Name\r\u0007Date\r\u0007Signature\r\u0007\r\u0007Developer\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007Verifier\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\rDelivery Date\r\u0007\r\u0007\r\u0007\r\u0007\r\u0007\r", "sql": "--------------------------------- REPORT HELPER QUERY -----------------------------------------\n----- STEP 1: VERIFY SUPPORTING DATA & THIS TABLE IS ALREADY EXISTING, NO NEED TO CREATE FURTHER \nSELECT * FROM TEMP_FOR_MYBL_SSL_REG_01_31_MAR25;--30  Rows; --# SUPPORTING DATA FROM SRF UPLOADED IN THIS TABLE --#\n--DROP TABLE MY_BL_POSTO_REC_MON_31MAR25 PURGE;\n\n--SELECT DISTINCT REFERENCE_ID FROM MY_BL_POSTO_REC_MON_31MAR25;--401643  Rows --# THIS TABLE IS TEMP TABLE FOR EV RECHARGE TABLE FOR MAR 25 AS THE EV RECHAGE TABLE IS VERY BIG --#\n\n----- STEP 2: COMMISSION CALCULATION QUERY START\nCREATE TABLE MY_BL_POSTO_REC_MON_31MAR25 AS\nSELECT MY_BL_RECHARGE_MONTHLY_SEQ.NEXTVAL ID, RETAILER_MSISDN, SUB_MSISDN, TOP_UP_DATE, TOP_UP_TIME,SERVICE_CLASS_ID, RECHARGE_AMOUNT, SERVICE_TYPE, REFERENCE_ID\nFROM EV_RECHARGE_COM_DAILY\nWHERE TOP_UP_DATE BETWEEN TRUNC(LAST_DAY(ADD_MONTHS(SYSDATE,-2)))+1 AND TRUNC(LAST_DAY(ADD_MONTHS(SYSDATE,-1)))\nand SERVICE_CLASS_ID >= 1000 --# THIS IS FOR Others: All service class equal or above  1000 SRF LOGIC --#\n;\n\nSELECT * FROM TEMP_FOR_DET2_MYBL_SSL_01_30NOV24;--478  Rows --# THIS IS 2ND DETAILS TABLE FOR MYBL SSL POSTPAID WHERE WE KEEP FLAG WISE DATA --#\nSELECT * FROM TEMP_FOR_DET1_MYB_SSLL_01_31MAR25; --# THIS IS 1ST DETAILS TABLE FOR MYBL SSL POSTPAID, COMMISSION AMOUNT IS CALCULATED IN THIS TABLE --#\n\n--DROP TABLE TEMP_FOR_DET2_MYBL_SSL_01_30NOV24 PURGE;\n--CREATE TABLE TEMP_FOR_DET2_MYBL_SSL_01_30NOV24 AS --# THIS IS 2ND DETAILS TABLE FOR MYBL SSL POSTPAID WHERE WE KEEP FLAG WISE DATA --#\n--DROP TABLE TEMP_FOR_DET1_MYB_SSLL_01_31MAR25 PURGE;\nCREATE TABLE TEMP_FOR_DET1_MYB_SSLL_01_31MAR25 AS --# THIS IS 1ST DETAILS TABLE FOR MYBL SSL POSTPAID, COMMISSION AMOUNT IS CALCULATED IN THIS TABLE --#\nWITH RECHARGE_DETAIL AS\n(\nSELECT /*+ PARALLEL(10)*/ DISTINCT 'Online' DD_CODE,ID, RETAILER_MSISDN RET_MSISDN,RECHARGE_AMOUNT,COMMISSION,TOP_UP_DATE\nFROM MY_BL_POSTO_REC_MON_31MAR25 EV \nINNER JOIN TEMP_FOR_MYBL_SSL_REG_01_31_MAR25 DL ON RECHARGE_AMOUNT = DENO \nAND TRUNC(TOP_UP_DATE) BETWEEN TRUNC(START_DATE) AND TRUNC(END_DATE)\nWHERE RETAILER_MSISDN='01967021235' AND REFERENCE_ID LIKE 'BLAPP%' --# THIS LOGIC IS FOR THE BELOW SRF CONDITION  --#\n--#\n--7.\tRecharge (retailer to subscriber) must be done from below list of retailer EV MSISDN:\n--    CHANNEL_TYPE\tPARTNER_NAMES\tRETAILER_MSISDN\n--    Online\tBL Self-channels\t01967021235\n--#\n)\n--SELECT * FROM RECHARGE_DETAIL;--665  Rows; --# CREATE THE 2ND DETAILS TABLE FROM HERE (TEMP_FOR_DET2_MYBL_SSL_01_30NOV24) --#\n,RETAILER_WISE_HIT_COUNT AS (\n    SELECT /*+ PARALLEL(10)*/ DD_CODE,RET_MSISDN, RECHARGE_AMOUNT, COUNT(1) HIT,COUNT(1)*RECHARGE_AMOUNT TOTAL_RECHARGE,SUM(COMMISSION) COMMISSION_AMOUNT\n    FROM RECHARGE_DETAIL\n    GROUP BY DD_CODE,RET_MSISDN, RECHARGE_AMOUNT\n)\nSELECT * FROM RETAILER_WISE_HIT_COUNT;  -- 4  Rows; --# CREATE THE 1ST DETAILS TABLE FROM HERE (TEMP_FOR_DET1_MYB_SSLL_01_31MAR25) --#\nSELECT DD_CODE, SUM(RECHARGE_AMOUNT*HIT) TOTAL_RECHARGE, SUM(COMMISSION_AMOUNT)  COMMISSION_AMOUNT\nFROM RETAILER_WISE_HIT_COUNT\nGROUP BY DD_CODE; --34230.01 TK Total Recharge and Commission Amount\n\n--STEP 3: OVERLOOKING CREATED TABLE DATA\nSELECT * FROM TEMP_FOR_DET1_MYB_SSLL_01_31MAR25;\nSELECT SUM(COMMISSION_AMOUNT) FROM TEMP_FOR_DET1_MYB_SSLL_01_31MAR25;--128603.72 TK\n\n--------------------------------- REPORT SETUP QUERY -----------------------------------------\n\n--STEP 5: PREPARE FOR REPORT PUBLISHING\n--REPORT_ID : 0011 (UPDATE WITH ACTUAL REPORT ID)\nSELECT REPORTID REPORT_ID FROM COMMISSIONREPORT WHERE REPORTNAME = 'Commission for MyBL_SSL_1st Mar25 to 31st Mar25_Postpaid';\n--BASE_CYCLE_ID : 0022 (UPDATE WITH ACTUAL REPORT ID)\n--# SPECIAL INSTRUCTION : BASE_CYCLE = month of commission END DATE (Mar_25) --#\nSELECT CYCLEID BASE_CYCLE_ID  FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Mar_25'; --# BASE_CYCLE(REPORT_MONTH) -- commission end date (BASE_CYCLE/REPORT_MONTH): 31-Mar-2025 ? 'Mar_25' --#\n--REPORT_CYCLE_ID : 0033 (UPDATE WITH ACTUAL REPORT CYCLE ID)\nSELECT REPORT_CYCLE_ID,* FROM COMMISSIONCYCLEREPORTS where REPORTID = 0011 and  CYCLEID = 0022; \n\n--CHECK ADHOC TABLE DATA\nSELECT * FROM ad_hoc_data where REPORT_CYCLE_ID = 0033;\n--delete from ad_hoc_data where REPORT_CYCLE_ID = 0033;\n--commit;\n\n--INSERT THE CHANNEL WISE CALCULATED COMMISSION DATA\nINSERT INTO AD_HOC_DATA (ID, REPORT_CYCLE_ID, CHANNEL_CODE,COMMISSION_AMOUNT,AMOUNT_TYPE_ID,AMOUNT)\nSELECT AD_HOC_DATA_ID.NEXTVAL ID, 0033 REPORT_CYCLE_ID, DD_CODE, COMMISSION_AMOUNT,1,TOTAL_RECHARGE\nFROM (\nSELECT DD_CODE, SUM(RECHARGE_AMOUNT*HIT) TOTAL_RECHARGE, SUM(COMMISSION_AMOUNT)  COMMISSION_AMOUNT\nFROM TEMP_FOR_DET1_MYB_SSLL_01_31MAR25\nGROUP BY DD_CODE\n);\ncommit;\n\n--CHECK SUM OF COMMISSION AMOUNT\nSELECT SUM(COMMISSION_AMOUNT) FROM ad_hoc_data where REPORT_CYCLE_ID = 0033; --  128603.72  \n\n--PURLISH_CYCLE_ID : 0044 (UPDATE WITH ACTUAL PURLISH CYCLE ID)\n--# SPECIAL INSTRUCTION : PUBLISH_CYCLE = current sysdate month (e.g. Jun_25 if today = 30-Jun-2025) --#\nSELECT CYCLEID PURLISH_CYCLE_ID FROM COMMISSIONCYCLE WHERE CYCLEDESCRIPTION = 'Apr_25'; --PURLISH_CYCLE(REPORT_PUBLISH_MONTH)\n\n\n--STEP 6: SET UP COMMISSION DETAILS IN COMMISSION PLATFORM\n--# PROC_COMMISSION_DETAIL_SETUP(<REPORT_TITLE>, <PURLISH_CYCLE_ID>, <DETAIL1>, <LEVEL1>, ..., <DETAIL9>, <LEVEL9>); --#\nEXEC PROC_COMMISSION_DETAIL_SETUP('Commission for MyBL_SSL_1st Mar25 to 31st Mar25_Postpaid',0044,'TEMP_FOR_DET1_MYB_SSLL_01_31MAR25','Deno Details');\n\n\n--STEP 7: FINALIZE AND PUBLISH COMMISSION REPORT\n--# FINALIZE_REPORT_ADHOC(<REPORT_NAME>, <REPORT_CYCLE_ID>, <BASE_CYCLE>, <PUBLISH_CYCLE>, <APPROVAL_FLOW_ID>, <PUBLISH_TYPE>) --#\nEXEC FINALIZE_REPORT_ADHOC('Commission for MyBL_SSL_1st Mar25 to 31st Mar25_Postpaid', 0033,'Mar_25', 'Apr_25',290, 1); --# FOLLOW THE BASE_CYCLE & PUBLISH_CYCLE SPECIAL INSTRUCTION HERE ALSO --#\n"}
